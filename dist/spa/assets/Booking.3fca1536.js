import{c as Ve,o as Ie,h,T as Fe,r as z,a as m,B as ya,g as ye,E as pa,L as Qe,J as Cl,M as ba,F as pt,N as dn,H as Dn,x as De,G as Qt,w as ce,O as Dl,i as _l,e as fn,P as Ml,p as ql,f as Sa,I as At,Q as kl,R as Vl,S as Al,U as Hl,K as Ce,V as tn,W as Hn,z as Le,y as Tn,C as _n,X as Nn,k as wa,Y as xa,Z as Ca,_ as Da,$ as _t,A as ht,a0 as _a,a1 as Tl,a2 as Ma,a3 as El,a4 as qa,a5 as ka,n as Ee,a6 as ot,t as it,s as Mt,q as zt,a7 as Pt,D as Va,u as vn,a8 as jn,a9 as Wn,v as Qn,aa as Aa,ab as Kn}from"./index.73fa644f.js";import{a as st,b as Ha,u as Ta,c as Ea,Q as Re}from"./QBtn.daec5a6c.js";import{R as Bl,b as Ba,d as mn,v as Fl,e as Il}from"./use-router-link.ce4c622e.js";import{g as Un,s as Zn,c as Ol,u as En,a as Ht,b as Tt,d as $l,e as zl,f as Pl,h as Fa,i as Ia,n as Xn,Q as Oa,j as $a,p as se,k as za}from"./format.18721f0a.js";import{h as _e,b as Rl,c as Yl,d as Pa}from"./render.1901941e.js";import{g as Ra,s as Ya,a as La}from"./scroll.8800a215.js";var Na=Ve({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let l=!1,o,a,u=null,s=null,f,w;function d(){o&&o(),o=null,l=!1,u!==null&&(clearTimeout(u),u=null),s!==null&&(clearTimeout(s),s=null),a!==void 0&&a.removeEventListener("transitionend",f),f=null}function y(V,p,T){p!==void 0&&(V.style.height=`${p}px`),V.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,l=!0,o=T}function M(V,p){V.style.overflowY=null,V.style.height=null,V.style.transition=null,d(),p!==w&&n(p)}function g(V,p){let T=0;a=V,l===!0?(d(),T=V.offsetHeight===V.scrollHeight?0:void 0):(w="hide",V.style.overflowY="hidden"),y(V,T,p),u=setTimeout(()=>{u=null,V.style.height=`${V.scrollHeight}px`,f=W=>{s=null,(Object(W)!==W||W.target===V)&&M(V,"show")},V.addEventListener("transitionend",f),s=setTimeout(f,e.duration*1.1)},100)}function C(V,p){let T;a=V,l===!0?d():(w="show",V.style.overflowY="hidden",T=V.scrollHeight),y(V,T,p),u=setTimeout(()=>{u=null,V.style.height=0,f=W=>{s=null,(Object(W)!==W||W.target===V)&&M(V,"hide")},V.addEventListener("transitionend",f),s=setTimeout(f,e.duration*1.1)},100)}return Ie(()=>{l===!0&&d()}),()=>h(Fe,{css:!1,appear:e.appear,onEnter:g,onLeave:C},t.default)}}),Ll=Ve({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:n}}=ye(),l=z(null),o=m(()=>e.stepper.modelValue===e.step.name),a=m(()=>{const p=e.step.disable;return p===!0||p===""}),u=m(()=>{const p=e.step.error;return p===!0||p===""}),s=m(()=>{const p=e.step.done;return a.value===!1&&(p===!0||p==="")}),f=m(()=>{const p=e.step.headerNav,T=p===!0||p===""||p===void 0;return a.value===!1&&e.stepper.headerNav&&T}),w=m(()=>e.step.prefix&&(o.value===!1||e.stepper.activeIcon==="none")&&(u.value===!1||e.stepper.errorIcon==="none")&&(s.value===!1||e.stepper.doneIcon==="none")),d=m(()=>{const p=e.step.icon||e.stepper.inactiveIcon;if(o.value===!0){const T=e.step.activeIcon||e.stepper.activeIcon;return T==="none"?p:T||n.iconSet.stepper.active}if(u.value===!0){const T=e.step.errorIcon||e.stepper.errorIcon;return T==="none"?p:T||n.iconSet.stepper.error}if(a.value===!1&&s.value===!0){const T=e.step.doneIcon||e.stepper.doneIcon;return T==="none"?p:T||n.iconSet.stepper.done}return p}),y=m(()=>{const p=u.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(o.value===!0){const T=e.step.activeColor||e.stepper.activeColor||e.step.color;return T!==void 0?T:p}return p!==void 0?p:a.value===!1&&s.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),M=m(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(y.value!==void 0?` text-${y.value}`:"")+(u.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(w.value===!0?"prefix":"icon"):"")+(o.value===!0?" q-stepper__tab--active":"")+(s.value===!0?" q-stepper__tab--done":"")+(f.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(a.value===!0?" q-stepper__tab--disabled":"")),g=m(()=>e.stepper.headerNav!==!0?!1:f.value);function C(){l.value!==null&&l.value.focus(),o.value===!1&&e.goToPanel(e.step.name)}function V(p){p.keyCode===13&&o.value===!1&&e.goToPanel(e.step.name)}return()=>{const p={class:M.value};f.value===!0&&(p.onClick=C,p.onKeyup=V,Object.assign(p,a.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const T=[h("div",{class:"q-focus-helper",tabindex:-1,ref:l}),h("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[h("span",{class:"row flex-center"},[w.value===!0?e.step.prefix:h(st,{name:d.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const W=[h("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&W.push(h("div",{class:"q-stepper__caption"},e.step.caption)),T.push(h("div",{class:"q-stepper__label q-stepper__line relative-position"},W))}return ya(h("div",p,T),[[Bl,g.value]])}}});function ja(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,l)=>{const o=parseFloat(n);o&&(t[l]=o)}),t}var Wa=pa({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:l}){if(l.mouse!==!0&&Qe.has.touch!==!0)return;const o=l.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:ja(n),direction:Un(l),noop:Cl,mouseStart(u){Zn(u,a)&&ba(u)&&(pt(a,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(u,!0))},touchStart(u){if(Zn(u,a)){const s=u.target;pt(a,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),a.start(u)}},start(u,s){Qe.is.firefox===!0&&dn(e,!0);const f=Dn(u);a.event={x:f.left,y:f.top,time:Date.now(),mouse:s===!0,dir:!1}},move(u){if(a.event===void 0)return;if(a.event.dir!==!1){De(u);return}const s=Date.now()-a.event.time;if(s===0)return;const f=Dn(u),w=f.left-a.event.x,d=Math.abs(w),y=f.top-a.event.y,M=Math.abs(y);if(a.event.mouse!==!0){if(d<a.sensitivity[1]&&M<a.sensitivity[1]){a.end(u);return}}else if(window.getSelection().toString()!==""){a.end(u);return}else if(d<a.sensitivity[2]&&M<a.sensitivity[2])return;const g=d/s,C=M/s;a.direction.vertical===!0&&d<M&&d<100&&C>a.sensitivity[0]&&(a.event.dir=y<0?"up":"down"),a.direction.horizontal===!0&&d>M&&M<100&&g>a.sensitivity[0]&&(a.event.dir=w<0?"left":"right"),a.direction.up===!0&&d<M&&y<0&&d<100&&C>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&d<M&&y>0&&d<100&&C>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&d>M&&w<0&&M<100&&g>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&d>M&&w>0&&M<100&&g>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(De(u),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ol(),a.styleCleanup=V=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const p=()=>{document.body.classList.remove("no-pointer-events--children")};V===!0?setTimeout(p,50):p()}),a.handler({evt:u,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:s,distance:{x:d,y:M}})):a.end(u)},end(u){a.event!==void 0&&(Qt(a,"temp"),Qe.is.firefox===!0&&dn(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),u!==void 0&&a.event.dir!==!1&&De(u),a.event=void 0)}};if(e.__qtouchswipe=a,l.mouse===!0){const u=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";pt(a,"main",[[e,"mousedown","mouseStart",`passive${u}`]])}Qe.has.touch===!0&&pt(a,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=Un(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Qt(t,"main"),Qt(t,"temp"),Qe.is.firefox===!0&&dn(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function Bn(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const Qa={name:{required:!0},disable:Boolean},Jn={setup(e,{slots:t}){return()=>h("div",{class:"q-panel scroll",role:"tabpanel"},_e(t.default))}},Ka={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ua=["update:modelValue","beforeTransition","transition"];function Za(){const{props:e,emit:t,proxy:n}=ye(),{getCache:l}=Bn(),{registerTimeout:o}=En();let a,u;const s=z(null),f={value:null};function w(R){const U=e.vertical===!0?"up":"left";N((n.$q.lang.rtl===!0?-1:1)*(R.direction===U?1:-1))}const d=m(()=>[[Wa,w,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),y=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),M=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),g=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),V=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),p=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ce(()=>e.modelValue,(R,U)=>{const G=x(R)===!0?$(R):-1;u!==!0&&L(G===-1?0:G<$(U)?-1:1),f.value!==G&&(f.value=G,t("beforeTransition",R,U),o(()=>{t("transition",R,U)},e.transitionDuration))});function T(){N(1)}function W(){N(-1)}function E(R){t("update:modelValue",R)}function x(R){return R!=null&&R!==""}function $(R){return a.findIndex(U=>U.props.name===R&&U.props.disable!==""&&U.props.disable!==!0)}function P(){return a.filter(R=>R.props.disable!==""&&R.props.disable!==!0)}function L(R){const U=R!==0&&e.animated===!0&&f.value!==-1?"q-transition--"+(R===-1?y.value:M.value):null;s.value!==U&&(s.value=U)}function N(R,U=f.value){let G=U+R;for(;G!==-1&&G<a.length;){const ee=a[G];if(ee!==void 0&&ee.props.disable!==""&&ee.props.disable!==!0){L(R),u=!0,t("update:modelValue",ee.props.name),setTimeout(()=>{u=!1});return}G+=R}e.infinite===!0&&a.length!==0&&U!==-1&&U!==a.length&&N(R,R===-1?a.length:-1)}function ae(){const R=$(e.modelValue);return f.value!==R&&(f.value=R),!0}function ve(){const R=x(e.modelValue)===!0&&ae()&&a[f.value];return e.keepAlive===!0?[h(Dl,V.value,[h(p.value===!0?l(C.value,()=>({...Jn,name:C.value})):Jn,{key:C.value,style:g.value},()=>R)])]:[h("div",{class:"q-panel scroll",style:g.value,key:C.value,role:"tabpanel"},[R])]}function J(){if(a.length!==0)return e.animated===!0?[h(Fe,{name:s.value},ve)]:ve()}function oe(R){return a=Ba(_e(R.default,[])).filter(U=>U.props!==null&&U.props.slot===void 0&&x(U.props.name)===!0),a.length}function de(){return a}return Object.assign(n,{next:T,previous:W,goTo:E}),{panelIndex:f,panelDirectives:d,updatePanelsList:oe,updatePanelIndex:ae,getPanelContent:J,getEnabledPanels:P,getPanels:de,isValidPanelName:x,keepAliveProps:V,needsUniqueKeepAliveWrapper:p,goToPanelByOffset:N,goToPanel:E,nextPanel:T,previousPanel:W}}function Nl(e){return h("div",{class:"q-stepper__step-content"},[h("div",{class:"q-stepper__step-inner"},_e(e.default))])}const Gn={setup(e,{slots:t}){return()=>Nl(t)}};var Rt=Ve({name:"QStep",props:{...Qa,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=ye(),o=_l(Ml,fn);if(o===fn)return console.error("QStep needs to be a child of QStepper"),fn;const{getCache:a}=Bn(),u=z(null),s=m(()=>o.value.modelValue===e.name),f=m(()=>l.platform.is.ios!==!0&&l.platform.is.chrome===!0||s.value!==!0||o.value.vertical!==!0?{}:{onScroll(y){const{target:M}=y;M.scrollTop>0&&(M.scrollTop=0),e.onScroll!==void 0&&n("scroll",y)}}),w=m(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function d(){const y=o.value.vertical;return y===!0&&o.value.keepAlive===!0?h(Dl,o.value.keepAliveProps.value,s.value===!0?[h(o.value.needsUniqueKeepAliveWrapper.value===!0?a(w.value,()=>({...Gn,name:w.value})):Gn,{key:w.value},t.default)]:void 0):y!==!0||s.value===!0?Nl(t):void 0}return()=>h("div",{ref:u,class:"q-stepper__step",role:"tabpanel",...f.value},o.value.vertical===!0?[h(Ll,{stepper:o.value,step:e,goToPanel:o.value.goToPanel}),o.value.animated===!0?h(Na,d):d()]:[d()])}});const Xa=/(-\w)/g;function Ja(e){const t={};for(const n in e){const l=n.replace(Xa,o=>o[1].toUpperCase());t[l]=e[n]}return t}var Ga=Ve({name:"QStepper",props:{...Ht,...Ka,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Ua,setup(e,{slots:t}){const n=ye(),l=Tt(e,n.proxy.$q),{updatePanelsList:o,isValidPanelName:a,updatePanelIndex:u,getPanelContent:s,getPanels:f,panelDirectives:w,goToPanel:d,keepAliveProps:y,needsUniqueKeepAliveWrapper:M}=Za();ql(Ml,m(()=>({goToPanel:d,keepAliveProps:y,needsUniqueKeepAliveWrapper:M,...e})));const g=m(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(l.value===!0?" q-stepper--dark q-dark":"")),C=m(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function V(){const p=_e(t.message,[]);if(e.vertical===!0){a(e.modelValue)&&u();const T=h("div",{class:"q-stepper__content"},_e(t.default));return p===void 0?[T]:p.concat(T)}return[h("div",{class:C.value},f().map(T=>{const W=Ja(T.props);return h(Ll,{key:W.name,stepper:e,step:W,goToPanel:d})})),p,Yl("div",{class:"q-stepper__content q-panel-parent"},s(),"cont",e.swipeable,()=>w.value)]}return()=>(o(t),h("div",{class:g.value},Rl(t.navigation,V())))}});let hn,Yt=0;const Se=new Array(256);for(let e=0;e<256;e++)Se[e]=(e+256).toString(16).substring(1);const eo=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),el=4096;function Mn(){(hn===void 0||Yt+16>el)&&(Yt=0,hn=eo(el));const e=Array.prototype.slice.call(hn,Yt,Yt+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Se[e[0]]+Se[e[1]]+Se[e[2]]+Se[e[3]]+"-"+Se[e[4]]+Se[e[5]]+"-"+Se[e[6]]+Se[e[7]]+"-"+Se[e[8]]+Se[e[9]]+"-"+Se[e[10]]+Se[e[11]]+Se[e[12]]+Se[e[13]]+Se[e[14]]+Se[e[15]]}function to(e){return e==null?null:e}function tl(e,t){return e==null?t===!0?`f_${Mn()}`:null:e}function no({getValue:e,required:t=!0}={}){if(Sa.value===!0){const n=e!==void 0?z(to(e())):z(null);return t===!0&&n.value===null&&At(()=>{n.value=`f_${Mn()}`}),e!==void 0&&ce(e,l=>{n.value=tl(l,t)}),n}return e!==void 0?m(()=>tl(e(),t)):z(`f_${Mn()}`)}const nl=/^on[A-Z]/;function lo(){const{attrs:e,vnode:t}=ye(),n={listeners:z({}),attributes:z({})};function l(){const o={},a={};for(const u in e)u!=="class"&&u!=="style"&&nl.test(u)===!1&&(o[u]=e[u]);for(const u in t.props)nl.test(u)===!0&&(a[u]=t.props[u]);n.attributes.value=o,n.listeners.value=a}return kl(l),l(),n}function ao({validate:e,resetValidation:t,requiresQForm:n}){const l=_l(Vl,!1);if(l!==!1){const{props:o,proxy:a}=ye();Object.assign(a,{validate:e,resetValidation:t}),ce(()=>o.disable,u=>{u===!0?(typeof t=="function"&&t(),l.unbindComponent(a)):l.bindComponent(a)}),At(()=>{o.disable!==!0&&l.bindComponent(a)}),Ie(()=>{o.disable!==!0&&l.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ll=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,al=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,ol=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Lt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Nt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,gn={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ll.test(e),hexaColor:e=>al.test(e),hexOrHexaColor:e=>ol.test(e),rgbColor:e=>Lt.test(e),rgbaColor:e=>Nt.test(e),rgbOrRgbaColor:e=>Lt.test(e)||Nt.test(e),hexOrRgbColor:e=>ll.test(e)||Lt.test(e),hexaOrRgbaColor:e=>al.test(e)||Nt.test(e),anyColor:e=>ol.test(e)||Lt.test(e)||Nt.test(e)},oo=[!0,!1,"ondemand"],io={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>oo.includes(e)}};function uo(e,t){const{props:n,proxy:l}=ye(),o=z(!1),a=z(null),u=z(!1);ao({validate:V,resetValidation:C});let s=0,f;const w=m(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),d=m(()=>n.disable!==!0&&w.value===!0&&t.value===!1),y=m(()=>n.error===!0||o.value===!0),M=m(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:a.value);ce(()=>n.modelValue,()=>{u.value=!0,d.value===!0&&n.lazyRules===!1&&p()});function g(){n.lazyRules!=="ondemand"&&d.value===!0&&u.value===!0&&p()}ce(()=>n.reactiveRules,T=>{T===!0?f===void 0&&(f=ce(()=>n.rules,g,{immediate:!0,deep:!0})):f!==void 0&&(f(),f=void 0)},{immediate:!0}),ce(()=>n.lazyRules,g),ce(e,T=>{T===!0?u.value=!0:d.value===!0&&n.lazyRules!=="ondemand"&&p()});function C(){s++,t.value=!1,u.value=!1,o.value=!1,a.value=null,p.cancel()}function V(T=n.modelValue){if(n.disable===!0||w.value===!1)return!0;const W=++s,E=t.value!==!0?()=>{u.value=!0}:()=>{},x=(P,L)=>{P===!0&&E(),o.value=P,a.value=L||null,t.value=!1},$=[];for(let P=0;P<n.rules.length;P++){const L=n.rules[P];let N;if(typeof L=="function"?N=L(T,gn):typeof L=="string"&&gn[L]!==void 0&&(N=gn[L](T)),N===!1||typeof N=="string")return x(!0,N),!1;N!==!0&&N!==void 0&&$.push(N)}return $.length===0?(x(!1),!0):(t.value=!0,Promise.all($).then(P=>{if(P===void 0||Array.isArray(P)===!1||P.length===0)return W===s&&x(!1),!0;const L=P.find(N=>N===!1||typeof N=="string");return W===s&&x(L!==void 0,L),L===void 0},P=>(W===s&&(console.error(P),x(!0)),!1)))}const p=Al(V,0);return Ie(()=>{f!==void 0&&f(),p.cancel()}),Object.assign(l,{resetValidation:C,validate:V}),Hl(l,"hasError",()=>y.value),{isDirtyModel:u,hasRules:w,hasError:y,errorMessage:M,validate:V,resetValidation:C}}let rt=[],Vt=[];function jl(e){Vt=Vt.filter(t=>t!==e)}function ro(e){jl(e),Vt.push(e)}function il(e){jl(e),Vt.length===0&&rt.length!==0&&(rt[rt.length-1](),rt=[])}function nn(e){Vt.length===0?e():rt.push(e)}function so(e){rt=rt.filter(t=>t!==e)}function qn(e){return e!=null&&(""+e).length!==0}const co={...Ht,...io,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Fn={...co,maxlength:[Number,String]},Wl=["update:modelValue","clear","focus","blur"];function Ql({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:l,proxy:o}=ye(),a=Tt(l,o.$q),u=no({required:e,getValue:()=>l.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?m(()=>l.tag):{value:"label"},isDark:a,editable:m(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:z(!1),focused:z(!1),hasPopupOpen:!1,splitAttrs:lo(),targetUid:u,rootRef:z(null),targetRef:z(null),controlRef:z(null)}}function Kl(e){const{props:t,emit:n,slots:l,attrs:o,proxy:a}=ye(),{$q:u}=a;let s=null;e.hasValue===void 0&&(e.hasValue=m(()=>qn(t.modelValue))),e.emitValue===void 0&&(e.emitValue=S=>{n("update:modelValue",S)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:ae,onFocusout:ve}),Object.assign(e,{clearValue:J,onControlFocusin:ae,onControlFocusout:ve,focus:L}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const S=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,D=t.maxlength!==void 0?t.maxlength:t.maxValues;return S+(D!==void 0?" / "+D:"")}}));const{isDirtyModel:f,hasRules:w,hasError:d,errorMessage:y,resetValidation:M}=uo(e.focused,e.innerLoading),g=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),C=m(()=>t.bottomSlots===!0||t.hint!==void 0||w.value===!0||t.counter===!0||t.error!==null),V=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),p=m(()=>`q-field row no-wrap items-start q-field--${V.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(g.value===!0?" q-field--float":"")+(W.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(d.value===!0?" q-field--error":"")+(d.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&C.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),T=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(d.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),W=m(()=>t.labelSlot===!0||t.label!==void 0),E=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&d.value!==!0?` text-${t.labelColor}`:"")),x=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:g.value,modelValue:t.modelValue,emitValue:e.emitValue})),$=m(()=>{const S={};return e.targetUid.value&&(S.for=e.targetUid.value),t.disable===!0&&(S["aria-disabled"]="true"),S});function P(){const S=document.activeElement;let D=e.targetRef!==void 0&&e.targetRef.value;D&&(S===null||S.id!==e.targetUid.value)&&(D.hasAttribute("tabindex")===!0||(D=D.querySelector("[tabindex]")),D&&D!==S&&D.focus({preventScroll:!0}))}function L(){nn(P)}function N(){so(P);const S=document.activeElement;S!==null&&e.rootRef.value.contains(S)&&S.blur()}function ae(S){s!==null&&(clearTimeout(s),s=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",S))}function ve(S,D){s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",S)),D!==void 0&&D())})}function J(S){De(S),u.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),Ce(()=>{const D=f.value;M(),f.value=D})}function oe(S){[13,32].includes(S.keyCode)&&J(S)}function de(){const S=[];return l.prepend!==void 0&&S.push(h("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Le},l.prepend())),S.push(h("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},R())),d.value===!0&&t.noErrorIcon===!1&&S.push(G("error",[h(st,{name:u.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?S.push(G("inner-loading-append",l.loading!==void 0?l.loading():[h(Ha,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&S.push(G("inner-clearable-append",[h(st,{class:"q-field__focusable-action",name:t.clearIcon||u.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":u.lang.label.clear,onKeyup:oe,onClick:J})])),l.append!==void 0&&S.push(h("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Le},l.append())),e.getInnerAppend!==void 0&&S.push(G("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&S.push(e.getControlChild()),S}function R(){const S=[];return t.prefix!==void 0&&t.prefix!==null&&S.push(h("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&S.push(e.getShadowControl()),e.getControl!==void 0?S.push(e.getControl()):l.rawControl!==void 0?S.push(l.rawControl()):l.control!==void 0&&S.push(h("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(x.value))),W.value===!0&&S.push(h("div",{class:E.value},_e(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&S.push(h("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),S.concat(_e(l.default))}function U(){let S,D;d.value===!0?y.value!==null?(S=[h("div",{role:"alert"},y.value)],D=`q--slot-error-${y.value}`):(S=_e(l.error),D="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(S=[h("div",t.hint)],D=`q--slot-hint-${t.hint}`):(S=_e(l.hint),D="q--slot-hint"));const Q=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&Q===!1&&S===void 0)return;const v=h("div",{key:D,class:"q-field__messages col"},S);return h("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Le},[t.hideBottomSpace===!0?v:h(Fe,{name:"q-transition--field-message"},()=>v),Q===!0?h("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function G(S,D){return D===null?null:h("div",{key:S,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},D)}let ee=!1;return tn(()=>{ee=!0}),Hn(()=>{ee===!0&&t.autofocus===!0&&a.focus()}),t.autofocus===!0&&At(()=>{a.focus()}),Ie(()=>{s!==null&&clearTimeout(s)}),Object.assign(a,{focus:L,blur:N}),function(){const D=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...$.value}:$.value;return h(e.tag.value,{ref:e.rootRef,class:[p.value,o.class],style:o.style,...D},[l.before!==void 0?h("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Le},l.before()):null,h("div",{class:"q-field__inner relative-position col self-stretch"},[h("div",{ref:e.controlRef,class:T.value,tabindex:-1,...e.controlEvents},de()),C.value===!0?U():null]),l.after!==void 0?h("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Le},l.after()):null])}}var fo=Ve({name:"QField",inheritAttrs:!1,props:{...Fn,tag:{type:String,default:"label"}},emits:Wl,setup(){return Kl(Ql({tagProp:!0}))}});const vo={xs:8,sm:10,md:14,lg:20,xl:24};var Ul=Ve({name:"QChip",props:{...Ht,...Ta,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=ye(),o=Tt(e,l),a=Ea(e,vo),u=m(()=>e.selected===!0||e.icon!==void 0),s=m(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),f=m(()=>e.iconRemove||l.iconSet.chip.remove),w=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=m(()=>{const p=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(p?` text-${p} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(w.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),y=m(()=>{const p=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},T={...p,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:p,remove:T}});function M(p){p.keyCode===13&&g(p)}function g(p){e.disable||(n("update:selected",!e.selected),n("click",p))}function C(p){(p.keyCode===void 0||p.keyCode===13)&&(De(p),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function V(){const p=[];w.value===!0&&p.push(h("div",{class:"q-focus-helper"})),u.value===!0&&p.push(h(st,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const T=e.label!==void 0?[h("div",{class:"ellipsis"},[e.label])]:void 0;return p.push(h("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Pa(t.default,T))),e.iconRight&&p.push(h(st,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&p.push(h(st,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...y.value.remove,onClick:C,onKeyup:C})),p}return()=>{if(e.modelValue===!1)return;const p={class:d.value,style:a.value};return w.value===!0&&Object.assign(p,y.value.chip,{onClick:g,onKeyup:M}),Yl("div",p,V(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Bl,e.ripple]])}}}),mo=Ve({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=m(()=>parseInt(e.lines,10)),l=m(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=m(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>h("div",{style:o.value,class:l.value},_e(t.default))}});const ho={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},go={...ho,contextMenu:Boolean};function yo({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:l,proxy:o,emit:a}=ye(),u=z(null);let s=null;function f(g){return u.value===null?!1:g===void 0||g.touches===void 0||g.touches.length<=1}const w={};n===void 0&&(Object.assign(w,{hide(g){o.hide(g)},toggle(g){o.toggle(g),g.qAnchorHandled=!0},toggleKey(g){Tn(g,13)===!0&&w.toggle(g)},contextClick(g){o.hide(g),Le(g),Ce(()=>{o.show(g),g.qAnchorHandled=!0})},prevent:Le,mobileTouch(g){if(w.mobileCleanup(g),f(g)!==!0)return;o.hide(g),u.value.classList.add("non-selectable");const C=g.target;pt(w,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,o.show(g),g.qAnchorHandled=!0},300)},mobileCleanup(g){u.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&g!==void 0&&Ol()}}),n=function(g=l.contextMenu){if(l.noParentEvent===!0||u.value===null)return;let C;g===!0?o.$q.platform.is.mobile===!0?C=[[u.value,"touchstart","mobileTouch","passive"]]:C=[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:C=[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],pt(w,"anchor",C)});function d(){Qt(w,"anchor")}function y(g){for(u.value=g;u.value.classList.contains("q-anchor--skip");)u.value=u.value.parentNode;n()}function M(){if(l.target===!1||l.target===""||o.$el.parentNode===null)u.value=null;else if(l.target===!0)y(o.$el.parentNode);else{let g=l.target;if(typeof l.target=="string")try{g=document.querySelector(l.target)}catch{g=void 0}g!=null?(u.value=g.$el||g,n()):(u.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return ce(()=>l.contextMenu,g=>{u.value!==null&&(d(),n(g))}),ce(()=>l.target,()=>{u.value!==null&&d(),M()}),ce(()=>l.noParentEvent,g=>{u.value!==null&&(g===!0?d():n())}),At(()=>{M(),t!==!0&&l.modelValue===!0&&u.value===null&&a("update:modelValue",!1)}),Ie(()=>{s!==null&&clearTimeout(s),d()}),{anchorEl:u,canShow:f,anchorEvents:w}}function po(e,t){const n=z(null);let l;function o(s,f){const w=`${f!==void 0?"add":"remove"}EventListener`,d=f!==void 0?f:l;s!==window&&s[w]("scroll",d,_n.passive),window[w]("scroll",d,_n.passive),l=f}function a(){n.value!==null&&(o(n.value),n.value=null)}const u=ce(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return Ie(u),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:o}}let bo=1,So=document.body;function wo(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${bo++}`:e,Nn.globalNodes!==void 0){const l=Nn.globalNodes.class;l!==void 0&&(n.className=l)}return So.appendChild(n),n}function xo(e){e.remove()}const kt=[];function Co(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return mn(e)}else if(e.__qPortal===!0){const n=mn(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=mn(e)}while(e!=null)}const Do=Ve({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function _o(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Zl(e,t,n,l){const o=z(!1),a=z(!1);let u=null;const s={},f=l==="dialog"&&_o(e);function w(y){if(y===!0){il(s),a.value=!0;return}a.value=!1,o.value===!1&&(f===!1&&u===null&&(u=wo(!1,l)),o.value=!0,kt.push(e.proxy),ro(s))}function d(y){if(a.value=!1,y!==!0)return;il(s),o.value=!1;const M=kt.indexOf(e.proxy);M!==-1&&kt.splice(M,1),u!==null&&(xo(u),u=null)}return wa(()=>{d(!0)}),e.proxy.__qPortal=!0,Hl(e.proxy,"contentEl",()=>t.value),{showPortal:w,hidePortal:d,portalIsActive:o,portalIsAccessible:a,renderPortal:()=>f===!0?n():o.value===!0?[h(xa,{to:u},h(Do,n))]:void 0}}const Xl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Jl(e,t=()=>{},n=()=>{}){return{transitionProps:m(()=>{const l=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}}),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Gl(){let e;const t=ye();function n(){e=void 0}return tn(n),Ie(n),{removeTick:n,registerTick(l){e=l,Ce(()=>{e===l&&(Fl(t)===!1&&e(),e=void 0)})}}}const ct=[];let St;function Mo(e){St=e.keyCode===27}function qo(){St===!0&&(St=!1)}function ko(e){St===!0&&(St=!1,Tn(e,27)===!0&&ct[ct.length-1](e))}function ea(e){window[e]("keydown",Mo),window[e]("blur",qo),window[e]("keyup",ko),St=!1}function ta(e){Qe.is.desktop===!0&&(ct.push(e),ct.length===1&&ea("addEventListener"))}function Xt(e){const t=ct.indexOf(e);t!==-1&&(ct.splice(t,1),ct.length===0&&ea("removeEventListener"))}const dt=[];function na(e){dt[dt.length-1](e)}function la(e){Qe.is.desktop===!0&&(dt.push(e),dt.length===1&&document.body.addEventListener("focusin",na))}function kn(e){const t=dt.indexOf(e);t!==-1&&(dt.splice(t,1),dt.length===0&&document.body.removeEventListener("focusin",na))}const{notPassiveCapture:Jt}=_n,ft=[];function Gt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=kt.length-1;for(;n>=0;){const l=kt[n].$;if(l.type.name==="QTooltip"){n--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;n--}for(let l=ft.length-1;l>=0;l--){const o=ft[l];if((o.anchorEl.value===null||o.anchorEl.value.contains(t)===!1)&&(t===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(t)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function Vo(e){ft.push(e),ft.length===1&&(document.addEventListener("mousedown",Gt,Jt),document.addEventListener("touchstart",Gt,Jt))}function ul(e){const t=ft.findIndex(n=>n===e);t!==-1&&(ft.splice(t,1),ft.length===0&&(document.removeEventListener("mousedown",Gt,Jt),document.removeEventListener("touchstart",Gt,Jt)))}let rl,sl;function cl(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ao(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Vn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Vn[`${e}#ltr`]=e,Vn[`${e}#rtl`]=e});function dl(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Vn[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Ho(e,t){let{top:n,left:l,right:o,bottom:a,width:u,height:s}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],l-=t[0],a+=t[1],o+=t[0],u+=t[0],s+=t[1]),{top:n,bottom:a,height:s,left:l,right:o,width:u,middle:l+(o-l)/2,center:n+(a-n)/2}}function To(e,t,n){let{top:l,left:o}=e.getBoundingClientRect();return l+=t.top,o+=t.left,n!==void 0&&(l+=n[1],o+=n[0]),{top:l,bottom:l+1,height:1,left:o,right:o+1,width:1,middle:o,center:l}}function Eo(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function fl(e,t,n,l){return{top:e[n.vertical]-t[l.vertical],left:e[n.horizontal]-t[l.horizontal]}}function aa(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{aa(e,t+1)},10);return}const{targetEl:n,offset:l,anchorEl:o,anchorOrigin:a,selfOrigin:u,absoluteOffset:s,fit:f,cover:w,maxHeight:d,maxWidth:y}=e;if(Qe.is.ios===!0&&window.visualViewport!==void 0){const P=document.body.style,{offsetLeft:L,offsetTop:N}=window.visualViewport;L!==rl&&(P.setProperty("--q-pe-left",L+"px"),rl=L),N!==sl&&(P.setProperty("--q-pe-top",N+"px"),sl=N)}const{scrollLeft:M,scrollTop:g}=n,C=s===void 0?Ho(o,w===!0?[0,0]:l):To(o,s,l);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:y,maxHeight:d,visibility:"visible"});const{offsetWidth:V,offsetHeight:p}=n,{elWidth:T,elHeight:W}=f===!0||w===!0?{elWidth:Math.max(C.width,V),elHeight:w===!0?Math.max(C.height,p):p}:{elWidth:V,elHeight:p};let E={maxWidth:y,maxHeight:d};(f===!0||w===!0)&&(E.minWidth=C.width+"px",w===!0&&(E.minHeight=C.height+"px")),Object.assign(n.style,E);const x=Eo(T,W);let $=fl(C,x,a,u);if(s===void 0||l===void 0)yn($,C,x,a,u);else{const{top:P,left:L}=$;yn($,C,x,a,u);let N=!1;if($.top!==P){N=!0;const ae=2*l[1];C.center=C.top-=ae,C.bottom-=ae+2}if($.left!==L){N=!0;const ae=2*l[0];C.middle=C.left-=ae,C.right-=ae+2}N===!0&&($=fl(C,x,a,u),yn($,C,x,a,u))}E={top:$.top+"px",left:$.left+"px"},$.maxHeight!==void 0&&(E.maxHeight=$.maxHeight+"px",C.height>$.maxHeight&&(E.minHeight=E.maxHeight)),$.maxWidth!==void 0&&(E.maxWidth=$.maxWidth+"px",C.width>$.maxWidth&&(E.minWidth=E.maxWidth)),Object.assign(n.style,E),n.scrollTop!==g&&(n.scrollTop=g),n.scrollLeft!==M&&(n.scrollLeft=M)}function yn(e,t,n,l,o){const a=n.bottom,u=n.right,s=Ra(),f=window.innerHeight-s,w=document.body.clientWidth;if(e.top<0||e.top+a>f)if(o.vertical==="center")e.top=t[l.vertical]>f/2?Math.max(0,f-a):0,e.maxHeight=Math.min(a,f);else if(t[l.vertical]>f/2){const d=Math.min(f,l.vertical==="center"?t.center:l.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,d),e.top=Math.max(0,d-a)}else e.top=Math.max(0,l.vertical==="center"?t.center:l.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,f-e.top);if(e.left<0||e.left+u>w)if(e.maxWidth=Math.min(u,w),o.horizontal==="middle")e.left=t[l.horizontal]>w/2?Math.max(0,w-u):0;else if(t[l.horizontal]>w/2){const d=Math.min(w,l.horizontal==="middle"?t.middle:l.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(u,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?t.middle:l.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(u,w-e.left)}var Bo=Ve({name:"QMenu",inheritAttrs:!1,props:{...go,...$l,...Ht,...Xl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:cl},self:{type:String,validator:cl},offset:{type:Array,validator:Ao},scrollTarget:Ya,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...zl,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){let o=null,a,u,s;const f=ye(),{proxy:w}=f,{$q:d}=w,y=z(null),M=z(!1),g=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Tt(e,d),{registerTick:V,removeTick:p}=Gl(),{registerTimeout:T}=En(),{transitionProps:W,transitionStyle:E}=Jl(e),{localScrollTarget:x,changeScrollEvent:$,unconfigureScrollTarget:P}=po(e,Y),{anchorEl:L,canShow:N}=yo({showing:M}),{hide:ae}=Pl({showing:M,canShow:N,handleShow:Q,handleHide:v,hideOnRouteChange:g,processOnMount:!0}),{showPortal:ve,hidePortal:J,renderPortal:oe}=Zl(f,y,te,"menu"),de={anchorEl:L,innerRef:y,onClickOutside(q){if(e.persistent!==!0&&M.value===!0)return ae(q),(q.type==="touchstart"||q.target.classList.contains("q-dialog__backdrop"))&&De(q),!0}},R=m(()=>dl(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),U=m(()=>e.cover===!0?R.value:dl(e.self||"top start",d.lang.rtl)),G=m(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),ee=m(()=>e.autoClose===!0?{onClick:K}:{}),S=m(()=>M.value===!0&&e.persistent!==!0);ce(S,q=>{q===!0?(ta(k),Vo(de)):(Xt(k),ul(de))});function D(){nn(()=>{let q=y.value;q&&q.contains(document.activeElement)!==!0&&(q=q.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||q.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||q.querySelector("[autofocus], [data-autofocus]")||q,q.focus({preventScroll:!0}))})}function Q(q){if(o=e.noRefocus===!1?document.activeElement:null,la(le),ve(),Y(),a=void 0,q!==void 0&&(e.touchPosition||e.contextMenu)){const ie=Dn(q);if(ie.left!==void 0){const{top:ue,left:me}=L.value.getBoundingClientRect();a={left:ie.left-me,top:ie.top-ue}}}u===void 0&&(u=ce(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,O)),e.noFocus!==!0&&document.activeElement.blur(),V(()=>{O(),e.noFocus!==!0&&D()}),T(()=>{d.platform.is.ios===!0&&(s=e.autoClose,y.value.click()),O(),ve(!0),n("show",q)},e.transitionDuration)}function v(q){p(),J(),_(!0),o!==null&&(q===void 0||q.qClickOutside!==!0)&&(((q&&q.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),T(()=>{J(!0),n("hide",q)},e.transitionDuration)}function _(q){a=void 0,u!==void 0&&(u(),u=void 0),(q===!0||M.value===!0)&&(kn(le),P(),ul(de),Xt(k)),q!==!0&&(o=null)}function Y(){(L.value!==null||e.scrollTarget!==void 0)&&(x.value=La(L.value,e.scrollTarget),$(x.value,O))}function K(q){s!==!0?(Co(w,q),n("click",q)):s=!1}function le(q){S.value===!0&&e.noFocus!==!0&&Il(y.value,q.target)!==!0&&D()}function k(q){n("escapeKey"),ae(q)}function O(){aa({targetEl:y.value,offset:e.offset,anchorEl:L.value,anchorOrigin:R.value,selfOrigin:U.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function te(){return h(Fe,W.value,()=>M.value===!0?h("div",{role:"menu",...l,ref:y,tabindex:-1,class:["q-menu q-position-engine scroll"+G.value,l.class],style:[l.style,E.value],...ee.value},_e(t.default)):null)}return Ie(_),Object.assign(w,{focus:D,updatePosition:O}),oe}});let jt=0;const Fo={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},vl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Io=Ve({name:"QDialog",inheritAttrs:!1,props:{...$l,...Xl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...zl,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){const o=ye(),a=z(null),u=z(!1),s=z(!1);let f=null,w=null,d,y;const M=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:g}=Ia(),{registerTimeout:C}=En(),{registerTick:V,removeTick:p}=Gl(),{transitionProps:T,transitionStyle:W}=Jl(e,()=>vl[e.position][0],()=>vl[e.position][1]),E=m(()=>W.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:x,hidePortal:$,portalIsAccessible:P,renderPortal:L}=Zl(o,a,le,"dialog"),{hide:N}=Pl({showing:u,hideOnRouteChange:M,handleShow:U,handleHide:G,processOnMount:!0}),{addToHistory:ae,removeFromHistory:ve}=Fa(u,N,M),J=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Fo[e.position]}`+(s.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),oe=m(()=>u.value===!0&&e.seamless!==!0),de=m(()=>e.autoClose===!0?{onClick:_}:{}),R=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${oe.value===!0?"modal":"seamless"}`,l.class]);ce(()=>e.maximized,k=>{u.value===!0&&v(k)}),ce(oe,k=>{g(k),k===!0?(la(K),ta(D)):(kn(K),Xt(D))});function U(k){ae(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,v(e.maximized),x(),s.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),V(ee)):p(),C(()=>{if(o.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:O,bottom:te}=document.activeElement.getBoundingClientRect(),{innerHeight:q}=window,ie=window.visualViewport!==void 0?window.visualViewport.height:q;O>0&&te>ie/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ie,te>=q?1/0:Math.ceil(document.scrollingElement.scrollTop+te-ie/2))),document.activeElement.scrollIntoView()}y=!0,a.value.click(),y=!1}x(!0),s.value=!1,n("show",k)},e.transitionDuration)}function G(k){p(),ve(),Q(!0),s.value=!0,$(),w!==null&&(((k&&k.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),C(()=>{$(!0),s.value=!1,n("hide",k)},e.transitionDuration)}function ee(k){nn(()=>{let O=a.value;if(O!==null){if(k!==void 0){const te=O.querySelector(k);if(te!==null){te.focus({preventScroll:!0});return}}O.contains(document.activeElement)!==!0&&(O=O.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||O.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||O.querySelector("[autofocus], [data-autofocus]")||O,O.focus({preventScroll:!0}))}})}function S(k){k&&typeof k.focus=="function"?k.focus({preventScroll:!0}):ee(),n("shake");const O=a.value;O!==null&&(O.classList.remove("q-animate--scale"),O.classList.add("q-animate--scale"),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,a.value!==null&&(O.classList.remove("q-animate--scale"),ee())},170))}function D(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&S():(n("escapeKey"),N()))}function Q(k){f!==null&&(clearTimeout(f),f=null),(k===!0||u.value===!0)&&(v(!1),e.seamless!==!0&&(g(!1),kn(K),Xt(D))),k!==!0&&(w=null)}function v(k){k===!0?d!==!0&&(jt<1&&document.body.classList.add("q-body--dialog"),jt++,d=!0):d===!0&&(jt<2&&document.body.classList.remove("q-body--dialog"),jt--,d=!1)}function _(k){y!==!0&&(N(k),n("click",k))}function Y(k){e.persistent!==!0&&e.noBackdropDismiss!==!0?N(k):e.noShake!==!0&&S()}function K(k){e.allowFocusOutside!==!0&&P.value===!0&&Il(a.value,k.target)!==!0&&ee('[tabindex]:not([tabindex="-1"])')}Object.assign(o.proxy,{focus:ee,shake:S,__updateRefocusTarget(k){w=k||null}}),Ie(Q);function le(){return h("div",{role:"dialog","aria-modal":oe.value===!0?"true":"false",...l,class:R.value},[h(Fe,{name:"q-transition--fade",appear:!0},()=>oe.value===!0?h("div",{class:"q-dialog__backdrop fixed-full",style:E.value,"aria-hidden":"true",tabindex:-1,onClick:Y}):null),h(Fe,T.value,()=>u.value===!0?h("div",{ref:a,class:J.value,style:W.value,tabindex:-1,...de.value},_e(t.default)):null)])}return L}});let en=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,en=e.scrollLeft>=0,e.remove()}const Be=1e3,Oo=["start","center","end","start-force","center-force","end-force"],oa=Array.prototype.filter,$o=window.getComputedStyle(document.body).overflowAnchor===void 0?Cl:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];oa.call(n,o=>o.dataset&&o.dataset.qVsAnchor!==void 0).forEach(o=>{delete o.dataset.qVsAnchor});const l=n[t];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function bt(e,t){return e+t}function pn(e,t,n,l,o,a,u,s){const f=e===window?document.scrollingElement||document.documentElement:e,w=o===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-u-s,scrollMaxSize:0,offsetStart:-u,offsetEnd:-s};if(o===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=f.scrollLeft,d.scrollViewSize+=f.clientWidth),d.scrollMaxSize=f.scrollWidth,a===!0&&(d.scrollStart=(en===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=f.scrollTop,d.scrollViewSize+=f.clientHeight),d.scrollMaxSize=f.scrollHeight),n!==null)for(let y=n.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=y[w]);if(l!==null)for(let y=l.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=y[w]);if(t!==e){const y=f.getBoundingClientRect(),M=t.getBoundingClientRect();o===!0?(d.offsetStart+=M.left-y.left,d.offsetEnd-=M.width):(d.offsetStart+=M.top-y.top,d.offsetEnd-=M.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function ml(e,t,n,l){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(l===!0&&(t=(en===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(l===!0&&(t=(en===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function qt(e,t,n,l){if(n>=l)return 0;const o=t.length,a=Math.floor(n/Be),u=Math.floor((l-1)/Be)+1;let s=e.slice(a,u).reduce(bt,0);return n%Be!==0&&(s-=t.slice(a*Be,n).reduce(bt,0)),l%Be!==0&&l!==o&&(s-=t.slice(l,u*Be).reduce(bt,0)),s}const zo={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},hl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...zo};function Po({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:l}){const o=ye(),{props:a,emit:u,proxy:s}=o,{$q:f}=s;let w,d,y,M=[],g;const C=z(0),V=z(0),p=z({}),T=z(null),W=z(null),E=z(null),x=z({from:0,to:0}),$=m(()=>a.tableColspan!==void 0?a.tableColspan:100);l===void 0&&(l=m(()=>a.virtualScrollItemSize));const P=m(()=>l.value+";"+a.virtualScrollHorizontal),L=m(()=>P.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ce(L,()=>{G()}),ce(P,N);function N(){U(d,!0)}function ae(v){U(v===void 0?d:v)}function ve(v,_){const Y=t();if(Y==null||Y.nodeType===8)return;const K=pn(Y,n(),T.value,W.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);y!==K.scrollViewSize&&G(K.scrollViewSize),oe(Y,K,Math.min(e.value-1,Math.max(0,parseInt(v,10)||0)),0,Oo.indexOf(_)!==-1?_:d!==-1&&v>d?"end":"start")}function J(){const v=t();if(v==null||v.nodeType===8)return;const _=pn(v,n(),T.value,W.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),Y=e.value-1,K=_.scrollMaxSize-_.offsetStart-_.offsetEnd-V.value;if(w===_.scrollStart)return;if(_.scrollMaxSize<=0){oe(v,_,0,0);return}y!==_.scrollViewSize&&G(_.scrollViewSize),de(x.value.from);const le=Math.floor(_.scrollMaxSize-Math.max(_.scrollViewSize,_.offsetEnd)-Math.min(g[Y],_.scrollViewSize/2));if(le>0&&Math.ceil(_.scrollStart)>=le){oe(v,_,Y,_.scrollMaxSize-_.offsetEnd-M.reduce(bt,0));return}let k=0,O=_.scrollStart-_.offsetStart,te=O;if(O<=K&&O+_.scrollViewSize>=C.value)O-=C.value,k=x.value.from,te=O;else for(let q=0;O>=M[q]&&k<Y;q++)O-=M[q],k+=Be;for(;O>0&&k<Y;)O-=g[k],O>-_.scrollViewSize?(k++,te=O):te=g[k]+O;oe(v,_,k,te)}function oe(v,_,Y,K,le){const k=typeof le=="string"&&le.indexOf("-force")!==-1,O=k===!0?le.replace("-force",""):le,te=O!==void 0?O:"start";let q=Math.max(0,Y-p.value[te]),ie=q+p.value.total;ie>e.value&&(ie=e.value,q=Math.max(0,ie-p.value.total)),w=_.scrollStart;const ue=q!==x.value.from||ie!==x.value.to;if(ue===!1&&O===void 0){S(Y);return}const{activeElement:me}=document,we=E.value;ue===!0&&we!==null&&we!==me&&we.contains(me)===!0&&(we.addEventListener("focusout",R),setTimeout(()=>{we!==null&&we.removeEventListener("focusout",R)})),$o(we,Y-q);const He=O!==void 0?g.slice(q,Y).reduce(bt,0):0;if(ue===!0){const Oe=ie>=x.value.from&&q<=x.value.to?x.value.to:ie;x.value={from:q,to:Oe},C.value=qt(M,g,0,q),V.value=qt(M,g,ie,e.value),requestAnimationFrame(()=>{x.value.to!==ie&&w===_.scrollStart&&(x.value={from:x.value.from,to:ie},V.value=qt(M,g,ie,e.value))})}requestAnimationFrame(()=>{if(w!==_.scrollStart)return;ue===!0&&de(q);const Oe=g.slice(q,Y).reduce(bt,0),Me=Oe+_.offsetStart+C.value,pe=Me+g[Y];let Xe=Me+K;if(O!==void 0){const wt=Oe-He,Je=_.scrollStart+wt;Xe=k!==!0&&Je<Me&&pe<Je+_.scrollViewSize?Je:O==="end"?pe-_.scrollViewSize:Me-(O==="start"?0:Math.round((_.scrollViewSize-g[Y])/2))}w=Xe,ml(v,Xe,a.virtualScrollHorizontal,f.lang.rtl),S(Y)})}function de(v){const _=E.value;if(_){const Y=oa.call(_.children,q=>q.classList&&q.classList.contains("q-virtual-scroll--skip")===!1),K=Y.length,le=a.virtualScrollHorizontal===!0?q=>q.getBoundingClientRect().width:q=>q.offsetHeight;let k=v,O,te;for(let q=0;q<K;){for(O=le(Y[q]),q++;q<K&&Y[q].classList.contains("q-virtual-scroll--with-prev")===!0;)O+=le(Y[q]),q++;te=O-g[k],te!==0&&(g[k]+=te,M[Math.floor(k/Be)]+=te),k++}}}function R(){E.value!==null&&E.value!==void 0&&E.value.focus()}function U(v,_){const Y=1*l.value;(_===!0||Array.isArray(g)===!1)&&(g=[]);const K=g.length;g.length=e.value;for(let k=e.value-1;k>=K;k--)g[k]=Y;const le=Math.floor((e.value-1)/Be);M=[];for(let k=0;k<=le;k++){let O=0;const te=Math.min((k+1)*Be,e.value);for(let q=k*Be;q<te;q++)O+=g[q];M.push(O)}d=-1,w=void 0,C.value=qt(M,g,0,x.value.from),V.value=qt(M,g,x.value.to,e.value),v>=0?(de(x.value.from),Ce(()=>{ve(v)})):D()}function G(v){if(v===void 0&&typeof window!="undefined"){const O=t();O!=null&&O.nodeType!==8&&(v=pn(O,n(),T.value,W.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}y=v;const _=parseFloat(a.virtualScrollSliceRatioBefore)||0,Y=parseFloat(a.virtualScrollSliceRatioAfter)||0,K=1+_+Y,le=v===void 0||v<=0?1:Math.ceil(v/l.value),k=Math.max(1,le,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/K));p.value={total:Math.ceil(k*K),start:Math.ceil(k*_),center:Math.ceil(k*(.5+_)),end:Math.ceil(k*(1+_)),view:le}}function ee(v,_){const Y=a.virtualScrollHorizontal===!0?"width":"height",K={["--q-virtual-scroll-item-"+Y]:l.value+"px"};return[v==="tbody"?h(v,{class:"q-virtual-scroll__padding",key:"before",ref:T},[h("tr",[h("td",{style:{[Y]:`${C.value}px`,...K},colspan:$.value})])]):h(v,{class:"q-virtual-scroll__padding",key:"before",ref:T,style:{[Y]:`${C.value}px`,...K}}),h(v,{class:"q-virtual-scroll__content",key:"content",ref:E,tabindex:-1},_.flat()),v==="tbody"?h(v,{class:"q-virtual-scroll__padding",key:"after",ref:W},[h("tr",[h("td",{style:{[Y]:`${V.value}px`,...K},colspan:$.value})])]):h(v,{class:"q-virtual-scroll__padding",key:"after",ref:W,style:{[Y]:`${V.value}px`,...K}})]}function S(v){d!==v&&(a.onVirtualScroll!==void 0&&u("virtualScroll",{index:v,from:x.value.from,to:x.value.to-1,direction:v<d?"decrease":"increase",ref:s}),d=v)}G();const D=Al(J,f.platform.is.ios===!0?120:35);Ca(()=>{G()});let Q=!1;return tn(()=>{Q=!0}),Hn(()=>{if(Q!==!0)return;const v=t();w!==void 0&&v!==void 0&&v!==null&&v.nodeType!==8?ml(v,w,a.virtualScrollHorizontal,f.lang.rtl):ve(d)}),Ie(()=>{D.cancel()}),Object.assign(s,{scrollTo:ve,reset:N,refresh:ae}),{virtualScrollSliceRange:x,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:G,onVirtualScrollEvt:D,localResetVirtualScroll:U,padVirtualScroll:ee,scrollTo:ve,reset:N,refresh:ae}}const ia={name:String};function Ro(e){return m(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function Yo(e={}){return(t,n,l)=>{t[n](h("input",{class:"hidden"+(l||""),...e.value}))}}function Lo(e){return m(()=>e.name||e.for)}const No=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,jo=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Wo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Qo=/[a-z0-9_ -]$/i;function Ko(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Qe.is.firefox===!0?Qo.test(n.data)===!1:No.test(n.data)===!0||jo.test(n.data)===!0||Wo.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const gl=e=>["add","add-unique","toggle"].includes(e),Uo=".*+?^${}()|[]\\",Zo=Object.keys(Fn);function bn(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return l=>l!==null&&typeof l=="object"&&n in l?l[n]:l}var yl=Ve({name:"QSelect",inheritAttrs:!1,props:{...hl,...ia,...Fn,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:gl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:hl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Wl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:l}=ye(),{$q:o}=l,a=z(!1),u=z(!1),s=z(-1),f=z(""),w=z(!1),d=z(!1);let y=null,M=null,g,C,V,p=null,T,W,E,x;const $=z(null),P=z(null),L=z(null),N=z(null),ae=z(null),ve=Lo(e),J=Ko(mt),oe=m(()=>Array.isArray(e.options)?e.options.length:0),de=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:U,localResetVirtualScroll:G,padVirtualScroll:ee,onVirtualScrollEvt:S,scrollTo:D,setVirtualScrollSize:Q}=Po({virtualScrollLength:oe,getVirtualScrollTarget:vt,getVirtualScrollEl:Ct,virtualScrollItemSizeComputed:de}),v=Ql(),_=m(()=>{const r=e.mapOptions===!0&&e.multiple!==!0,B=e.modelValue!==void 0&&(e.modelValue!==null||r===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const F=e.mapOptions===!0&&g!==void 0?g:[],X=B.map(fe=>Bt(fe,F));return e.modelValue===null&&r===!0?X.filter(fe=>fe!==null):X}return B}),Y=m(()=>{const r={};return Zo.forEach(B=>{const F=e[B];F!==void 0&&(r[B]=F)}),r}),K=m(()=>e.optionsDark===null?v.isDark.value:e.optionsDark),le=m(()=>qn(_.value)),k=m(()=>{let r="q-field__input q-placeholder col";return e.hideSelected===!0||_.value.length===0?[r,e.inputClass]:(r+=" q-field__input--padding",e.inputClass===void 0?r:[r,e.inputClass])}),O=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),te=m(()=>oe.value===0),q=m(()=>_.value.map(r=>xe.value(r)).join(", ")),ie=m(()=>e.displayValue!==void 0?e.displayValue:q.value),ue=m(()=>e.optionsHtml===!0?()=>!0:r=>r!=null&&r.html===!0),me=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||_.value.some(ue.value))),we=m(()=>v.focused.value===!0?e.tabindex:-1),He=m(()=>{const r={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${v.targetUid.value}_lb`};return s.value>=0&&(r["aria-activedescendant"]=`${v.targetUid.value}_${s.value}`),r}),Oe=m(()=>({id:`${v.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Me=m(()=>_.value.map((r,B)=>({index:B,opt:r,html:ue.value(r),selected:!0,removeAtIndex:an,toggleOption:Te,tabindex:we.value}))),pe=m(()=>{if(oe.value===0)return[];const{from:r,to:B}=R.value;return e.options.slice(r,B).map((F,X)=>{const fe=$e.value(F)===!0,re=nt(F)===!0,be=r+X,ge={clickable:!0,active:re,activeClass:Je.value,manualFocus:!0,focused:!1,disable:fe,tabindex:-1,dense:e.optionsDense,dark:K.value,role:"option","aria-selected":re===!0?"true":"false",id:`${v.targetUid.value}_${be}`,onClick:()=>{Te(F)}};return fe!==!0&&(s.value===be&&(ge.focused=!0),o.platform.is.desktop===!0&&(ge.onMousemove=()=>{a.value===!0&&Ne(be)})),{index:be,opt:F,html:ue.value(F),label:xe.value(F),selected:ge.active,focused:ge.focused,toggleOption:Te,setOptionIndex:Ne,itemProps:ge}})}),Xe=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:o.iconSet.arrow.dropdown),wt=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Je=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),qe=m(()=>bn(e.optionValue,"value")),xe=m(()=>bn(e.optionLabel,"label")),$e=m(()=>bn(e.optionDisable,"disable")),Ge=m(()=>_.value.map(qe.value)),ln=m(()=>{const r={onInput:mt,onChange:J,onKeydown:je,onKeyup:Ot,onKeypress:ze,onFocus:Ft,onClick(B){C===!0&&ht(B)}};return r.onCompositionstart=r.onCompositionupdate=r.onCompositionend=J,r});ce(_,r=>{g=r,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&v.innerLoading.value!==!0&&(u.value!==!0&&a.value!==!0||le.value!==!0)&&(V!==!0&&Ae(),(u.value===!0||a.value===!0)&&Pe(""))},{immediate:!0}),ce(()=>e.fillInput,Ae),ce(a,sn),ce(oe,ga);function Et(r){return e.emitValue===!0?qe.value(r):r}function et(r){if(r!==-1&&r<_.value.length)if(e.multiple===!0){const B=e.modelValue.slice();n("remove",{index:r,value:B.splice(r,1)[0]}),n("update:modelValue",B)}else n("update:modelValue",null)}function an(r){et(r),v.focus()}function xt(r,B){const F=Et(r);if(e.multiple!==!0){e.fillInput===!0&&at(xe.value(r),!0,!0),n("update:modelValue",F);return}if(_.value.length===0){n("add",{index:0,value:F}),n("update:modelValue",e.multiple===!0?[F]:F);return}if(B===!0&&nt(r)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const X=e.modelValue.slice();n("add",{index:X.length,value:F}),X.push(F),n("update:modelValue",X)}function Te(r,B){if(v.editable.value!==!0||r===void 0||$e.value(r)===!0)return;const F=qe.value(r);if(e.multiple!==!0){B!==!0&&(at(e.fillInput===!0?xe.value(r):"",!0,!0),ne()),P.value!==null&&P.value.focus(),(_.value.length===0||_t(qe.value(_.value[0]),F)!==!0)&&n("update:modelValue",e.emitValue===!0?F:r);return}if((C!==!0||w.value===!0)&&v.focus(),Ft(),_.value.length===0){const re=e.emitValue===!0?F:r;n("add",{index:0,value:re}),n("update:modelValue",e.multiple===!0?[re]:re);return}const X=e.modelValue.slice(),fe=Ge.value.findIndex(re=>_t(re,F));if(fe!==-1)n("remove",{index:fe,value:X.splice(fe,1)[0]});else{if(e.maxValues!==void 0&&X.length>=e.maxValues)return;const re=e.emitValue===!0?F:r;n("add",{index:X.length,value:re}),X.push(re)}n("update:modelValue",X)}function Ne(r){if(o.platform.is.desktop!==!0)return;const B=r!==-1&&r<oe.value?r:-1;s.value!==B&&(s.value=B)}function tt(r=1,B){if(a.value===!0){let F=s.value;do F=Xn(F+r,-1,oe.value-1);while(F!==-1&&F!==s.value&&$e.value(e.options[F])===!0);s.value!==F&&(Ne(F),D(F),B!==!0&&e.useInput===!0&&e.fillInput===!0&&lt(F>=0?xe.value(e.options[F]):T,!0))}}function Bt(r,B){const F=X=>_t(qe.value(X),r);return e.options.find(F)||B.find(F)||r}function nt(r){const B=qe.value(r);return Ge.value.find(F=>_t(F,B))!==void 0}function Ft(r){e.useInput===!0&&P.value!==null&&(r===void 0||P.value===r.target&&r.target.value===q.value)&&P.value.select()}function It(r){Tn(r,27)===!0&&a.value===!0&&(ht(r),ne(),Ae()),n("keyup",r)}function Ot(r){const{value:B}=r.target;if(r.keyCode!==void 0){It(r);return}if(r.target.value="",y!==null&&(clearTimeout(y),y=null),M!==null&&(clearTimeout(M),M=null),Ae(),typeof B=="string"&&B.length!==0){const F=B.toLocaleLowerCase(),X=re=>{const be=e.options.find(ge=>String(re.value(ge)).toLocaleLowerCase()===F);return be===void 0?!1:(_.value.indexOf(be)===-1?Te(be):ne(),!0)},fe=re=>{X(qe)!==!0&&re!==!0&&X(xe)!==!0&&Pe(B,!0,()=>fe(!0))};fe()}else v.clearValue(r)}function ze(r){n("keypress",r)}function je(r){if(n("keydown",r),_a(r)===!0)return;const B=f.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),F=r.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(s.value!==-1||B===!0);if(r.keyCode===27){Le(r);return}if(r.keyCode===9&&F===!1){I();return}if(r.target===void 0||r.target.id!==v.targetUid.value||v.editable.value!==!0)return;if(r.keyCode===40&&v.innerLoading.value!==!0&&a.value===!1){De(r),j();return}if(r.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?et(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(r.keyCode===35||r.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(De(r),s.value=-1,tt(r.keyCode===36?1:-1,e.multiple)),(r.keyCode===33||r.keyCode===34)&&U.value!==void 0&&(De(r),s.value=Math.max(-1,Math.min(oe.value,s.value+(r.keyCode===33?-1:1)*U.value.view)),tt(r.keyCode===33?1:-1,e.multiple)),(r.keyCode===38||r.keyCode===40)&&(De(r),tt(r.keyCode===38?-1:1,e.multiple));const X=oe.value;if((E===void 0||x<Date.now())&&(E=""),X>0&&e.useInput!==!0&&r.key!==void 0&&r.key.length===1&&r.altKey===!1&&r.ctrlKey===!1&&r.metaKey===!1&&(r.keyCode!==32||E.length!==0)){a.value!==!0&&j(r);const fe=r.key.toLocaleLowerCase(),re=E.length===1&&E[0]===fe;x=Date.now()+1500,re===!1&&(De(r),E+=fe);const be=new RegExp("^"+E.split("").map(cn=>Uo.indexOf(cn)!==-1?"\\"+cn:cn).join(".*"),"i");let ge=s.value;if(re===!0||ge<0||be.test(xe.value(e.options[ge]))!==!0)do ge=Xn(ge+1,-1,X-1);while(ge!==s.value&&($e.value(e.options[ge])===!0||be.test(xe.value(e.options[ge]))!==!0));s.value!==ge&&Ce(()=>{Ne(ge),D(ge),ge>=0&&e.useInput===!0&&e.fillInput===!0&&lt(xe.value(e.options[ge]),!0)});return}if(!(r.keyCode!==13&&(r.keyCode!==32||e.useInput===!0||E!=="")&&(r.keyCode!==9||F===!1))){if(r.keyCode!==9&&De(r),s.value!==-1&&s.value<X){Te(e.options[s.value]);return}if(B===!0){const fe=(re,be)=>{if(be){if(gl(be)!==!0)return}else be=e.newValueMode;if(at("",e.multiple!==!0,!0),re==null)return;(be==="toggle"?Te:xt)(re,be==="add-unique"),e.multiple!==!0&&(P.value!==null&&P.value.focus(),ne())};if(e.onNewValue!==void 0?n("newValue",f.value,fe):fe(f.value),e.multiple!==!0)return}a.value===!0?I():v.innerLoading.value!==!0&&j()}}function Ct(){return C===!0?ae.value:L.value!==null&&L.value.contentEl!==null?L.value.contentEl:void 0}function vt(){return Ct()}function $t(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Me.value.map(r=>t["selected-item"](r)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Me.value.map((r,B)=>h(Ul,{key:"option-"+B,removable:v.editable.value===!0&&$e.value(r.opt)!==!0,dense:!0,textColor:e.color,tabindex:we.value,onRemove(){r.removeAtIndex(B)}},()=>h("span",{class:"ellipsis",[r.html===!0?"innerHTML":"textContent"]:xe.value(r.opt)}))):[h("span",{[me.value===!0?"innerHTML":"textContent"]:ie.value})]}function We(){if(te.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:f.value}):void 0;const r=t.option!==void 0?t.option:F=>h($a,{key:F.index,...F.itemProps},()=>h(Oa,()=>h(mo,()=>h("span",{[F.html===!0?"innerHTML":"textContent"]:F.label}))));let B=ee("div",pe.value.map(r));return t["before-options"]!==void 0&&(B=t["before-options"]().concat(B)),Rl(t["after-options"],B)}function Dt(r,B){const F=B===!0?{...He.value,...v.splitAttrs.attributes.value}:void 0,X={ref:B===!0?P:void 0,key:"i_t",class:k.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...F,id:B===!0?v.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":r===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ln.value};return r!==!0&&C===!0&&(Array.isArray(X.class)===!0?X.class=[...X.class,"no-pointer-events"]:X.class+=" no-pointer-events"),h("input",X)}function mt(r){y!==null&&(clearTimeout(y),y=null),M!==null&&(clearTimeout(M),M=null),!(r&&r.target&&r.target.qComposing===!0)&&(lt(r.target.value||""),V=!0,T=f.value,v.focused.value!==!0&&(C!==!0||w.value===!0)&&v.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,Pe(f.value)},e.inputDebounce)))}function lt(r,B){f.value!==r&&(f.value=r,B===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",r):M=setTimeout(()=>{M=null,n("inputValue",r)},e.inputDebounce))}function at(r,B,F){V=F!==!0,e.useInput===!0&&(lt(r,!0),(B===!0||F!==!0)&&(T=r),B!==!0&&Pe(r))}function Pe(r,B,F){if(e.onFilter===void 0||B!==!0&&v.focused.value!==!0)return;v.innerLoading.value===!0?n("filterAbort"):(v.innerLoading.value=!0,d.value=!0),r!==""&&e.multiple!==!0&&_.value.length!==0&&V!==!0&&r===xe.value(_.value[0])&&(r="");const X=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);p!==null&&clearTimeout(p),p=X,n("filter",r,(fe,re)=>{(B===!0||v.focused.value===!0)&&p===X&&(clearTimeout(p),typeof fe=="function"&&fe(),d.value=!1,Ce(()=>{v.innerLoading.value=!1,v.editable.value===!0&&(B===!0?a.value===!0&&ne():a.value===!0?sn(!0):a.value=!0),typeof re=="function"&&Ce(()=>{re(l)}),typeof F=="function"&&Ce(()=>{F(l)})}))},()=>{v.focused.value===!0&&p===X&&(clearTimeout(p),v.innerLoading.value=!1,d.value=!1),a.value===!0&&(a.value=!1)})}function on(){return h(Bo,{ref:L,class:O.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&te.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:K.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:wt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Oe.value,onScrollPassive:S,onBeforeShow:Rn,onBeforeHide:un,onShow:rn},We)}function un(r){Yn(r),I()}function rn(){Q()}function i(r){ht(r),P.value!==null&&P.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function c(r){ht(r),Ce(()=>{w.value=!1})}function b(){const r=[h(fo,{class:`col-auto ${v.fieldClass.value}`,...Y.value,for:v.targetUid.value,dark:K.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:f.value.length!==0,...v.splitAttrs.listeners.value,onFocus:i,onBlur:c},{...t,rawControl:()=>v.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&r.push(h("div",{ref:ae,class:O.value+" scroll",style:e.popupContentStyle,...Oe.value,onClick:Le,onScrollPassive:S},We())),h(Io,{ref:N,modelValue:u.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Rn,onBeforeHide:A,onHide:H,onShow:Z},()=>h("div",{class:"q-select__dialog"+(K.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},r))}function A(r){Yn(r),N.value!==null&&N.value.__updateRefocusTarget(v.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),v.focused.value=!1}function H(r){ne(),v.focused.value===!1&&n("blur",r),Ae()}function Z(){const r=document.activeElement;(r===null||r.id!==v.targetUid.value)&&P.value!==null&&P.value!==r&&P.value.focus(),Q()}function I(){u.value!==!0&&(s.value=-1,a.value===!0&&(a.value=!1),v.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),v.innerLoading.value===!0&&(n("filterAbort"),v.innerLoading.value=!1,d.value=!1)))}function j(r){v.editable.value===!0&&(C===!0?(v.onControlFocusin(r),u.value=!0,Ce(()=>{v.focus()})):v.focus(),e.onFilter!==void 0?Pe(f.value):(te.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function ne(){u.value=!1,I()}function Ae(){e.useInput===!0&&at(e.multiple!==!0&&e.fillInput===!0&&_.value.length!==0&&xe.value(_.value[0])||"",!0,!0)}function sn(r){let B=-1;if(r===!0){if(_.value.length!==0){const F=qe.value(_.value[0]);B=e.options.findIndex(X=>_t(qe.value(X),F))}G(B)}Ne(B)}function ga(r,B){a.value===!0&&v.innerLoading.value===!1&&(G(-1,!0),Ce(()=>{a.value===!0&&v.innerLoading.value===!1&&(r>B?G():sn(!0))}))}function Pn(){u.value===!1&&L.value!==null&&L.value.updatePosition()}function Rn(r){r!==void 0&&ht(r),n("popupShow",r),v.hasPopupOpen=!0,v.onControlFocusin(r)}function Yn(r){r!==void 0&&ht(r),n("popupHide",r),v.hasPopupOpen=!1,v.onControlFocusout(r)}function Ln(){C=o.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||te.value===!1:!0),W=o.platform.is.ios===!0&&C===!0&&e.useInput===!0?"fade":e.transitionShow}return kl(Ln),Da(Pn),Ln(),Ie(()=>{y!==null&&clearTimeout(y),M!==null&&clearTimeout(M)}),Object.assign(l,{showPopup:j,hidePopup:ne,removeAtIndex:et,add:xt,toggleOption:Te,getOptionIndex:()=>s.value,setOptionIndex:Ne,moveOptionSelection:tt,filter:Pe,updateMenuPosition:Pn,updateInputValue:at,isOptionSelected:nt,getEmittingOptionValue:Et,isOptionDisabled:(...r)=>$e.value.apply(null,r)===!0,getOptionValue:(...r)=>qe.value.apply(null,r),getOptionLabel:(...r)=>xe.value.apply(null,r)}),Object.assign(v,{innerValue:_,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:$,targetRef:P,hasValue:le,showPopup:j,floatingLabel:m(()=>e.hideSelected!==!0&&le.value===!0||typeof f.value=="number"||f.value.length!==0||qn(e.displayValue)),getControlChild:()=>{if(v.editable.value!==!1&&(u.value===!0||te.value!==!0||t["no-option"]!==void 0))return C===!0?b():on();v.hasPopupOpen===!0&&(v.hasPopupOpen=!1)},controlEvents:{onFocusin(r){v.onControlFocusin(r)},onFocusout(r){v.onControlFocusout(r,()=>{Ae(),I()})},onClick(r){if(Le(r),C!==!0&&a.value===!0){I(),P.value!==null&&P.value.focus();return}j(r)}},getControl:r=>{const B=$t(),F=r===!0||u.value!==!0||C!==!0;if(e.useInput===!0)B.push(Dt(r,F));else if(v.editable.value===!0){const fe=F===!0?He.value:void 0;B.push(h("input",{ref:F===!0?P:void 0,key:"d_t",class:"q-select__focus-target",id:F===!0?v.targetUid.value:void 0,value:ie.value,readonly:!0,"data-autofocus":r===!0||e.autofocus===!0||void 0,...fe,onKeydown:je,onKeyup:It,onKeypress:ze})),F===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&B.push(h("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ot}))}if(ve.value!==void 0&&e.disable!==!0&&Ge.value.length!==0){const fe=Ge.value.map(re=>h("option",{value:re,selected:!0}));B.push(h("select",{class:"hidden",name:ve.value,multiple:e.multiple},fe))}const X=e.useInput===!0||F!==!0?void 0:v.splitAttrs.attributes.value;return h("div",{class:"q-field__native row items-center",...X,...v.splitAttrs.listeners.value},B)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[h(st,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Xe.value})]:null}),Kl(v)}});const Ze=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Xo(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),ti(In(e,t,n))}function pl(e,t,n){return ra(ei(e,t,n))}function Jo(e){return Go(e)===0}function Kt(e,t){return t<=6?31:t<=11||Jo(e)?30:29}function Go(e){const t=Ze.length;let n=Ze[0],l,o,a,u,s;if(e<n||e>=Ze[t-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<t&&(l=Ze[s],o=l-n,!(e<l));s+=1)n=l;return u=e-n,o-u<6&&(u=u-o+he(o+4,33)*33),a=ke(ke(u+1,33)-1,4),a===-1&&(a=4),a}function ua(e,t){const n=Ze.length,l=e+621;let o=-14,a=Ze[0],u,s,f,w,d;if(e<a||e>=Ze[n-1])throw new Error("Invalid Jalaali year "+e);for(d=1;d<n&&(u=Ze[d],s=u-a,!(e<u));d+=1)o=o+he(s,33)*8+he(ke(s,33),4),a=u;w=e-a,o=o+he(w,33)*8+he(ke(w,33)+3,4),ke(s,33)===4&&s-w===4&&(o+=1);const y=he(l,4)-he((he(l,100)+1)*3,4)-150,M=20+o-y;return t||(s-w<6&&(w=w-s+he(s+4,33)*33),f=ke(ke(w+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:l,march:M}}function ei(e,t,n){const l=ua(e,!0);return In(l.gy,3,l.march)+(t-1)*31-he(t,7)*(t-7)+n-1}function ti(e){const t=ra(e).gy;let n=t-621,l,o,a;const u=ua(n,!1),s=In(t,3,u.march);if(a=e-s,a>=0){if(a<=185)return o=1+he(a,31),l=ke(a,31)+1,{jy:n,jm:o,jd:l};a-=186}else n-=1,a+=179,u.leap===1&&(a+=1);return o=7+he(a,30),l=ke(a,30)+1,{jy:n,jm:o,jd:l}}function In(e,t,n){let l=he((e+he(t-8,6)+100100)*1461,4)+he(153*ke(t+9,12)+2,5)+n-34840408;return l=l-he(he(e+100100+he(t-8,6),100)*3,4)+752,l}function ra(e){let t=4*e+139361631;t=t+he(he(4*e+183187720,146097)*3,4)*4-3908;const n=he(ke(t,1461),4)*5+308,l=he(ke(n,153),5)+1,o=ke(he(n,153),12)+1;return{gy:he(t,1461)-100100+he(8-o,6),gm:o,gd:l}}function he(e,t){return~~(e/t)}function ke(e,t){return e-~~(e/t)*t}const ni=["gregorian","persian"],bl={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>ni.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},li=["update:modelValue"];function Ke(e){return e.year+"/"+se(e.month)+"/"+se(e.day)}function ai(e,t){const n=m(()=>e.disable!==!0&&e.readonly!==!0),l=m(()=>n.value===!0?0:-1),o=m(()=>{const s=[];return e.color!==void 0&&s.push(`bg-${e.color}`),e.textColor!==void 0&&s.push(`text-${e.textColor}`),s.join(" ")});function a(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function u(s){const f=new Date,w=s===!0?null:0;if(e.calendar==="persian"){const d=Xo(f);return{year:d.jy,month:d.jm,day:d.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:w,minute:w,second:w,millisecond:w}}return{editable:n,tabindex:l,headerClass:o,getLocale:a,getCurrentDate:u}}const sa=864e5,oi=36e5,An=6e4,ca="YYYY-MM-DDTHH:mm:ss.SSSZ",ii=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,ui=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Sn={};function ri(e,t){const n="("+t.days.join("|")+")",l=e+n;if(Sn[l]!==void 0)return Sn[l];const o="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",u="("+t.monthsShort.join("|")+")",s={};let f=0;const w=e.replace(ui,y=>{switch(f++,y){case"YY":return s.YY=f,"(-?\\d{1,2})";case"YYYY":return s.YYYY=f,"(-?\\d{1,4})";case"M":return s.M=f,"(\\d{1,2})";case"Mo":return s.M=f++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return s.M=f,"(\\d{2})";case"MMM":return s.MMM=f,u;case"MMMM":return s.MMMM=f,a;case"D":return s.D=f,"(\\d{1,2})";case"Do":return s.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return s.D=f,"(\\d{2})";case"H":return s.H=f,"(\\d{1,2})";case"HH":return s.H=f,"(\\d{2})";case"h":return s.h=f,"(\\d{1,2})";case"hh":return s.h=f,"(\\d{2})";case"m":return s.m=f,"(\\d{1,2})";case"mm":return s.m=f,"(\\d{2})";case"s":return s.s=f,"(\\d{1,2})";case"ss":return s.s=f,"(\\d{2})";case"S":return s.S=f,"(\\d{1})";case"SS":return s.S=f,"(\\d{2})";case"SSS":return s.S=f,"(\\d{3})";case"A":return s.A=f,"(AM|PM)";case"a":return s.a=f,"(am|pm)";case"aa":return s.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return o;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"do":return f++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return f++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return f++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return s.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return s.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return s.X=f,"(-?\\d+)";case"x":return s.x=f,"(-?\\d{4,})";default:return f--,y[0]==="["&&(y=y.substring(1,y.length-1)),y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),d={map:s,regex:new RegExp("^"+w)};return Sn[l]=d,d}function da(e,t){return e!==void 0?e:t!==void 0?t.date:Ma.date}function Sl(e,t=""){const n=e>0?"-":"+",l=Math.abs(e),o=Math.floor(l/60),a=l%60;return n+se(o)+t+se(a)}function si(e,t,n){let l=e.getFullYear(),o=e.getMonth();const a=e.getDate();return t.year!==void 0&&(l+=n*t.year,delete t.year),t.month!==void 0&&(o+=n*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(l),e.setMonth(o),e.setDate(Math.min(a,zn(e))),t.date!==void 0&&(e.setDate(e.getDate()+n*t.date),delete t.date),e}function ci(e,t,n){const l=t.year!==void 0?t.year:e[`get${n}FullYear`](),o=t.month!==void 0?t.month-1:e[`get${n}Month`](),a=new Date(l,o+1,0).getDate(),u=Math.min(a,t.date!==void 0?t.date:e[`get${n}Date`]());return e[`set${n}Date`](1),e[`set${n}Month`](2),e[`set${n}FullYear`](l),e[`set${n}Month`](o),e[`set${n}Date`](u),delete t.year,delete t.month,delete t.date,e}function On(e,t,n){const l=fa(t),o=new Date(e),a=l.year!==void 0||l.month!==void 0||l.date!==void 0?si(o,l,n):o;for(const u in l){const s=za(u);a[`set${s}`](a[`get${s}`]()+n*l[u])}return a}function fa(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function va(e,t,n){const l=fa(t),o=n===!0?"UTC":"",a=new Date(e),u=l.year!==void 0||l.month!==void 0||l.date!==void 0?ci(a,l,o):a;for(const s in l){const f=s.charAt(0).toUpperCase()+s.slice(1);u[`set${o}${f}`](l[s])}return u}function di(e,t,n){const l=ma(e,t,n),o=new Date(l.year,l.month===null?null:l.month-1,l.day===null?1:l.day,l.hour,l.minute,l.second,l.millisecond),a=o.getTimezoneOffset();return l.timezoneOffset===null||l.timezoneOffset===a?o:On(o,{minutes:l.timezoneOffset-a},1)}function ma(e,t,n,l,o){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(o!==void 0&&Object.assign(a,o),e==null||e===""||typeof e!="string")return a;t===void 0&&(t=ca);const u=da(n,Tl.props),s=u.months,f=u.monthsShort,{regex:w,map:d}=ri(t,u),y=e.match(w);if(y===null)return a;let M="";if(d.X!==void 0||d.x!==void 0){const g=parseInt(y[d.X!==void 0?d.X:d.x],10);if(isNaN(g)===!0||g<0)return a;const C=new Date(g*(d.X!==void 0?1e3:1));a.year=C.getFullYear(),a.month=C.getMonth()+1,a.day=C.getDate(),a.hour=C.getHours(),a.minute=C.getMinutes(),a.second=C.getSeconds(),a.millisecond=C.getMilliseconds()}else{if(d.YYYY!==void 0)a.year=parseInt(y[d.YYYY],10);else if(d.YY!==void 0){const g=parseInt(y[d.YY],10);a.year=g<0?g:2e3+g}if(d.M!==void 0){if(a.month=parseInt(y[d.M],10),a.month<1||a.month>12)return a}else d.MMM!==void 0?a.month=f.indexOf(y[d.MMM])+1:d.MMMM!==void 0&&(a.month=s.indexOf(y[d.MMMM])+1);if(d.D!==void 0){if(a.day=parseInt(y[d.D],10),a.year===null||a.month===null||a.day<1)return a;const g=l!=="persian"?new Date(a.year,a.month,0).getDate():Kt(a.year,a.month);if(a.day>g)return a}d.H!==void 0?a.hour=parseInt(y[d.H],10)%24:d.h!==void 0&&(a.hour=parseInt(y[d.h],10)%12,(d.A&&y[d.A]==="PM"||d.a&&y[d.a]==="pm"||d.aa&&y[d.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),d.m!==void 0&&(a.minute=parseInt(y[d.m],10)%60),d.s!==void 0&&(a.second=parseInt(y[d.s],10)%60),d.S!==void 0&&(a.millisecond=parseInt(y[d.S],10)*10**(3-y[d.S].length)),(d.Z!==void 0||d.ZZ!==void 0)&&(M=d.Z!==void 0?y[d.Z].replace(":",""):y[d.ZZ],a.timezoneOffset=(M[0]==="+"?-1:1)*(60*M.slice(1,3)+1*M.slice(3,5)))}return a.dateHash=se(a.year,6)+"/"+se(a.month)+"/"+se(a.day),a.timeHash=se(a.hour)+":"+se(a.minute)+":"+se(a.second)+M,a}function fi(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function vi(e,t){return va(new Date,e,t)}function mi(e){const t=new Date(e).getDay();return t===0?7:t}function Ut(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const l=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-l);const o=(t-n)/(sa*7);return 1+Math.floor(o)}function hi(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function wn(e,t){const n=new Date(e);return t===!0?hi(n):n.getTime()}function gi(e,t,n,l={}){const o=wn(t,l.onlyDate),a=wn(n,l.onlyDate),u=wn(e,l.onlyDate);return(u>o||l.inclusiveFrom===!0&&u===o)&&(u<a||l.inclusiveTo===!0&&u===a)}function yi(e,t){return On(e,t,1)}function pi(e,t){return On(e,t,-1)}function Ye(e,t,n){const l=new Date(e),o=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":l[`${o}Month`](0);case"month":case"months":l[`${o}Date`](1);case"day":case"days":case"date":l[`${o}Hours`](0);case"hour":case"hours":l[`${o}Minutes`](0);case"minute":case"minutes":l[`${o}Seconds`](0);case"second":case"seconds":l[`${o}Milliseconds`](0)}return l}function bi(e,t,n){const l=new Date(e),o=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":l[`${o}Month`](11);case"month":case"months":l[`${o}Date`](zn(l));case"day":case"days":case"date":l[`${o}Hours`](23);case"hour":case"hours":l[`${o}Minutes`](59);case"minute":case"minutes":l[`${o}Seconds`](59);case"second":case"seconds":l[`${o}Milliseconds`](999)}return l}function Si(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(n=>{t=Math.max(t,new Date(n))}),t}function wi(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(n=>{t=Math.min(t,new Date(n))}),t}function Wt(e,t,n){return(e.getTime()-e.getTimezoneOffset()*An-(t.getTime()-t.getTimezoneOffset()*An))/n}function $n(e,t,n="days"){const l=new Date(e),o=new Date(t);switch(n){case"years":case"year":return l.getFullYear()-o.getFullYear();case"months":case"month":return(l.getFullYear()-o.getFullYear())*12+l.getMonth()-o.getMonth();case"days":case"day":case"date":return Wt(Ye(l,"day"),Ye(o,"day"),sa);case"hours":case"hour":return Wt(Ye(l,"hour"),Ye(o,"hour"),oi);case"minutes":case"minute":return Wt(Ye(l,"minute"),Ye(o,"minute"),An);case"seconds":case"second":return Wt(Ye(l,"second"),Ye(o,"second"),1e3)}}function Zt(e){return $n(e,Ye(e,"year"),"days")+1}function xi(e){return El(e)===!0?"date":typeof e=="number"?"number":"string"}function Ci(e,t,n){const l=new Date(e);if(t){const o=new Date(t);if(l<o)return o}if(n){const o=new Date(n);if(l>o)return o}return l}function Di(e,t,n){const l=new Date(e),o=new Date(t);if(n===void 0)return l.getTime()===o.getTime();switch(n){case"second":case"seconds":if(l.getSeconds()!==o.getSeconds())return!1;case"minute":case"minutes":if(l.getMinutes()!==o.getMinutes())return!1;case"hour":case"hours":if(l.getHours()!==o.getHours())return!1;case"day":case"days":case"date":if(l.getDate()!==o.getDate())return!1;case"month":case"months":if(l.getMonth()!==o.getMonth())return!1;case"year":case"years":if(l.getFullYear()!==o.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${n}`)}return!0}function zn(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function gt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const wl={YY(e,t,n){const l=this.YYYY(e,t,n)%100;return l>=0?se(l):"-"+se(Math.abs(l))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return gt(e.getMonth()+1)},MM(e){return se(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return gt(this.Q(e))},D(e){return e.getDate()},Do(e){return gt(e.getDate())},DD(e){return se(e.getDate())},DDD(e){return Zt(e)},DDDo(e){return gt(Zt(e))},DDDD(e){return se(Zt(e),3)},d(e){return e.getDay()},do(e){return gt(e.getDay())},dd(e,t){return t.days[e.getDay()].slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Ut(e)},wo(e){return gt(Ut(e))},ww(e){return se(Ut(e))},H(e){return e.getHours()},HH(e){return se(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return se(this.h(e))},m(e){return e.getMinutes()},mm(e){return se(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return se(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return se(Math.floor(e.getMilliseconds()/10))},SSS(e){return se(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,t,n,l){const o=l==null?e.getTimezoneOffset():l;return Sl(o,":")},ZZ(e,t,n,l){const o=l==null?e.getTimezoneOffset():l;return Sl(o)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function ha(e,t,n,l,o){if(e!==0&&!e||e===1/0||e===-1/0)return;const a=new Date(e);if(isNaN(a))return;t===void 0&&(t=ca);const u=da(n,Tl.props);return t.replace(ii,(s,f)=>s in wl?wl[s](a,u,l,o):f===void 0?s:f.split("\\]").join("]"))}function _i(e){return El(e)===!0?new Date(e.getTime()):e}var xn={isValid:fi,extractDate:di,buildDate:vi,getDayOfWeek:mi,getWeekOfYear:Ut,isBetweenDates:gi,addToDate:yi,subtractFromDate:pi,adjustDate:va,startOfDate:Ye,endOfDate:bi,getMaxDate:Si,getMinDate:wi,getDateDiff:$n,getDayOfYear:Zt,inferDateFormat:xi,getDateBetween:Ci,isSameDate:Di,daysInMonth:zn,formatDate:ha,clone:_i};const ut=20,Mi=["Calendar","Years","Months"],xl=e=>Mi.includes(e),Cn=e=>/^-?[\d]+\/[0-1]\d$/.test(e),yt=" \u2014 ";function Ue(e){return e.year+"/"+se(e.month)}var qi=Ve({name:"QDate",props:{...bl,...ia,...Ht,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...bl.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Cn},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Cn},navigationMaxYearMonth:{type:String,validator:Cn},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:xl}},emits:[...li,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:n}){const{proxy:l}=ye(),{$q:o}=l,a=Tt(e,o),{getCache:u}=Bn(),{tabindex:s,headerClass:f,getLocale:w,getCurrentDate:d}=ai(e,o);let y;const M=Ro(e),g=Yo(M),C=z(null),V=z(xt()),p=z(w()),T=m(()=>xt()),W=m(()=>w()),E=m(()=>d()),x=z(Ne(V.value,p.value)),$=z(e.defaultView),P=m(()=>o.lang.rtl===!0?"right":"left"),L=z(P.value),N=z(P.value),ae=x.value.year,ve=z(ae-ae%ut-(ae<0?ut:0)),J=z(null),oe=m(()=>{const i=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${i} q-date--${i}-${e.minimal===!0?"minimal":"standard"}`+(a.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),de=m(()=>e.color||"primary"),R=m(()=>e.textColor||"white"),U=m(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),G=m(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),ee=m(()=>G.value.filter(i=>typeof i=="string").map(i=>Te(i,V.value,p.value)).filter(i=>i.dateHash!==null&&i.day!==null&&i.month!==null&&i.year!==null)),S=m(()=>{const i=c=>Te(c,V.value,p.value);return G.value.filter(c=>qa(c)===!0&&c.from!==void 0&&c.to!==void 0).map(c=>({from:i(c.from),to:i(c.to)})).filter(c=>c.from.dateHash!==null&&c.to.dateHash!==null&&c.from.dateHash<c.to.dateHash)}),D=m(()=>e.calendar!=="persian"?i=>new Date(i.year,i.month-1,i.day):i=>{const c=pl(i.year,i.month,i.day);return new Date(c.gy,c.gm-1,c.gd)}),Q=m(()=>e.calendar==="persian"?Ke:(i,c,b)=>ha(new Date(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond),c===void 0?V.value:c,b===void 0?p.value:b,i.year,i.timezoneOffset)),v=m(()=>ee.value.length+S.value.reduce((i,c)=>i+1+$n(D.value(c.to),D.value(c.from)),0)),_=m(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(J.value!==null){const b=J.value.init,A=D.value(b);return p.value.daysShort[A.getDay()]+", "+p.value.monthsShort[b.month-1]+" "+b.day+yt+"?"}if(v.value===0)return yt;if(v.value>1)return`${v.value} ${p.value.pluralDay}`;const i=ee.value[0],c=D.value(i);return isNaN(c.valueOf())===!0?yt:p.value.headerTitle!==void 0?p.value.headerTitle(c,i):p.value.daysShort[c.getDay()]+", "+p.value.monthsShort[i.month-1]+" "+i.day}),Y=m(()=>ee.value.concat(S.value.map(c=>c.from)).sort((c,b)=>c.year-b.year||c.month-b.month)[0]),K=m(()=>ee.value.concat(S.value.map(c=>c.to)).sort((c,b)=>b.year-c.year||b.month-c.month)[0]),le=m(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(v.value===0)return yt;if(v.value>1){const i=Y.value,c=K.value,b=p.value.monthsShort;return b[i.month-1]+(i.year!==c.year?" "+i.year+yt+b[c.month-1]+" ":i.month!==c.month?yt+b[c.month-1]:"")+" "+c.year}return ee.value[0].year}),k=m(()=>{const i=[o.iconSet.datetime.arrowLeft,o.iconSet.datetime.arrowRight];return o.lang.rtl===!0?i.reverse():i}),O=m(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):p.value.firstDayOfWeek),te=m(()=>{const i=p.value.daysShort,c=O.value;return c>0?i.slice(c,7).concat(i.slice(0,c)):i}),q=m(()=>{const i=x.value;return e.calendar!=="persian"?new Date(i.year,i.month,0).getDate():Kt(i.year,i.month)}),ie=m(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),ue=m(()=>{if(e.navigationMinYearMonth===void 0)return null;const i=e.navigationMinYearMonth.split("/");return{year:parseInt(i[0],10),month:parseInt(i[1],10)}}),me=m(()=>{if(e.navigationMaxYearMonth===void 0)return null;const i=e.navigationMaxYearMonth.split("/");return{year:parseInt(i[0],10),month:parseInt(i[1],10)}}),we=m(()=>{const i={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return ue.value!==null&&ue.value.year>=x.value.year&&(i.year.prev=!1,ue.value.year===x.value.year&&ue.value.month>=x.value.month&&(i.month.prev=!1)),me.value!==null&&me.value.year<=x.value.year&&(i.year.next=!1,me.value.year===x.value.year&&me.value.month<=x.value.month&&(i.month.next=!1)),i}),He=m(()=>{const i={};return ee.value.forEach(c=>{const b=Ue(c);i[b]===void 0&&(i[b]=[]),i[b].push(c.day)}),i}),Oe=m(()=>{const i={};return S.value.forEach(c=>{const b=Ue(c.from),A=Ue(c.to);if(i[b]===void 0&&(i[b]=[]),i[b].push({from:c.from.day,to:b===A?c.to.day:void 0,range:c}),b<A){let H;const{year:Z,month:I}=c.from,j=I<12?{year:Z,month:I+1}:{year:Z+1,month:1};for(;(H=Ue(j))<=A;)i[H]===void 0&&(i[H]=[]),i[H].push({from:void 0,to:H===A?c.to.day:void 0,range:c}),j.month++,j.month>12&&(j.year++,j.month=1)}}),i}),Me=m(()=>{if(J.value===null)return;const{init:i,initHash:c,final:b,finalHash:A}=J.value,[H,Z]=c<=A?[i,b]:[b,i],I=Ue(H),j=Ue(Z);if(I!==pe.value&&j!==pe.value)return;const ne={};return I===pe.value?(ne.from=H.day,ne.includeFrom=!0):ne.from=1,j===pe.value?(ne.to=Z.day,ne.includeTo=!0):ne.to=q.value,ne}),pe=m(()=>Ue(x.value)),Xe=m(()=>{const i={};if(e.options===void 0){for(let b=1;b<=q.value;b++)i[b]=!0;return i}const c=typeof e.options=="function"?e.options:b=>e.options.includes(b);for(let b=1;b<=q.value;b++){const A=pe.value+"/"+se(b);i[b]=c(A)}return i}),wt=m(()=>{const i={};if(e.events===void 0)for(let c=1;c<=q.value;c++)i[c]=!1;else{const c=typeof e.events=="function"?e.events:b=>e.events.includes(b);for(let b=1;b<=q.value;b++){const A=pe.value+"/"+se(b);i[b]=c(A)===!0&&ie.value(A)}}return i}),Je=m(()=>{let i,c;const{year:b,month:A}=x.value;if(e.calendar!=="persian")i=new Date(b,A-1,1),c=new Date(b,A-1,0).getDate();else{const H=pl(b,A,1);i=new Date(H.gy,H.gm-1,H.gd);let Z=A-1,I=b;Z===0&&(Z=12,I--),c=Kt(I,Z)}return{days:i.getDay()-O.value-1,endDay:c}}),qe=m(()=>{const i=[],{days:c,endDay:b}=Je.value,A=c<0?c+7:c;if(A<6)for(let I=b-A;I<=b;I++)i.push({i:I,fill:!0});const H=i.length;for(let I=1;I<=q.value;I++){const j={i:I,event:wt.value[I],classes:[]};Xe.value[I]===!0&&(j.in=!0,j.flat=!0),i.push(j)}if(He.value[pe.value]!==void 0&&He.value[pe.value].forEach(I=>{const j=H+I-1;Object.assign(i[j],{selected:!0,unelevated:!0,flat:!1,color:de.value,textColor:R.value})}),Oe.value[pe.value]!==void 0&&Oe.value[pe.value].forEach(I=>{if(I.from!==void 0){const j=H+I.from-1,ne=H+(I.to||q.value)-1;for(let Ae=j;Ae<=ne;Ae++)Object.assign(i[Ae],{range:I.range,unelevated:!0,color:de.value,textColor:R.value});Object.assign(i[j],{rangeFrom:!0,flat:!1}),I.to!==void 0&&Object.assign(i[ne],{rangeTo:!0,flat:!1})}else if(I.to!==void 0){const j=H+I.to-1;for(let ne=H;ne<=j;ne++)Object.assign(i[ne],{range:I.range,unelevated:!0,color:de.value,textColor:R.value});Object.assign(i[j],{flat:!1,rangeTo:!0})}else{const j=H+q.value-1;for(let ne=H;ne<=j;ne++)Object.assign(i[ne],{range:I.range,unelevated:!0,color:de.value,textColor:R.value})}}),Me.value!==void 0){const I=H+Me.value.from-1,j=H+Me.value.to-1;for(let ne=I;ne<=j;ne++)i[ne].color=de.value,i[ne].editRange=!0;Me.value.includeFrom===!0&&(i[I].editRangeFrom=!0),Me.value.includeTo===!0&&(i[j].editRangeTo=!0)}x.value.year===E.value.year&&x.value.month===E.value.month&&(i[H+E.value.day-1].today=!0);const Z=i.length%7;if(Z>0){const I=7-Z;for(let j=1;j<=I;j++)i.push({i:j,fill:!0})}return i.forEach(I=>{let j="q-date__calendar-item ";I.fill===!0?j+="q-date__calendar-item--fill":(j+=`q-date__calendar-item--${I.in===!0?"in":"out"}`,I.range!==void 0&&(j+=` q-date__range${I.rangeTo===!0?"-to":I.rangeFrom===!0?"-from":""}`),I.editRange===!0&&(j+=` q-date__edit-range${I.editRangeFrom===!0?"-from":""}${I.editRangeTo===!0?"-to":""}`),(I.range!==void 0||I.editRange===!0)&&(j+=` text-${I.color}`)),I.classes=j}),i}),xe=m(()=>e.disable===!0?{"aria-disabled":"true"}:{});ce(()=>e.modelValue,i=>{if(y===JSON.stringify(i))y=0;else{const c=Ne(V.value,p.value);je(c.year,c.month,c)}}),ce($,()=>{C.value!==null&&l.$el.contains(document.activeElement)===!0&&C.value.focus()}),ce(()=>x.value.year+"|"+x.value.month,()=>{n("navigation",{year:x.value.year,month:x.value.month})}),ce(T,i=>{lt(i,p.value,"mask"),V.value=i}),ce(W,i=>{lt(V.value,i,"locale"),p.value=i});function $e(i){y=JSON.stringify(i)}function Ge(){const{year:i,month:c,day:b}=E.value,A={...x.value,year:i,month:c,day:b},H=He.value[Ue(A)];(H===void 0||H.includes(A.day)===!1)&&Dt(A),et(A.year,A.month)}function ln(i){xl(i)===!0&&($.value=i)}function Et(i,c){["month","year"].includes(i)&&(i==="month"?Bt:nt)(c===!0?-1:1)}function et(i,c){$.value="Calendar",je(i,c)}function an(i,c){if(e.range===!1||!i){J.value=null;return}const b=Object.assign({...x.value},i),A=c!==void 0?Object.assign({...x.value},c):b;J.value={init:b,initHash:Ke(b),final:A,finalHash:Ke(A)},et(b.year,b.month)}function xt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Te(i,c,b){return ma(i,c,b,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ne(i,c){const b=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(b.length===0)return tt();const A=b[b.length-1],H=Te(A.from!==void 0?A.from:A,i,c);return H.dateHash===null?tt():H}function tt(){let i,c;if(e.defaultYearMonth!==void 0){const b=e.defaultYearMonth.split("/");i=parseInt(b[0],10),c=parseInt(b[1],10)}else{const b=E.value!==void 0?E.value:d();i=b.year,c=b.month}return{year:i,month:c,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:i+"/"+se(c)+"/01"}}function Bt(i){let c=x.value.year,b=Number(x.value.month)+i;b===13?(b=1,c++):b===0&&(b=12,c--),je(c,b),U.value===!0&&vt("month")}function nt(i){const c=Number(x.value.year)+i;je(c,x.value.month),U.value===!0&&vt("year")}function Ft(i){je(i,x.value.month),$.value=e.defaultView==="Years"?"Months":"Calendar",U.value===!0&&vt("year")}function It(i){je(x.value.year,i),$.value="Calendar",U.value===!0&&vt("month")}function Ot(i,c){const b=He.value[c];(b!==void 0&&b.includes(i.day)===!0?mt:Dt)(i)}function ze(i){return{year:i.year,month:i.month,day:i.day}}function je(i,c,b){if(ue.value!==null&&i<=ue.value.year&&((c<ue.value.month||i<ue.value.year)&&(c=ue.value.month),i=ue.value.year),me.value!==null&&i>=me.value.year&&((c>me.value.month||i>me.value.year)&&(c=me.value.month),i=me.value.year),b!==void 0){const{hour:H,minute:Z,second:I,millisecond:j,timezoneOffset:ne,timeHash:Ae}=b;Object.assign(x.value,{hour:H,minute:Z,second:I,millisecond:j,timezoneOffset:ne,timeHash:Ae})}const A=i+"/"+se(c)+"/01";A!==x.value.dateHash&&(L.value=x.value.dateHash<A==(o.lang.rtl!==!0)?"left":"right",i!==x.value.year&&(N.value=L.value),Ce(()=>{ve.value=i-i%ut-(i<0?ut:0),Object.assign(x.value,{year:i,month:c,day:1,dateHash:A})}))}function Ct(i,c,b){const A=i!==null&&i.length===1&&e.multiple===!1?i[0]:i,{reason:H,details:Z}=$t(c,b);$e(A),n("update:modelValue",A,H,Z)}function vt(i){const c=ee.value[0]!==void 0&&ee.value[0].dateHash!==null?{...ee.value[0]}:{...x.value};Ce(()=>{c.year=x.value.year,c.month=x.value.month;const b=e.calendar!=="persian"?new Date(c.year,c.month,0).getDate():Kt(c.year,c.month);c.day=Math.min(Math.max(1,c.day),b);const A=We(c),{details:H}=$t("",c);$e(A),n("update:modelValue",A,i,H)})}function $t(i,c){return c.from!==void 0?{reason:`${i}-range`,details:{...ze(c.target),from:ze(c.from),to:ze(c.to)}}:{reason:`${i}-day`,details:ze(c)}}function We(i,c,b){return i.from!==void 0?{from:Q.value(i.from,c,b),to:Q.value(i.to,c,b)}:Q.value(i,c,b)}function Dt(i){let c;if(e.multiple===!0)if(i.from!==void 0){const b=Ke(i.from),A=Ke(i.to),H=ee.value.filter(I=>I.dateHash<b||I.dateHash>A),Z=S.value.filter(({from:I,to:j})=>j.dateHash<b||I.dateHash>A);c=H.concat(Z).concat(i).map(I=>We(I))}else{const b=G.value.slice();b.push(We(i)),c=b}else c=We(i);Ct(c,"add",i)}function mt(i){if(e.noUnset===!0)return;let c=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const b=We(i);i.from!==void 0?c=e.modelValue.filter(A=>A.from!==void 0?A.from!==b.from&&A.to!==b.to:!0):c=e.modelValue.filter(A=>A!==b),c.length===0&&(c=null)}Ct(c,"remove",i)}function lt(i,c,b){const A=ee.value.concat(S.value).map(Z=>We(Z,i,c)).filter(Z=>Z.from!==void 0?Z.from.dateHash!==null&&Z.to.dateHash!==null:Z.dateHash!==null),H=(e.multiple===!0?A:A[0])||null;$e(H),n("update:modelValue",H,b)}function at(){if(e.minimal!==!0)return h("div",{class:"q-date__header "+f.value},[h("div",{class:"relative-position"},[h(Fe,{name:"q-transition--fade"},()=>h("div",{key:"h-yr-"+le.value,class:"q-date__header-subtitle q-date__header-link "+($.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...u("vY",{onClick(){$.value="Years"},onKeyup(i){i.keyCode===13&&($.value="Years")}})},[le.value]))]),h("div",{class:"q-date__header-title relative-position flex no-wrap"},[h("div",{class:"relative-position col"},[h(Fe,{name:"q-transition--fade"},()=>h("div",{key:"h-sub"+_.value,class:"q-date__header-title-label q-date__header-link "+($.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:s.value,...u("vC",{onClick(){$.value="Calendar"},onKeyup(i){i.keyCode===13&&($.value="Calendar")}})},[_.value]))]),e.todayBtn===!0?h(Re,{class:"q-date__header-today self-start",icon:o.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:s.value,onClick:Ge}):null])])}function Pe({label:i,type:c,key:b,dir:A,goTo:H,boundaries:Z,cls:I}){return[h("div",{class:"row items-center q-date__arrow"},[h(Re,{round:!0,dense:!0,size:"sm",flat:!0,icon:k.value[0],tabindex:s.value,disable:Z.prev===!1,...u("go-#"+c,{onClick(){H(-1)}})})]),h("div",{class:"relative-position overflow-hidden flex flex-center"+I},[h(Fe,{name:"q-transition--jump-"+A},()=>h("div",{key:b},[h(Re,{flat:!0,dense:!0,noCaps:!0,label:i,tabindex:s.value,...u("view#"+c,{onClick:()=>{$.value=c}})})]))]),h("div",{class:"row items-center q-date__arrow"},[h(Re,{round:!0,dense:!0,size:"sm",flat:!0,icon:k.value[1],tabindex:s.value,disable:Z.next===!1,...u("go+#"+c,{onClick(){H(1)}})})])]}const on={Calendar:()=>[h("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[h("div",{class:"q-date__navigation row items-center no-wrap"},Pe({label:p.value.months[x.value.month-1],type:"Months",key:x.value.month,dir:L.value,goTo:Bt,boundaries:we.value.month,cls:" col"}).concat(Pe({label:x.value.year,type:"Years",key:x.value.year,dir:N.value,goTo:nt,boundaries:we.value.year,cls:""}))),h("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},te.value.map(i=>h("div",{class:"q-date__calendar-item"},[h("div",i)]))),h("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[h(Fe,{name:"q-transition--slide-"+L.value},()=>h("div",{key:pe.value,class:"q-date__calendar-days fit"},qe.value.map(i=>h("div",{class:i.classes},[i.in===!0?h(Re,{class:i.today===!0?"q-date__today":"",dense:!0,flat:i.flat,unelevated:i.unelevated,color:i.color,textColor:i.textColor,label:i.i,tabindex:s.value,...u("day#"+i.i,{onClick:()=>{un(i.i)},onMouseover:()=>{rn(i.i)}})},i.event!==!1?()=>h("div",{class:"q-date__event bg-"+i.event}):null):h("div",""+i.i)]))))])])],Months(){const i=x.value.year===E.value.year,c=A=>ue.value!==null&&x.value.year===ue.value.year&&ue.value.month>A||me.value!==null&&x.value.year===me.value.year&&me.value.month<A,b=p.value.monthsShort.map((A,H)=>{const Z=x.value.month===H+1;return h("div",{class:"q-date__months-item flex flex-center"},[h(Re,{class:i===!0&&E.value.month===H+1?"q-date__today":null,flat:Z!==!0,label:A,unelevated:Z,color:Z===!0?de.value:null,textColor:Z===!0?R.value:null,tabindex:s.value,disable:c(H+1),...u("month#"+H,{onClick:()=>{It(H+1)}})})])});return e.yearsInMonthView===!0&&b.unshift(h("div",{class:"row no-wrap full-width"},[Pe({label:x.value.year,type:"Years",key:x.value.year,dir:N.value,goTo:nt,boundaries:we.value.year,cls:" col"})])),h("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},b)},Years(){const i=ve.value,c=i+ut,b=[],A=H=>ue.value!==null&&ue.value.year>H||me.value!==null&&me.value.year<H;for(let H=i;H<=c;H++){const Z=x.value.year===H;b.push(h("div",{class:"q-date__years-item flex flex-center"},[h(Re,{key:"yr"+H,class:E.value.year===H?"q-date__today":null,flat:!Z,label:H,dense:!0,unelevated:Z,color:Z===!0?de.value:null,textColor:Z===!0?R.value:null,tabindex:s.value,disable:A(H),...u("yr#"+H,{onClick:()=>{Ft(H)}})})]))}return h("div",{class:"q-date__view q-date__years flex flex-center"},[h("div",{class:"col-auto"},[h(Re,{round:!0,dense:!0,flat:!0,icon:k.value[0],tabindex:s.value,disable:A(i),...u("y-",{onClick:()=>{ve.value-=ut}})})]),h("div",{class:"q-date__years-content col self-stretch row items-center"},b),h("div",{class:"col-auto"},[h(Re,{round:!0,dense:!0,flat:!0,icon:k.value[1],tabindex:s.value,disable:A(c),...u("y+",{onClick:()=>{ve.value+=ut}})})])])}};function un(i){const c={...x.value,day:i};if(e.range===!1){Ot(c,pe.value);return}if(J.value===null){const b=qe.value.find(H=>H.fill!==!0&&H.i===i);if(e.noUnset!==!0&&b.range!==void 0){mt({target:c,from:b.range.from,to:b.range.to});return}if(b.selected===!0){mt(c);return}const A=Ke(c);J.value={init:c,initHash:A,final:c,finalHash:A},n("rangeStart",ze(c))}else{const b=J.value.initHash,A=Ke(c),H=b<=A?{from:J.value.init,to:c}:{from:c,to:J.value.init};J.value=null,Dt(b===A?c:{target:c,...H}),n("rangeEnd",{from:ze(H.from),to:ze(H.to)})}}function rn(i){if(J.value!==null){const c={...x.value,day:i};Object.assign(J.value,{final:c,finalHash:Ke(c)})}}return Object.assign(l,{setToday:Ge,setView:ln,offsetCalendar:Et,setCalendarTo:et,setEditingRange:an}),()=>{const i=[h("div",{class:"q-date__content col relative-position"},[h(Fe,{name:"q-transition--fade"},on[$.value])])],c=_e(t.default);return c!==void 0&&i.push(h("div",{class:"q-date__actions"},c)),e.name!==void 0&&e.disable!==!0&&g(i,"push"),h("div",{class:oe.value,...xe.value},[at(),h("div",{ref:C,class:"q-date__main col column",tabindex:-1},i)])}}}),ki=Ve({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const l=ye(),o=z(null);let a=0;const u=[];function s(g){const C=typeof g=="boolean"?g:e.noErrorFocus!==!0,V=++a,p=(E,x)=>{n(`validation${E===!0?"Success":"Error"}`,x)},T=E=>{const x=E.validate();return typeof x.then=="function"?x.then($=>({valid:$,comp:E}),$=>({valid:!1,comp:E,err:$})):Promise.resolve({valid:x,comp:E})};return(e.greedy===!0?Promise.all(u.map(T)).then(E=>E.filter(x=>x.valid!==!0)):u.reduce((E,x)=>E.then(()=>T(x).then($=>{if($.valid===!1)return Promise.reject($)})),Promise.resolve()).catch(E=>[E])).then(E=>{if(E===void 0||E.length===0)return V===a&&p(!0),!0;if(V===a){const{comp:x,err:$}=E[0];if($!==void 0&&console.error($),p(!1,x),C===!0){const P=E.find(({comp:L})=>typeof L.focus=="function"&&Fl(L.$)===!1);P!==void 0&&P.comp.focus()}}return!1})}function f(){a++,u.forEach(g=>{typeof g.resetValidation=="function"&&g.resetValidation()})}function w(g){g!==void 0&&De(g);const C=a+1;s().then(V=>{C===a&&V===!0&&(e.onSubmit!==void 0?n("submit",g):g!==void 0&&g.target!==void 0&&typeof g.target.submit=="function"&&g.target.submit())})}function d(g){g!==void 0&&De(g),n("reset"),Ce(()=>{f(),e.autofocus===!0&&e.noResetFocus!==!0&&y()})}function y(){nn(()=>{if(o.value===null)return;const g=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),C=>C.tabIndex!==-1);g!=null&&g.focus({preventScroll:!0})})}ql(Vl,{bindComponent(g){u.push(g)},unbindComponent(g){const C=u.indexOf(g);C!==-1&&u.splice(C,1)}});let M=!1;return tn(()=>{M=!0}),Hn(()=>{M===!0&&e.autofocus===!0&&y()}),At(()=>{e.autofocus===!0&&y()}),Object.assign(l.proxy,{validate:s,resetValidation:f,submit:w,reset:d,focus:y,getValidationComponents:()=>u}),()=>h("form",{class:"q-form",ref:o,onSubmit:w,onReset:d},_e(t.default))}}),Vi={isoName:"ro",nativeName:"Rom\xE2n\u0103",label:{clear:"Gole\u0219te",ok:"OK",cancel:"Anuleaz\u0103",close:"\xCEnchide",set:"Seteaz\u0103",select:"Alege",reset:"Reseteaz\u0103",remove:"Elimin\u0103",update:"Actualizeaz\u0103",create:"Creeaz\u0103",search:"Caut\u0103",filter:"Filtreaz\u0103",refresh:"Actualizeaz\u0103",expand:e=>e?`Deschide\u021Bi "${e}"`:"Deschide",collapse:e=>e?`\xCEnchide "${e}"`:"\xCEnchide"},date:{days:"Duminic\u0103_Luni_Mar\u021Bi_Miercuri_Joi_Vineri_S\xE2mb\u0103t\u0103".split("_"),daysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xE2m".split("_"),months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian_Feb_Mar_Apr_Mai_Iun_Iul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:1,format24h:!0,pluralDay:"zile"},table:{noData:"Nu sunt date disponibile",noResults:"Nu am g\u0103sit \xEEnregistr\u0103ri care s\u0103 corespund\u0103",loading:"Se \xEEncarc\u0103...",selectedRecords:e=>e>1?e+" \xEEnregistr\u0103ri selectate.":(e===0?"Nici o":"1")+" \xEEnregistrare selectat\u0103.",recordsPerPage:"\xCEnregistr\u0103ri pe pagin\u0103:",allRows:"Toate",pagination:(e,t,n)=>e+"-"+t+" din "+n,columns:"Coloane"},editor:{url:"URL",bold:"\xCEngro\u0219at",italic:"\xCEnclinat",strikethrough:"T\u0103iat",underline:"Subliniat",unorderedList:"List\u0103 neordonat\u0103",orderedList:"List\u0103 ordonat\u0103",subscript:"Dedesubt",superscript:"Deasupra",hyperlink:"Hyperlink",toggleFullscreen:"Comut\u0103 ecran complet",quote:"Citat",left:"Aliniere la st\xE2nga",center:"Aliniere la centru",right:"Aliniere la dreapta",justify:"Aliniere total\u0103",print:"Tip\u0103re\u0219te",outdent:"Scade spa\u021Bierea",indent:"Cre\u0219te spa\u021Bierea",removeFormat:"\xCEndep\u0103rteaz\u0103 format\u0103rile",formatting:"Formatare",fontSize:"M\u0103rime font",align:"Aliniaz\u0103",hr:"Adaug\u0103 linie orizontal\u0103",undo:"Schimb\u0103 inapoi",redo:"Ref\u0103",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraf",code:"Cod",size1:"Foarte mic",size2:"Mic",size3:"Normal",size4:"Mediu-mare",size5:"Big",size6:"Foarte mare",size7:"Maxim",defaultFont:"Font implicit",viewSource:"Vizualizare surs\u0103"},tree:{noNodes:"Nu sunt date disponibile",noResults:"Nu am g\u0103sit noduri care s\u0103 corespund\u0103"}};const Ai={class:"booking-page"},Hi={key:2},Ti={key:3},Ei={key:1,style:{"font-style":"italic"}},Pi={__name:"Booking",setup(e){const{state:t,commit:n}=ka(),l=z(""),o=z(""),a=z(""),u=z([]),s=Vi,f=z(0),w=[{label:"Intretinere gel (120 minute)",value:"intretinere_gel",duration:120},{label:"Pedichiura semipermanenta (60 minute)",value:"semi_permanenta_pedichiura",duration:60},{label:"Manichiura semipermanenta (60 minute)",value:"semi_permanenta_manichiura",duration:60},{label:"Manichiura clasica (30 minute)",value:"manichiura_clasica",duration:30},{label:"Pedichiura clasica (30 minute)",value:"pedichiura_clasica",duration:30}],d=m(()=>t.data.listProviders),y=z(""),M=m(()=>t.data.appointments),g=m(()=>t.data.user),C=m(()=>{var S;return y?t.data.exeptionWeekendDays[(S=y.value)==null?void 0:S.value]:[]}),V=m(()=>t.data.disableDates),p=m(()=>t.data.scheduleModified),T=m(()=>w.map(S=>({label:S.label,value:S.value,duration:S.duration}))),W=m(()=>{var S,D;return((S=y.value)==null?void 0:S.value)&&a.value?M.value[(D=y.value)==null?void 0:D.value][a.value]||[]:[]}),E=S=>{var Q;const D=L(S);return V.value[(Q=y.value)==null?void 0:Q.value].includes(D)},x=S=>{const D=S.getDay();return D===0||D===6},$=S=>{const D=new Date;D.setHours(0,0,0,0);const Q=new Date(S);if(E(Q)||Q<D||x(Q)&&!C.value.includes(L(Q)))return!1;if(Q.getTime()===D.getTime()){const v=new Date,_=new Date;return _.setHours(17,0,0,0),v<_}return!0},P=S=>{const D=new Date;D.setHours(0,0,0,0);const Q=new Date;Q.setDate(D.getDate()+1),Q.setHours(0,0,0,0);const v=new Date;v.setDate(D.getDate()+2),v.setHours(0,0,0,0);const _=new Date(S);return E(_)||_>=D&&_<v||x(_)&&!C.value.includes(L(_))?!1:_>=D},L=S=>xn.formatDate(S,"YYYY-MM-DD"),N=(S,D)=>D==="owner"||D==="admin"?$(S):P(S),ae=S=>N(S,g.value.role),ve=S=>{l.value=S,f.value=5},J=()=>{var S;if(l.value="",o.value&&a.value&&y.value){f.value=4;const Q=w.find(_=>{var Y;return _.value===((Y=o.value)==null?void 0:Y.value)}).duration,v=M.value[(S=y.value)==null?void 0:S.value][a.value];u.value=oe(Q,v)}},oe=(S,D)=>{var te;let Q=10,v=17;const _=p.value[(te=y.value)==null?void 0:te.value][a.value];_&&(Q=_.startHour,v=_.endHour);const Y=[],K=new Date,le=a.value===K.toISOString().slice(0,10);let k=new Date;if(k.setHours(Q,0,0,0),le){if(K.getHours()>=v)return[];k.setHours(K.getHours(),Math.ceil(K.getMinutes()/30)*30,0,0)}const O=new Date;for(O.setHours(v,0,0,0);k<O;){const q=new Date(k),ie=new Date(k);if(ie.setMinutes(q.getMinutes()+S),ie>O)break;(D==null?void 0:D.some(me=>{const we=de(me.start),He=de(me.end);return q<He&&ie>we}))||!1||Y.push(R(q)),k.setMinutes(k.getMinutes()+30)}return Y},de=S=>{const[D,Q]=S.split(":").map(Number),v=new Date;return v.setHours(D,Q,0,0),v},R=S=>S.toTimeString().slice(0,5);function U(S){f.value=3,y.value=S,a.value="",J()}function G(S){o.value=S,f.value=2,J()}function ee(){var _,Y,K,le;const S=`${a.value}T${l.value}:00`,D=xn.addToDate(S,{minutes:o.value.duration}),Q=xn.formatDate(D,"HH:mm"),v={start:l.value,end:Q,date:a.value,appointmentDetails:{label:(_=o.value)==null?void 0:_.label,value:(Y=o.value)==null?void 0:Y.value,duration:(K=o.value)==null?void 0:K.duration}};n("ADD_APPOINTMENT",{selectedProvider:(le=y.value)==null?void 0:le.value,selectedDate:a.value,appointment:v}),l.value="",J()}return(S,D)=>(Ee(),ot("div",Ai,[it(Ga,{style:{"max-width":"80%",margin:"0 auto"},modelValue:f.value,"onUpdate:modelValue":D[0]||(D[0]=Q=>f.value=Q),ref:"stepper",animated:"",flat:"","done-color":"green","inactive-color":"grey"},{navigation:Mt(()=>D[6]||(D[6]=[])),default:Mt(()=>[it(Rt,{name:1,prefix:"1",title:"Selecteaza serviciu",done:f.value>1},null,8,["done"]),it(Rt,{name:2,prefix:"2",title:"Selecteaza tehnician",done:f.value>2},null,8,["done"]),it(Rt,{name:3,title:"Selecteaza data",prefix:"3",done:f.value>3},null,8,["done"]),it(Rt,{name:4,title:"Selecteaza ora",prefix:"4",done:f.value>4},null,8,["done"])]),_:1},8,["modelValue"]),it(ki,{style:{"max-width":"500px",margin:"0 auto",display:"flex","flex-direction":"column",gap:"30px"}},{default:Mt(()=>{var Q;return[it(yl,{modelValue:o.value,"onUpdate:modelValue":[D[1]||(D[1]=v=>o.value=v),D[2]||(D[2]=v=>G(v))],options:T.value,label:"Selecteaza serviciu","option-value":"value","option-label":"label"},null,8,["modelValue","options"]),o.value?(Ee(),zt(yl,{key:0,modelValue:y.value,"onUpdate:modelValue":[D[3]||(D[3]=v=>y.value=v),D[4]||(D[4]=v=>U(v))],options:d.value,label:"Selecteaza tehnician","option-value":"value","option-label":"label"},null,8,["modelValue","options"])):Pt("",!0),(Q=y.value)!=null&&Q.value?(Ee(),zt(qi,{key:1,class:"full-width",modelValue:a.value,"onUpdate:modelValue":[D[5]||(D[5]=v=>a.value=v),J],label:"Select Date",landscape:"",hint:"Choose the date for your appointment",mask:"YYYY-MM-DD",locale:Va(s).date,options:ae},null,8,["modelValue","locale"])):Pt("",!0),W.value.length&&(g.value.role==="owner"||g.value.role==="admin")?(Ee(),ot("div",Hi,[D[7]||(D[7]=vn("h6",{style:{margin:"0"}},"Programari existente",-1)),vn("div",null,[(Ee(!0),ot(jn,null,Wn(W.value,({start:v,end:_,appointmentDetails:Y})=>(Ee(),ot("div",{key:v+_},[vn("span",{style:Aa(Y.value==="off"&&"font-style: italic;color: #a2a2a2")},Kn(`${v}-${_} - ${Y.label}`),5)]))),128))])])):Pt("",!0),a.value?(Ee(),ot("div",Ti,[(Ee(!0),ot(jn,null,Wn(u.value,v=>(Ee(),zt(Ul,{key:v,outline:l.value!==v,"onUpdate:selected":()=>ve(v),clickable:"",color:"primary","text-color":"white"},{default:Mt(()=>[Qn(Kn(v),1)]),_:2},1032,["outline","onUpdate:selected"]))),128)),u.value.length?(Ee(),zt(Re,{key:0,disable:!l.value,class:"full-width",style:{"margin-top":"15px"},"no-caps":"",dense:"",color:"green",rounded:"",onClick:ee},{default:Mt(()=>D[8]||(D[8]=[Qn("Salveaza programarea ")])),_:1},8,["disable"])):(Ee(),ot("span",Ei,"Nu exista ora disponibila pentru data selectata !"))])):Pt("",!0)]}),_:1})]))}};export{Pi as default};
