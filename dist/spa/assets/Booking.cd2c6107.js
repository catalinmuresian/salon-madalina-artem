import{c as Ve,o as Fe,h,T as Be,r as P,a as m,B as ya,g as ye,E as pa,L as Qe,J as Cl,M as ba,F as pt,N as dn,H as Dn,x as De,G as Qt,w as ce,O as Dl,i as _l,e as fn,P as Ml,p as ql,f as Sa,I as At,Q as kl,R as Vl,S as Al,U as Hl,K as Ce,V as tn,W as Hn,z as Ye,y as Tn,C as _n,X as Nn,k as wa,Y as xa,Z as Ca,_ as Da,$ as _t,A as ht,a0 as _a,a1 as Tl,a2 as Ma,a3 as El,a4 as qa,a5 as ka,j as Va,n as Te,a6 as ot,t as it,s as Mt,q as zt,a7 as Pt,D as Aa,u as vn,a8 as jn,a9 as Wn,v as Qn,aa as Kn}from"./index.3b052c21.js";import{a as st,b as Ha,u as Ta,c as Ea,Q as Pe}from"./QBtn.1032837f.js";import{R as Bl,b as Ba,d as mn,v as Fl,e as Il}from"./use-router-link.43b11456.js";import{g as Un,s as Zn,c as Ol,u as En,a as Ht,b as Tt,d as $l,e as zl,f as Pl,h as Fa,i as Ia,n as Xn,Q as Oa,j as $a,p as se,k as za}from"./format.386e99b5.js";import{h as _e,b as Rl,c as Yl,d as Pa}from"./render.2bc86737.js";import{g as Ra,s as Ya,a as La}from"./scroll.ed8554e3.js";var Na=Ve({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let l=!1,o,a,r=null,u=null,f,w;function c(){o&&o(),o=null,l=!1,r!==null&&(clearTimeout(r),r=null),u!==null&&(clearTimeout(u),u=null),a!==void 0&&a.removeEventListener("transitionend",f),f=null}function b(k,y,E){y!==void 0&&(k.style.height=`${y}px`),k.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,l=!0,o=E}function D(k,y){k.style.overflowY=null,k.style.height=null,k.style.transition=null,c(),y!==w&&n(y)}function g(k,y){let E=0;a=k,l===!0?(c(),E=k.offsetHeight===k.scrollHeight?0:void 0):(w="hide",k.style.overflowY="hidden"),b(k,E,y),r=setTimeout(()=>{r=null,k.style.height=`${k.scrollHeight}px`,f=K=>{u=null,(Object(K)!==K||K.target===k)&&D(k,"show")},k.addEventListener("transitionend",f),u=setTimeout(f,e.duration*1.1)},100)}function C(k,y){let E;a=k,l===!0?c():(w="show",k.style.overflowY="hidden",E=k.scrollHeight),b(k,E,y),r=setTimeout(()=>{r=null,k.style.height=0,f=K=>{u=null,(Object(K)!==K||K.target===k)&&D(k,"hide")},k.addEventListener("transitionend",f),u=setTimeout(f,e.duration*1.1)},100)}return Fe(()=>{l===!0&&c()}),()=>h(Be,{css:!1,appear:e.appear,onEnter:g,onLeave:C},t.default)}}),Ll=Ve({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:n}}=ye(),l=P(null),o=m(()=>e.stepper.modelValue===e.step.name),a=m(()=>{const y=e.step.disable;return y===!0||y===""}),r=m(()=>{const y=e.step.error;return y===!0||y===""}),u=m(()=>{const y=e.step.done;return a.value===!1&&(y===!0||y==="")}),f=m(()=>{const y=e.step.headerNav,E=y===!0||y===""||y===void 0;return a.value===!1&&e.stepper.headerNav&&E}),w=m(()=>e.step.prefix&&(o.value===!1||e.stepper.activeIcon==="none")&&(r.value===!1||e.stepper.errorIcon==="none")&&(u.value===!1||e.stepper.doneIcon==="none")),c=m(()=>{const y=e.step.icon||e.stepper.inactiveIcon;if(o.value===!0){const E=e.step.activeIcon||e.stepper.activeIcon;return E==="none"?y:E||n.iconSet.stepper.active}if(r.value===!0){const E=e.step.errorIcon||e.stepper.errorIcon;return E==="none"?y:E||n.iconSet.stepper.error}if(a.value===!1&&u.value===!0){const E=e.step.doneIcon||e.stepper.doneIcon;return E==="none"?y:E||n.iconSet.stepper.done}return y}),b=m(()=>{const y=r.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(o.value===!0){const E=e.step.activeColor||e.stepper.activeColor||e.step.color;return E!==void 0?E:y}return y!==void 0?y:a.value===!1&&u.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),D=m(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(b.value!==void 0?` text-${b.value}`:"")+(r.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(w.value===!0?"prefix":"icon"):"")+(o.value===!0?" q-stepper__tab--active":"")+(u.value===!0?" q-stepper__tab--done":"")+(f.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(a.value===!0?" q-stepper__tab--disabled":"")),g=m(()=>e.stepper.headerNav!==!0?!1:f.value);function C(){l.value!==null&&l.value.focus(),o.value===!1&&e.goToPanel(e.step.name)}function k(y){y.keyCode===13&&o.value===!1&&e.goToPanel(e.step.name)}return()=>{const y={class:D.value};f.value===!0&&(y.onClick=C,y.onKeyup=k,Object.assign(y,a.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const E=[h("div",{class:"q-focus-helper",tabindex:-1,ref:l}),h("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[h("span",{class:"row flex-center"},[w.value===!0?e.step.prefix:h(st,{name:c.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const K=[h("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&K.push(h("div",{class:"q-stepper__caption"},e.step.caption)),E.push(h("div",{class:"q-stepper__label q-stepper__line relative-position"},K))}return ya(h("div",y,E),[[Bl,g.value]])}}});function ja(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,l)=>{const o=parseFloat(n);o&&(t[l]=o)}),t}var Wa=pa({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:l}){if(l.mouse!==!0&&Qe.has.touch!==!0)return;const o=l.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:ja(n),direction:Un(l),noop:Cl,mouseStart(r){Zn(r,a)&&ba(r)&&(pt(a,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(r,!0))},touchStart(r){if(Zn(r,a)){const u=r.target;pt(a,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","notPassiveCapture"],[u,"touchend","end","notPassiveCapture"]]),a.start(r)}},start(r,u){Qe.is.firefox===!0&&dn(e,!0);const f=Dn(r);a.event={x:f.left,y:f.top,time:Date.now(),mouse:u===!0,dir:!1}},move(r){if(a.event===void 0)return;if(a.event.dir!==!1){De(r);return}const u=Date.now()-a.event.time;if(u===0)return;const f=Dn(r),w=f.left-a.event.x,c=Math.abs(w),b=f.top-a.event.y,D=Math.abs(b);if(a.event.mouse!==!0){if(c<a.sensitivity[1]&&D<a.sensitivity[1]){a.end(r);return}}else if(window.getSelection().toString()!==""){a.end(r);return}else if(c<a.sensitivity[2]&&D<a.sensitivity[2])return;const g=c/u,C=D/u;a.direction.vertical===!0&&c<D&&c<100&&C>a.sensitivity[0]&&(a.event.dir=b<0?"up":"down"),a.direction.horizontal===!0&&c>D&&D<100&&g>a.sensitivity[0]&&(a.event.dir=w<0?"left":"right"),a.direction.up===!0&&c<D&&b<0&&c<100&&C>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&c<D&&b>0&&c<100&&C>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&c>D&&w<0&&D<100&&g>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&c>D&&w>0&&D<100&&g>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(De(r),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ol(),a.styleCleanup=k=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const y=()=>{document.body.classList.remove("no-pointer-events--children")};k===!0?setTimeout(y,50):y()}),a.handler({evt:r,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:u,distance:{x:c,y:D}})):a.end(r)},end(r){a.event!==void 0&&(Qt(a,"temp"),Qe.is.firefox===!0&&dn(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),r!==void 0&&a.event.dir!==!1&&De(r),a.event=void 0)}};if(e.__qtouchswipe=a,l.mouse===!0){const r=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";pt(a,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}Qe.has.touch===!0&&pt(a,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=Un(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Qt(t,"main"),Qt(t,"temp"),Qe.is.firefox===!0&&dn(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function Bn(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const Qa={name:{required:!0},disable:Boolean},Jn={setup(e,{slots:t}){return()=>h("div",{class:"q-panel scroll",role:"tabpanel"},_e(t.default))}},Ka={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ua=["update:modelValue","beforeTransition","transition"];function Za(){const{props:e,emit:t,proxy:n}=ye(),{getCache:l}=Bn(),{registerTimeout:o}=En();let a,r;const u=P(null),f={value:null};function w(Y){const U=e.vertical===!0?"up":"left";W((n.$q.lang.rtl===!0?-1:1)*(Y.direction===U?1:-1))}const c=m(()=>[[Wa,w,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),b=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),D=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),g=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),k=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),y=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ce(()=>e.modelValue,(Y,U)=>{const ee=x(Y)===!0?z(Y):-1;r!==!0&&j(ee===-1?0:ee<z(U)?-1:1),f.value!==ee&&(f.value=ee,t("beforeTransition",Y,U),o(()=>{t("transition",Y,U)},e.transitionDuration))});function E(){W(1)}function K(){W(-1)}function B(Y){t("update:modelValue",Y)}function x(Y){return Y!=null&&Y!==""}function z(Y){return a.findIndex(U=>U.props.name===Y&&U.props.disable!==""&&U.props.disable!==!0)}function R(){return a.filter(Y=>Y.props.disable!==""&&Y.props.disable!==!0)}function j(Y){const U=Y!==0&&e.animated===!0&&f.value!==-1?"q-transition--"+(Y===-1?b.value:D.value):null;u.value!==U&&(u.value=U)}function W(Y,U=f.value){let ee=U+Y;for(;ee!==-1&&ee<a.length;){const H=a[ee];if(H!==void 0&&H.props.disable!==""&&H.props.disable!==!0){j(Y),r=!0,t("update:modelValue",H.props.name),setTimeout(()=>{r=!1});return}ee+=Y}e.infinite===!0&&a.length!==0&&U!==-1&&U!==a.length&&W(Y,Y===-1?a.length:-1)}function ie(){const Y=z(e.modelValue);return f.value!==Y&&(f.value=Y),!0}function ue(){const Y=x(e.modelValue)===!0&&ie()&&a[f.value];return e.keepAlive===!0?[h(Dl,k.value,[h(y.value===!0?l(C.value,()=>({...Jn,name:C.value})):Jn,{key:C.value,style:g.value},()=>Y)])]:[h("div",{class:"q-panel scroll",style:g.value,key:C.value,role:"tabpanel"},[Y])]}function le(){if(a.length!==0)return e.animated===!0?[h(Be,{name:u.value},ue)]:ue()}function ae(Y){return a=Ba(_e(Y.default,[])).filter(U=>U.props!==null&&U.props.slot===void 0&&x(U.props.name)===!0),a.length}function fe(){return a}return Object.assign(n,{next:E,previous:K,goTo:B}),{panelIndex:f,panelDirectives:c,updatePanelsList:ae,updatePanelIndex:ie,getPanelContent:le,getEnabledPanels:R,getPanels:fe,isValidPanelName:x,keepAliveProps:k,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:W,goToPanel:B,nextPanel:E,previousPanel:K}}function Nl(e){return h("div",{class:"q-stepper__step-content"},[h("div",{class:"q-stepper__step-inner"},_e(e.default))])}const Gn={setup(e,{slots:t}){return()=>Nl(t)}};var Rt=Ve({name:"QStep",props:{...Qa,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=ye(),o=_l(Ml,fn);if(o===fn)return console.error("QStep needs to be a child of QStepper"),fn;const{getCache:a}=Bn(),r=P(null),u=m(()=>o.value.modelValue===e.name),f=m(()=>l.platform.is.ios!==!0&&l.platform.is.chrome===!0||u.value!==!0||o.value.vertical!==!0?{}:{onScroll(b){const{target:D}=b;D.scrollTop>0&&(D.scrollTop=0),e.onScroll!==void 0&&n("scroll",b)}}),w=m(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function c(){const b=o.value.vertical;return b===!0&&o.value.keepAlive===!0?h(Dl,o.value.keepAliveProps.value,u.value===!0?[h(o.value.needsUniqueKeepAliveWrapper.value===!0?a(w.value,()=>({...Gn,name:w.value})):Gn,{key:w.value},t.default)]:void 0):b!==!0||u.value===!0?Nl(t):void 0}return()=>h("div",{ref:r,class:"q-stepper__step",role:"tabpanel",...f.value},o.value.vertical===!0?[h(Ll,{stepper:o.value,step:e,goToPanel:o.value.goToPanel}),o.value.animated===!0?h(Na,c):c()]:[c()])}});const Xa=/(-\w)/g;function Ja(e){const t={};for(const n in e){const l=n.replace(Xa,o=>o[1].toUpperCase());t[l]=e[n]}return t}var Ga=Ve({name:"QStepper",props:{...Ht,...Ka,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Ua,setup(e,{slots:t}){const n=ye(),l=Tt(e,n.proxy.$q),{updatePanelsList:o,isValidPanelName:a,updatePanelIndex:r,getPanelContent:u,getPanels:f,panelDirectives:w,goToPanel:c,keepAliveProps:b,needsUniqueKeepAliveWrapper:D}=Za();ql(Ml,m(()=>({goToPanel:c,keepAliveProps:b,needsUniqueKeepAliveWrapper:D,...e})));const g=m(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(l.value===!0?" q-stepper--dark q-dark":"")),C=m(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function k(){const y=_e(t.message,[]);if(e.vertical===!0){a(e.modelValue)&&r();const E=h("div",{class:"q-stepper__content"},_e(t.default));return y===void 0?[E]:y.concat(E)}return[h("div",{class:C.value},f().map(E=>{const K=Ja(E.props);return h(Ll,{key:K.name,stepper:e,step:K,goToPanel:c})})),y,Yl("div",{class:"q-stepper__content q-panel-parent"},u(),"cont",e.swipeable,()=>w.value)]}return()=>(o(t),h("div",{class:g.value},Rl(t.navigation,k())))}});let hn,Yt=0;const Se=new Array(256);for(let e=0;e<256;e++)Se[e]=(e+256).toString(16).substring(1);const eo=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let l=t;l>0;l--)n.push(Math.floor(Math.random()*256));return n}})(),el=4096;function Mn(){(hn===void 0||Yt+16>el)&&(Yt=0,hn=eo(el));const e=Array.prototype.slice.call(hn,Yt,Yt+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Se[e[0]]+Se[e[1]]+Se[e[2]]+Se[e[3]]+"-"+Se[e[4]]+Se[e[5]]+"-"+Se[e[6]]+Se[e[7]]+"-"+Se[e[8]]+Se[e[9]]+"-"+Se[e[10]]+Se[e[11]]+Se[e[12]]+Se[e[13]]+Se[e[14]]+Se[e[15]]}function to(e){return e==null?null:e}function tl(e,t){return e==null?t===!0?`f_${Mn()}`:null:e}function no({getValue:e,required:t=!0}={}){if(Sa.value===!0){const n=e!==void 0?P(to(e())):P(null);return t===!0&&n.value===null&&At(()=>{n.value=`f_${Mn()}`}),e!==void 0&&ce(e,l=>{n.value=tl(l,t)}),n}return e!==void 0?m(()=>tl(e(),t)):P(`f_${Mn()}`)}const nl=/^on[A-Z]/;function lo(){const{attrs:e,vnode:t}=ye(),n={listeners:P({}),attributes:P({})};function l(){const o={},a={};for(const r in e)r!=="class"&&r!=="style"&&nl.test(r)===!1&&(o[r]=e[r]);for(const r in t.props)nl.test(r)===!0&&(a[r]=t.props[r]);n.attributes.value=o,n.listeners.value=a}return kl(l),l(),n}function ao({validate:e,resetValidation:t,requiresQForm:n}){const l=_l(Vl,!1);if(l!==!1){const{props:o,proxy:a}=ye();Object.assign(a,{validate:e,resetValidation:t}),ce(()=>o.disable,r=>{r===!0?(typeof t=="function"&&t(),l.unbindComponent(a)):l.bindComponent(a)}),At(()=>{o.disable!==!0&&l.bindComponent(a)}),Fe(()=>{o.disable!==!0&&l.unbindComponent(a)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ll=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,al=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,ol=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Lt=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Nt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,gn={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ll.test(e),hexaColor:e=>al.test(e),hexOrHexaColor:e=>ol.test(e),rgbColor:e=>Lt.test(e),rgbaColor:e=>Nt.test(e),rgbOrRgbaColor:e=>Lt.test(e)||Nt.test(e),hexOrRgbColor:e=>ll.test(e)||Lt.test(e),hexaOrRgbaColor:e=>al.test(e)||Nt.test(e),anyColor:e=>ol.test(e)||Lt.test(e)||Nt.test(e)},oo=[!0,!1,"ondemand"],io={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>oo.includes(e)}};function uo(e,t){const{props:n,proxy:l}=ye(),o=P(!1),a=P(null),r=P(!1);ao({validate:k,resetValidation:C});let u=0,f;const w=m(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),c=m(()=>n.disable!==!0&&w.value===!0&&t.value===!1),b=m(()=>n.error===!0||o.value===!0),D=m(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:a.value);ce(()=>n.modelValue,()=>{r.value=!0,c.value===!0&&n.lazyRules===!1&&y()});function g(){n.lazyRules!=="ondemand"&&c.value===!0&&r.value===!0&&y()}ce(()=>n.reactiveRules,E=>{E===!0?f===void 0&&(f=ce(()=>n.rules,g,{immediate:!0,deep:!0})):f!==void 0&&(f(),f=void 0)},{immediate:!0}),ce(()=>n.lazyRules,g),ce(e,E=>{E===!0?r.value=!0:c.value===!0&&n.lazyRules!=="ondemand"&&y()});function C(){u++,t.value=!1,r.value=!1,o.value=!1,a.value=null,y.cancel()}function k(E=n.modelValue){if(n.disable===!0||w.value===!1)return!0;const K=++u,B=t.value!==!0?()=>{r.value=!0}:()=>{},x=(R,j)=>{R===!0&&B(),o.value=R,a.value=j||null,t.value=!1},z=[];for(let R=0;R<n.rules.length;R++){const j=n.rules[R];let W;if(typeof j=="function"?W=j(E,gn):typeof j=="string"&&gn[j]!==void 0&&(W=gn[j](E)),W===!1||typeof W=="string")return x(!0,W),!1;W!==!0&&W!==void 0&&z.push(W)}return z.length===0?(x(!1),!0):(t.value=!0,Promise.all(z).then(R=>{if(R===void 0||Array.isArray(R)===!1||R.length===0)return K===u&&x(!1),!0;const j=R.find(W=>W===!1||typeof W=="string");return K===u&&x(j!==void 0,j),j===void 0},R=>(K===u&&(console.error(R),x(!0)),!1)))}const y=Al(k,0);return Fe(()=>{f!==void 0&&f(),y.cancel()}),Object.assign(l,{resetValidation:C,validate:k}),Hl(l,"hasError",()=>b.value),{isDirtyModel:r,hasRules:w,hasError:b,errorMessage:D,validate:k,resetValidation:C}}let rt=[],Vt=[];function jl(e){Vt=Vt.filter(t=>t!==e)}function ro(e){jl(e),Vt.push(e)}function il(e){jl(e),Vt.length===0&&rt.length!==0&&(rt[rt.length-1](),rt=[])}function nn(e){Vt.length===0?e():rt.push(e)}function so(e){rt=rt.filter(t=>t!==e)}function qn(e){return e!=null&&(""+e).length!==0}const co={...Ht,...io,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Fn={...co,maxlength:[Number,String]},Wl=["update:modelValue","clear","focus","blur"];function Ql({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:l,proxy:o}=ye(),a=Tt(l,o.$q),r=no({required:e,getValue:()=>l.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?m(()=>l.tag):{value:"label"},isDark:a,editable:m(()=>l.disable!==!0&&l.readonly!==!0),innerLoading:P(!1),focused:P(!1),hasPopupOpen:!1,splitAttrs:lo(),targetUid:r,rootRef:P(null),targetRef:P(null),controlRef:P(null)}}function Kl(e){const{props:t,emit:n,slots:l,attrs:o,proxy:a}=ye(),{$q:r}=a;let u=null;e.hasValue===void 0&&(e.hasValue=m(()=>qn(t.modelValue))),e.emitValue===void 0&&(e.emitValue=S=>{n("update:modelValue",S)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:ie,onFocusout:ue}),Object.assign(e,{clearValue:le,onControlFocusin:ie,onControlFocusout:ue,focus:j}),e.computedCounter===void 0&&(e.computedCounter=m(()=>{if(t.counter!==!1){const S=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,V=t.maxlength!==void 0?t.maxlength:t.maxValues;return S+(V!==void 0?" / "+V:"")}}));const{isDirtyModel:f,hasRules:w,hasError:c,errorMessage:b,resetValidation:D}=uo(e.focused,e.innerLoading),g=e.floatingLabel!==void 0?m(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):m(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),C=m(()=>t.bottomSlots===!0||t.hint!==void 0||w.value===!0||t.counter===!0||t.error!==null),k=m(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),y=m(()=>`q-field row no-wrap items-start q-field--${k.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(g.value===!0?" q-field--float":"")+(K.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&C.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),E=m(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),K=m(()=>t.labelSlot===!0||t.label!==void 0),B=m(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),x=m(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:g.value,modelValue:t.modelValue,emitValue:e.emitValue})),z=m(()=>{const S={};return e.targetUid.value&&(S.for=e.targetUid.value),t.disable===!0&&(S["aria-disabled"]="true"),S});function R(){const S=document.activeElement;let V=e.targetRef!==void 0&&e.targetRef.value;V&&(S===null||S.id!==e.targetUid.value)&&(V.hasAttribute("tabindex")===!0||(V=V.querySelector("[tabindex]")),V&&V!==S&&V.focus({preventScroll:!0}))}function j(){nn(R)}function W(){so(R);const S=document.activeElement;S!==null&&e.rootRef.value.contains(S)&&S.blur()}function ie(S){u!==null&&(clearTimeout(u),u=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",S))}function ue(S,V){u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",S)),V!==void 0&&V())})}function le(S){De(S),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),Ce(()=>{const V=f.value;D(),f.value=V})}function ae(S){[13,32].includes(S.keyCode)&&le(S)}function fe(){const S=[];return l.prepend!==void 0&&S.push(h("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ye},l.prepend())),S.push(h("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},Y())),c.value===!0&&t.noErrorIcon===!1&&S.push(ee("error",[h(st,{name:r.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?S.push(ee("inner-loading-append",l.loading!==void 0?l.loading():[h(Ha,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&S.push(ee("inner-clearable-append",[h(st,{class:"q-field__focusable-action",name:t.clearIcon||r.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":r.lang.label.clear,onKeyup:ae,onClick:le})])),l.append!==void 0&&S.push(h("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ye},l.append())),e.getInnerAppend!==void 0&&S.push(ee("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&S.push(e.getControlChild()),S}function Y(){const S=[];return t.prefix!==void 0&&t.prefix!==null&&S.push(h("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&S.push(e.getShadowControl()),e.getControl!==void 0?S.push(e.getControl()):l.rawControl!==void 0?S.push(l.rawControl()):l.control!==void 0&&S.push(h("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},l.control(x.value))),K.value===!0&&S.push(h("div",{class:B.value},_e(l.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&S.push(h("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),S.concat(_e(l.default))}function U(){let S,V;c.value===!0?b.value!==null?(S=[h("div",{role:"alert"},b.value)],V=`q--slot-error-${b.value}`):(S=_e(l.error),V="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(S=[h("div",t.hint)],V=`q--slot-hint-${t.hint}`):(S=_e(l.hint),V="q--slot-hint"));const L=t.counter===!0||l.counter!==void 0;if(t.hideBottomSpace===!0&&L===!1&&S===void 0)return;const v=h("div",{key:V,class:"q-field__messages col"},S);return h("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Ye},[t.hideBottomSpace===!0?v:h(Be,{name:"q-transition--field-message"},()=>v),L===!0?h("div",{class:"q-field__counter"},l.counter!==void 0?l.counter():e.computedCounter.value):null])}function ee(S,V){return V===null?null:h("div",{key:S,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},V)}let H=!1;return tn(()=>{H=!0}),Hn(()=>{H===!0&&t.autofocus===!0&&a.focus()}),t.autofocus===!0&&At(()=>{a.focus()}),Fe(()=>{u!==null&&clearTimeout(u)}),Object.assign(a,{focus:j,blur:W}),function(){const V=e.getControl===void 0&&l.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...z.value}:z.value;return h(e.tag.value,{ref:e.rootRef,class:[y.value,o.class],style:o.style,...V},[l.before!==void 0?h("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ye},l.before()):null,h("div",{class:"q-field__inner relative-position col self-stretch"},[h("div",{ref:e.controlRef,class:E.value,tabindex:-1,...e.controlEvents},fe()),C.value===!0?U():null]),l.after!==void 0?h("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ye},l.after()):null])}}var fo=Ve({name:"QField",inheritAttrs:!1,props:{...Fn,tag:{type:String,default:"label"}},emits:Wl,setup(){return Kl(Ql({tagProp:!0}))}});const vo={xs:8,sm:10,md:14,lg:20,xl:24};var Ul=Ve({name:"QChip",props:{...Ht,...Ta,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=ye(),o=Tt(e,l),a=Ea(e,vo),r=m(()=>e.selected===!0||e.icon!==void 0),u=m(()=>e.selected===!0?e.iconSelected||l.iconSet.chip.selected:e.icon),f=m(()=>e.iconRemove||l.iconSet.chip.remove),w=m(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=m(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(w.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(o.value===!0?" q-chip--dark q-dark":"")}),b=m(()=>{const y=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},E={...y,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:y,remove:E}});function D(y){y.keyCode===13&&g(y)}function g(y){e.disable||(n("update:selected",!e.selected),n("click",y))}function C(y){(y.keyCode===void 0||y.keyCode===13)&&(De(y),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function k(){const y=[];w.value===!0&&y.push(h("div",{class:"q-focus-helper"})),r.value===!0&&y.push(h(st,{class:"q-chip__icon q-chip__icon--left",name:u.value}));const E=e.label!==void 0?[h("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(h("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Pa(t.default,E))),e.iconRight&&y.push(h(st,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(h(st,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...b.value.remove,onClick:C,onKeyup:C})),y}return()=>{if(e.modelValue===!1)return;const y={class:c.value,style:a.value};return w.value===!0&&Object.assign(y,b.value.chip,{onClick:g,onKeyup:D}),Yl("div",y,k(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Bl,e.ripple]])}}}),mo=Ve({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=m(()=>parseInt(e.lines,10)),l=m(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),o=m(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>h("div",{style:o.value,class:l.value},_e(t.default))}});const ho={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},go={...ho,contextMenu:Boolean};function yo({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:l,proxy:o,emit:a}=ye(),r=P(null);let u=null;function f(g){return r.value===null?!1:g===void 0||g.touches===void 0||g.touches.length<=1}const w={};n===void 0&&(Object.assign(w,{hide(g){o.hide(g)},toggle(g){o.toggle(g),g.qAnchorHandled=!0},toggleKey(g){Tn(g,13)===!0&&w.toggle(g)},contextClick(g){o.hide(g),Ye(g),Ce(()=>{o.show(g),g.qAnchorHandled=!0})},prevent:Ye,mobileTouch(g){if(w.mobileCleanup(g),f(g)!==!0)return;o.hide(g),r.value.classList.add("non-selectable");const C=g.target;pt(w,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[r.value,"contextmenu","prevent","notPassive"]]),u=setTimeout(()=>{u=null,o.show(g),g.qAnchorHandled=!0},300)},mobileCleanup(g){r.value.classList.remove("non-selectable"),u!==null&&(clearTimeout(u),u=null),e.value===!0&&g!==void 0&&Ol()}}),n=function(g=l.contextMenu){if(l.noParentEvent===!0||r.value===null)return;let C;g===!0?o.$q.platform.is.mobile===!0?C=[[r.value,"touchstart","mobileTouch","passive"]]:C=[[r.value,"mousedown","hide","passive"],[r.value,"contextmenu","contextClick","notPassive"]]:C=[[r.value,"click","toggle","passive"],[r.value,"keyup","toggleKey","passive"]],pt(w,"anchor",C)});function c(){Qt(w,"anchor")}function b(g){for(r.value=g;r.value.classList.contains("q-anchor--skip");)r.value=r.value.parentNode;n()}function D(){if(l.target===!1||l.target===""||o.$el.parentNode===null)r.value=null;else if(l.target===!0)b(o.$el.parentNode);else{let g=l.target;if(typeof l.target=="string")try{g=document.querySelector(l.target)}catch{g=void 0}g!=null?(r.value=g.$el||g,n()):(r.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return ce(()=>l.contextMenu,g=>{r.value!==null&&(c(),n(g))}),ce(()=>l.target,()=>{r.value!==null&&c(),D()}),ce(()=>l.noParentEvent,g=>{r.value!==null&&(g===!0?c():n())}),At(()=>{D(),t!==!0&&l.modelValue===!0&&r.value===null&&a("update:modelValue",!1)}),Fe(()=>{u!==null&&clearTimeout(u),c()}),{anchorEl:r,canShow:f,anchorEvents:w}}function po(e,t){const n=P(null);let l;function o(u,f){const w=`${f!==void 0?"add":"remove"}EventListener`,c=f!==void 0?f:l;u!==window&&u[w]("scroll",c,_n.passive),window[w]("scroll",c,_n.passive),l=f}function a(){n.value!==null&&(o(n.value),n.value=null)}const r=ce(()=>e.noParentEvent,()=>{n.value!==null&&(a(),t())});return Fe(r),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:o}}let bo=1,So=document.body;function wo(e,t){const n=document.createElement("div");if(n.id=t!==void 0?`q-portal--${t}--${bo++}`:e,Nn.globalNodes!==void 0){const l=Nn.globalNodes.class;l!==void 0&&(n.className=l)}return So.appendChild(n),n}function xo(e){e.remove()}const kt=[];function Co(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return mn(e)}else if(e.__qPortal===!0){const n=mn(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=mn(e)}while(e!=null)}const Do=Ve({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function _o(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Zl(e,t,n,l){const o=P(!1),a=P(!1);let r=null;const u={},f=l==="dialog"&&_o(e);function w(b){if(b===!0){il(u),a.value=!0;return}a.value=!1,o.value===!1&&(f===!1&&r===null&&(r=wo(!1,l)),o.value=!0,kt.push(e.proxy),ro(u))}function c(b){if(a.value=!1,b!==!0)return;il(u),o.value=!1;const D=kt.indexOf(e.proxy);D!==-1&&kt.splice(D,1),r!==null&&(xo(r),r=null)}return wa(()=>{c(!0)}),e.proxy.__qPortal=!0,Hl(e.proxy,"contentEl",()=>t.value),{showPortal:w,hidePortal:c,portalIsActive:o,portalIsAccessible:a,renderPortal:()=>f===!0?n():o.value===!0?[h(xa,{to:r},h(Do,n))]:void 0}}const Xl={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Jl(e,t=()=>{},n=()=>{}){return{transitionProps:m(()=>{const l=`q-transition--${e.transitionShow||t()}`,o=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${l}-enter-from`,enterActiveClass:`${l}-enter-active`,enterToClass:`${l}-enter-to`,leaveFromClass:`${o}-leave-from`,leaveActiveClass:`${o}-leave-active`,leaveToClass:`${o}-leave-to`}}),transitionStyle:m(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Gl(){let e;const t=ye();function n(){e=void 0}return tn(n),Fe(n),{removeTick:n,registerTick(l){e=l,Ce(()=>{e===l&&(Fl(t)===!1&&e(),e=void 0)})}}}const ct=[];let St;function Mo(e){St=e.keyCode===27}function qo(){St===!0&&(St=!1)}function ko(e){St===!0&&(St=!1,Tn(e,27)===!0&&ct[ct.length-1](e))}function ea(e){window[e]("keydown",Mo),window[e]("blur",qo),window[e]("keyup",ko),St=!1}function ta(e){Qe.is.desktop===!0&&(ct.push(e),ct.length===1&&ea("addEventListener"))}function Xt(e){const t=ct.indexOf(e);t!==-1&&(ct.splice(t,1),ct.length===0&&ea("removeEventListener"))}const dt=[];function na(e){dt[dt.length-1](e)}function la(e){Qe.is.desktop===!0&&(dt.push(e),dt.length===1&&document.body.addEventListener("focusin",na))}function kn(e){const t=dt.indexOf(e);t!==-1&&(dt.splice(t,1),dt.length===0&&document.body.removeEventListener("focusin",na))}const{notPassiveCapture:Jt}=_n,ft=[];function Gt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=kt.length-1;for(;n>=0;){const l=kt[n].$;if(l.type.name==="QTooltip"){n--;continue}if(l.type.name!=="QDialog")break;if(l.props.seamless!==!0)return;n--}for(let l=ft.length-1;l>=0;l--){const o=ft[l];if((o.anchorEl.value===null||o.anchorEl.value.contains(t)===!1)&&(t===document.body||o.innerRef.value!==null&&o.innerRef.value.contains(t)===!1))e.qClickOutside=!0,o.onClickOutside(e);else return}}function Vo(e){ft.push(e),ft.length===1&&(document.addEventListener("mousedown",Gt,Jt),document.addEventListener("touchstart",Gt,Jt))}function ul(e){const t=ft.findIndex(n=>n===e);t!==-1&&(ft.splice(t,1),ft.length===0&&(document.removeEventListener("mousedown",Gt,Jt),document.removeEventListener("touchstart",Gt,Jt)))}let rl,sl;function cl(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ao(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Vn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Vn[`${e}#ltr`]=e,Vn[`${e}#rtl`]=e});function dl(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Vn[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Ho(e,t){let{top:n,left:l,right:o,bottom:a,width:r,height:u}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],l-=t[0],a+=t[1],o+=t[0],r+=t[0],u+=t[1]),{top:n,bottom:a,height:u,left:l,right:o,width:r,middle:l+(o-l)/2,center:n+(a-n)/2}}function To(e,t,n){let{top:l,left:o}=e.getBoundingClientRect();return l+=t.top,o+=t.left,n!==void 0&&(l+=n[1],o+=n[0]),{top:l,bottom:l+1,height:1,left:o,right:o+1,width:1,middle:o,center:l}}function Eo(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function fl(e,t,n,l){return{top:e[n.vertical]-t[l.vertical],left:e[n.horizontal]-t[l.horizontal]}}function aa(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{aa(e,t+1)},10);return}const{targetEl:n,offset:l,anchorEl:o,anchorOrigin:a,selfOrigin:r,absoluteOffset:u,fit:f,cover:w,maxHeight:c,maxWidth:b}=e;if(Qe.is.ios===!0&&window.visualViewport!==void 0){const R=document.body.style,{offsetLeft:j,offsetTop:W}=window.visualViewport;j!==rl&&(R.setProperty("--q-pe-left",j+"px"),rl=j),W!==sl&&(R.setProperty("--q-pe-top",W+"px"),sl=W)}const{scrollLeft:D,scrollTop:g}=n,C=u===void 0?Ho(o,w===!0?[0,0]:l):To(o,u,l);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:b,maxHeight:c,visibility:"visible"});const{offsetWidth:k,offsetHeight:y}=n,{elWidth:E,elHeight:K}=f===!0||w===!0?{elWidth:Math.max(C.width,k),elHeight:w===!0?Math.max(C.height,y):y}:{elWidth:k,elHeight:y};let B={maxWidth:b,maxHeight:c};(f===!0||w===!0)&&(B.minWidth=C.width+"px",w===!0&&(B.minHeight=C.height+"px")),Object.assign(n.style,B);const x=Eo(E,K);let z=fl(C,x,a,r);if(u===void 0||l===void 0)yn(z,C,x,a,r);else{const{top:R,left:j}=z;yn(z,C,x,a,r);let W=!1;if(z.top!==R){W=!0;const ie=2*l[1];C.center=C.top-=ie,C.bottom-=ie+2}if(z.left!==j){W=!0;const ie=2*l[0];C.middle=C.left-=ie,C.right-=ie+2}W===!0&&(z=fl(C,x,a,r),yn(z,C,x,a,r))}B={top:z.top+"px",left:z.left+"px"},z.maxHeight!==void 0&&(B.maxHeight=z.maxHeight+"px",C.height>z.maxHeight&&(B.minHeight=B.maxHeight)),z.maxWidth!==void 0&&(B.maxWidth=z.maxWidth+"px",C.width>z.maxWidth&&(B.minWidth=B.maxWidth)),Object.assign(n.style,B),n.scrollTop!==g&&(n.scrollTop=g),n.scrollLeft!==D&&(n.scrollLeft=D)}function yn(e,t,n,l,o){const a=n.bottom,r=n.right,u=Ra(),f=window.innerHeight-u,w=document.body.clientWidth;if(e.top<0||e.top+a>f)if(o.vertical==="center")e.top=t[l.vertical]>f/2?Math.max(0,f-a):0,e.maxHeight=Math.min(a,f);else if(t[l.vertical]>f/2){const c=Math.min(f,l.vertical==="center"?t.center:l.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(a,c),e.top=Math.max(0,c-a)}else e.top=Math.max(0,l.vertical==="center"?t.center:l.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(a,f-e.top);if(e.left<0||e.left+r>w)if(e.maxWidth=Math.min(r,w),o.horizontal==="middle")e.left=t[l.horizontal]>w/2?Math.max(0,w-r):0;else if(t[l.horizontal]>w/2){const c=Math.min(w,l.horizontal==="middle"?t.middle:l.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(r,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,l.horizontal==="middle"?t.middle:l.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(r,w-e.left)}var Bo=Ve({name:"QMenu",inheritAttrs:!1,props:{...go,...$l,...Ht,...Xl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:cl},self:{type:String,validator:cl},offset:{type:Array,validator:Ao},scrollTarget:Ya,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...zl,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){let o=null,a,r,u;const f=ye(),{proxy:w}=f,{$q:c}=w,b=P(null),D=P(!1),g=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Tt(e,c),{registerTick:k,removeTick:y}=Gl(),{registerTimeout:E}=En(),{transitionProps:K,transitionStyle:B}=Jl(e),{localScrollTarget:x,changeScrollEvent:z,unconfigureScrollTarget:R}=po(e,N),{anchorEl:j,canShow:W}=yo({showing:D}),{hide:ie}=Pl({showing:D,canShow:W,handleShow:L,handleHide:v,hideOnRouteChange:g,processOnMount:!0}),{showPortal:ue,hidePortal:le,renderPortal:ae}=Zl(f,b,te,"menu"),fe={anchorEl:j,innerRef:b,onClickOutside(_){if(e.persistent!==!0&&D.value===!0)return ie(_),(_.type==="touchstart"||_.target.classList.contains("q-dialog__backdrop"))&&De(_),!0}},Y=m(()=>dl(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),U=m(()=>e.cover===!0?Y.value:dl(e.self||"top start",c.lang.rtl)),ee=m(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),H=m(()=>e.autoClose===!0?{onClick:X}:{}),S=m(()=>D.value===!0&&e.persistent!==!0);ce(S,_=>{_===!0?(ta(q),Vo(fe)):(Xt(q),ul(fe))});function V(){nn(()=>{let _=b.value;_&&_.contains(document.activeElement)!==!0&&(_=_.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||_.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||_.querySelector("[autofocus], [data-autofocus]")||_,_.focus({preventScroll:!0}))})}function L(_){if(o=e.noRefocus===!1?document.activeElement:null,la(J),ue(),N(),a=void 0,_!==void 0&&(e.touchPosition||e.contextMenu)){const me=Dn(_);if(me.left!==void 0){const{top:oe,left:he}=j.value.getBoundingClientRect();a={left:me.left-he,top:me.top-oe}}}r===void 0&&(r=ce(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,F)),e.noFocus!==!0&&document.activeElement.blur(),k(()=>{F(),e.noFocus!==!0&&V()}),E(()=>{c.platform.is.ios===!0&&(u=e.autoClose,b.value.click()),F(),ue(!0),n("show",_)},e.transitionDuration)}function v(_){y(),le(),M(!0),o!==null&&(_===void 0||_.qClickOutside!==!0)&&(((_&&_.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),E(()=>{le(!0),n("hide",_)},e.transitionDuration)}function M(_){a=void 0,r!==void 0&&(r(),r=void 0),(_===!0||D.value===!0)&&(kn(J),R(),ul(fe),Xt(q)),_!==!0&&(o=null)}function N(){(j.value!==null||e.scrollTarget!==void 0)&&(x.value=La(j.value,e.scrollTarget),z(x.value,F))}function X(_){u!==!0?(Co(w,_),n("click",_)):u=!1}function J(_){S.value===!0&&e.noFocus!==!0&&Il(b.value,_.target)!==!0&&V()}function q(_){n("escapeKey"),ie(_)}function F(){aa({targetEl:b.value,offset:e.offset,anchorEl:j.value,anchorOrigin:Y.value,selfOrigin:U.value,absoluteOffset:a,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function te(){return h(Be,K.value,()=>D.value===!0?h("div",{role:"menu",...l,ref:b,tabindex:-1,class:["q-menu q-position-engine scroll"+ee.value,l.class],style:[l.style,B.value],...H.value},_e(t.default)):null)}return Fe(M),Object.assign(w,{focus:V,updatePosition:F}),ae}});let jt=0;const Fo={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},vl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var Io=Ve({name:"QDialog",inheritAttrs:!1,props:{...$l,...Xl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...zl,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:l}){const o=ye(),a=P(null),r=P(!1),u=P(!1);let f=null,w=null,c,b;const D=m(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:g}=Ia(),{registerTimeout:C}=En(),{registerTick:k,removeTick:y}=Gl(),{transitionProps:E,transitionStyle:K}=Jl(e,()=>vl[e.position][0],()=>vl[e.position][1]),B=m(()=>K.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:x,hidePortal:z,portalIsAccessible:R,renderPortal:j}=Zl(o,a,J,"dialog"),{hide:W}=Pl({showing:r,hideOnRouteChange:D,handleShow:U,handleHide:ee,processOnMount:!0}),{addToHistory:ie,removeFromHistory:ue}=Fa(r,W,D),le=m(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Fo[e.position]}`+(u.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),ae=m(()=>r.value===!0&&e.seamless!==!0),fe=m(()=>e.autoClose===!0?{onClick:M}:{}),Y=m(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${ae.value===!0?"modal":"seamless"}`,l.class]);ce(()=>e.maximized,q=>{r.value===!0&&v(q)}),ce(ae,q=>{g(q),q===!0?(la(X),ta(V)):(kn(X),Xt(V))});function U(q){ie(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,v(e.maximized),x(),u.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),k(H)):y(),C(()=>{if(o.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:F,bottom:te}=document.activeElement.getBoundingClientRect(),{innerHeight:_}=window,me=window.visualViewport!==void 0?window.visualViewport.height:_;F>0&&te>me/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-me,te>=_?1/0:Math.ceil(document.scrollingElement.scrollTop+te-me/2))),document.activeElement.scrollIntoView()}b=!0,a.value.click(),b=!1}x(!0),u.value=!1,n("show",q)},e.transitionDuration)}function ee(q){y(),ue(),L(!0),u.value=!0,z(),w!==null&&(((q&&q.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),C(()=>{z(!0),u.value=!1,n("hide",q)},e.transitionDuration)}function H(q){nn(()=>{let F=a.value;if(F!==null){if(q!==void 0){const te=F.querySelector(q);if(te!==null){te.focus({preventScroll:!0});return}}F.contains(document.activeElement)!==!0&&(F=F.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||F.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||F.querySelector("[autofocus], [data-autofocus]")||F,F.focus({preventScroll:!0}))}})}function S(q){q&&typeof q.focus=="function"?q.focus({preventScroll:!0}):H(),n("shake");const F=a.value;F!==null&&(F.classList.remove("q-animate--scale"),F.classList.add("q-animate--scale"),f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,a.value!==null&&(F.classList.remove("q-animate--scale"),H())},170))}function V(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&S():(n("escapeKey"),W()))}function L(q){f!==null&&(clearTimeout(f),f=null),(q===!0||r.value===!0)&&(v(!1),e.seamless!==!0&&(g(!1),kn(X),Xt(V))),q!==!0&&(w=null)}function v(q){q===!0?c!==!0&&(jt<1&&document.body.classList.add("q-body--dialog"),jt++,c=!0):c===!0&&(jt<2&&document.body.classList.remove("q-body--dialog"),jt--,c=!1)}function M(q){b!==!0&&(W(q),n("click",q))}function N(q){e.persistent!==!0&&e.noBackdropDismiss!==!0?W(q):e.noShake!==!0&&S()}function X(q){e.allowFocusOutside!==!0&&R.value===!0&&Il(a.value,q.target)!==!0&&H('[tabindex]:not([tabindex="-1"])')}Object.assign(o.proxy,{focus:H,shake:S,__updateRefocusTarget(q){w=q||null}}),Fe(L);function J(){return h("div",{role:"dialog","aria-modal":ae.value===!0?"true":"false",...l,class:Y.value},[h(Be,{name:"q-transition--fade",appear:!0},()=>ae.value===!0?h("div",{class:"q-dialog__backdrop fixed-full",style:B.value,"aria-hidden":"true",tabindex:-1,onClick:N}):null),h(Be,E.value,()=>r.value===!0?h("div",{ref:a,class:le.value,style:K.value,tabindex:-1,...fe.value},_e(t.default)):null)])}return j}});let en=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,en=e.scrollLeft>=0,e.remove()}const Ee=1e3,Oo=["start","center","end","start-force","center-force","end-force"],oa=Array.prototype.filter,$o=window.getComputedStyle(document.body).overflowAnchor===void 0?Cl:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];oa.call(n,o=>o.dataset&&o.dataset.qVsAnchor!==void 0).forEach(o=>{delete o.dataset.qVsAnchor});const l=n[t];l&&l.dataset&&(l.dataset.qVsAnchor="")}))};function bt(e,t){return e+t}function pn(e,t,n,l,o,a,r,u){const f=e===window?document.scrollingElement||document.documentElement:e,w=o===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-r-u,scrollMaxSize:0,offsetStart:-r,offsetEnd:-u};if(o===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=f.scrollLeft,c.scrollViewSize+=f.clientWidth),c.scrollMaxSize=f.scrollWidth,a===!0&&(c.scrollStart=(en===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=f.scrollTop,c.scrollViewSize+=f.clientHeight),c.scrollMaxSize=f.scrollHeight),n!==null)for(let b=n.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=b[w]);if(l!==null)for(let b=l.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=b[w]);if(t!==e){const b=f.getBoundingClientRect(),D=t.getBoundingClientRect();o===!0?(c.offsetStart+=D.left-b.left,c.offsetEnd-=D.width):(c.offsetStart+=D.top-b.top,c.offsetEnd-=D.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function ml(e,t,n,l){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(l===!0&&(t=(en===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(l===!0&&(t=(en===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function qt(e,t,n,l){if(n>=l)return 0;const o=t.length,a=Math.floor(n/Ee),r=Math.floor((l-1)/Ee)+1;let u=e.slice(a,r).reduce(bt,0);return n%Ee!==0&&(u-=t.slice(a*Ee,n).reduce(bt,0)),l%Ee!==0&&l!==o&&(u-=t.slice(l,r*Ee).reduce(bt,0)),u}const zo={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},hl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...zo};function Po({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:l}){const o=ye(),{props:a,emit:r,proxy:u}=o,{$q:f}=u;let w,c,b,D=[],g;const C=P(0),k=P(0),y=P({}),E=P(null),K=P(null),B=P(null),x=P({from:0,to:0}),z=m(()=>a.tableColspan!==void 0?a.tableColspan:100);l===void 0&&(l=m(()=>a.virtualScrollItemSize));const R=m(()=>l.value+";"+a.virtualScrollHorizontal),j=m(()=>R.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ce(j,()=>{ee()}),ce(R,W);function W(){U(c,!0)}function ie(v){U(v===void 0?c:v)}function ue(v,M){const N=t();if(N==null||N.nodeType===8)return;const X=pn(N,n(),E.value,K.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);b!==X.scrollViewSize&&ee(X.scrollViewSize),ae(N,X,Math.min(e.value-1,Math.max(0,parseInt(v,10)||0)),0,Oo.indexOf(M)!==-1?M:c!==-1&&v>c?"end":"start")}function le(){const v=t();if(v==null||v.nodeType===8)return;const M=pn(v,n(),E.value,K.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),N=e.value-1,X=M.scrollMaxSize-M.offsetStart-M.offsetEnd-k.value;if(w===M.scrollStart)return;if(M.scrollMaxSize<=0){ae(v,M,0,0);return}b!==M.scrollViewSize&&ee(M.scrollViewSize),fe(x.value.from);const J=Math.floor(M.scrollMaxSize-Math.max(M.scrollViewSize,M.offsetEnd)-Math.min(g[N],M.scrollViewSize/2));if(J>0&&Math.ceil(M.scrollStart)>=J){ae(v,M,N,M.scrollMaxSize-M.offsetEnd-D.reduce(bt,0));return}let q=0,F=M.scrollStart-M.offsetStart,te=F;if(F<=X&&F+M.scrollViewSize>=C.value)F-=C.value,q=x.value.from,te=F;else for(let _=0;F>=D[_]&&q<N;_++)F-=D[_],q+=Ee;for(;F>0&&q<N;)F-=g[q],F>-M.scrollViewSize?(q++,te=F):te=g[q]+F;ae(v,M,q,te)}function ae(v,M,N,X,J){const q=typeof J=="string"&&J.indexOf("-force")!==-1,F=q===!0?J.replace("-force",""):J,te=F!==void 0?F:"start";let _=Math.max(0,N-y.value[te]),me=_+y.value.total;me>e.value&&(me=e.value,_=Math.max(0,me-y.value.total)),w=M.scrollStart;const oe=_!==x.value.from||me!==x.value.to;if(oe===!1&&F===void 0){S(N);return}const{activeElement:he}=document,we=B.value;oe===!0&&we!==null&&we!==he&&we.contains(he)===!0&&(we.addEventListener("focusout",Y),setTimeout(()=>{we!==null&&we.removeEventListener("focusout",Y)})),$o(we,N-_);const Le=F!==void 0?g.slice(_,N).reduce(bt,0):0;if(oe===!0){const Ie=me>=x.value.from&&_<=x.value.to?x.value.to:me;x.value={from:_,to:Ie},C.value=qt(D,g,0,_),k.value=qt(D,g,me,e.value),requestAnimationFrame(()=>{x.value.to!==me&&w===M.scrollStart&&(x.value={from:x.value.from,to:me},k.value=qt(D,g,me,e.value))})}requestAnimationFrame(()=>{if(w!==M.scrollStart)return;oe===!0&&fe(_);const Ie=g.slice(_,N).reduce(bt,0),Me=Ie+M.offsetStart+C.value,pe=Me+g[N];let Xe=Me+X;if(F!==void 0){const wt=Ie-Le,Je=M.scrollStart+wt;Xe=q!==!0&&Je<Me&&pe<Je+M.scrollViewSize?Je:F==="end"?pe-M.scrollViewSize:Me-(F==="start"?0:Math.round((M.scrollViewSize-g[N])/2))}w=Xe,ml(v,Xe,a.virtualScrollHorizontal,f.lang.rtl),S(N)})}function fe(v){const M=B.value;if(M){const N=oa.call(M.children,_=>_.classList&&_.classList.contains("q-virtual-scroll--skip")===!1),X=N.length,J=a.virtualScrollHorizontal===!0?_=>_.getBoundingClientRect().width:_=>_.offsetHeight;let q=v,F,te;for(let _=0;_<X;){for(F=J(N[_]),_++;_<X&&N[_].classList.contains("q-virtual-scroll--with-prev")===!0;)F+=J(N[_]),_++;te=F-g[q],te!==0&&(g[q]+=te,D[Math.floor(q/Ee)]+=te),q++}}}function Y(){B.value!==null&&B.value!==void 0&&B.value.focus()}function U(v,M){const N=1*l.value;(M===!0||Array.isArray(g)===!1)&&(g=[]);const X=g.length;g.length=e.value;for(let q=e.value-1;q>=X;q--)g[q]=N;const J=Math.floor((e.value-1)/Ee);D=[];for(let q=0;q<=J;q++){let F=0;const te=Math.min((q+1)*Ee,e.value);for(let _=q*Ee;_<te;_++)F+=g[_];D.push(F)}c=-1,w=void 0,C.value=qt(D,g,0,x.value.from),k.value=qt(D,g,x.value.to,e.value),v>=0?(fe(x.value.from),Ce(()=>{ue(v)})):V()}function ee(v){if(v===void 0&&typeof window!="undefined"){const F=t();F!=null&&F.nodeType!==8&&(v=pn(F,n(),E.value,K.value,a.virtualScrollHorizontal,f.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}b=v;const M=parseFloat(a.virtualScrollSliceRatioBefore)||0,N=parseFloat(a.virtualScrollSliceRatioAfter)||0,X=1+M+N,J=v===void 0||v<=0?1:Math.ceil(v/l.value),q=Math.max(1,J,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/X));y.value={total:Math.ceil(q*X),start:Math.ceil(q*M),center:Math.ceil(q*(.5+M)),end:Math.ceil(q*(1+M)),view:J}}function H(v,M){const N=a.virtualScrollHorizontal===!0?"width":"height",X={["--q-virtual-scroll-item-"+N]:l.value+"px"};return[v==="tbody"?h(v,{class:"q-virtual-scroll__padding",key:"before",ref:E},[h("tr",[h("td",{style:{[N]:`${C.value}px`,...X},colspan:z.value})])]):h(v,{class:"q-virtual-scroll__padding",key:"before",ref:E,style:{[N]:`${C.value}px`,...X}}),h(v,{class:"q-virtual-scroll__content",key:"content",ref:B,tabindex:-1},M.flat()),v==="tbody"?h(v,{class:"q-virtual-scroll__padding",key:"after",ref:K},[h("tr",[h("td",{style:{[N]:`${k.value}px`,...X},colspan:z.value})])]):h(v,{class:"q-virtual-scroll__padding",key:"after",ref:K,style:{[N]:`${k.value}px`,...X}})]}function S(v){c!==v&&(a.onVirtualScroll!==void 0&&r("virtualScroll",{index:v,from:x.value.from,to:x.value.to-1,direction:v<c?"decrease":"increase",ref:u}),c=v)}ee();const V=Al(le,f.platform.is.ios===!0?120:35);Ca(()=>{ee()});let L=!1;return tn(()=>{L=!0}),Hn(()=>{if(L!==!0)return;const v=t();w!==void 0&&v!==void 0&&v!==null&&v.nodeType!==8?ml(v,w,a.virtualScrollHorizontal,f.lang.rtl):ue(c)}),Fe(()=>{V.cancel()}),Object.assign(u,{scrollTo:ue,reset:W,refresh:ie}),{virtualScrollSliceRange:x,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:ee,onVirtualScrollEvt:V,localResetVirtualScroll:U,padVirtualScroll:H,scrollTo:ue,reset:W,refresh:ie}}const ia={name:String};function Ro(e){return m(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function Yo(e={}){return(t,n,l)=>{t[n](h("input",{class:"hidden"+(l||""),...e.value}))}}function Lo(e){return m(()=>e.name||e.for)}const No=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,jo=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Wo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Qo=/[a-z0-9_ -]$/i;function Ko(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Qe.is.firefox===!0?Qo.test(n.data)===!1:No.test(n.data)===!0||jo.test(n.data)===!0||Wo.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const gl=e=>["add","add-unique","toggle"].includes(e),Uo=".*+?^${}()|[]\\",Zo=Object.keys(Fn);function bn(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return l=>l!==null&&typeof l=="object"&&n in l?l[n]:l}var yl=Ve({name:"QSelect",inheritAttrs:!1,props:{...hl,...ia,...Fn,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:gl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:hl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Wl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:l}=ye(),{$q:o}=l,a=P(!1),r=P(!1),u=P(-1),f=P(""),w=P(!1),c=P(!1);let b=null,D=null,g,C,k,y=null,E,K,B,x;const z=P(null),R=P(null),j=P(null),W=P(null),ie=P(null),ue=Lo(e),le=Ko(mt),ae=m(()=>Array.isArray(e.options)?e.options.length:0),fe=m(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Y,virtualScrollSliceSizeComputed:U,localResetVirtualScroll:ee,padVirtualScroll:H,onVirtualScrollEvt:S,scrollTo:V,setVirtualScrollSize:L}=Po({virtualScrollLength:ae,getVirtualScrollTarget:vt,getVirtualScrollEl:Ct,virtualScrollItemSizeComputed:fe}),v=Ql(),M=m(()=>{const s=e.mapOptions===!0&&e.multiple!==!0,I=e.modelValue!==void 0&&(e.modelValue!==null||s===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const O=e.mapOptions===!0&&g!==void 0?g:[],G=I.map(de=>Bt(de,O));return e.modelValue===null&&s===!0?G.filter(de=>de!==null):G}return I}),N=m(()=>{const s={};return Zo.forEach(I=>{const O=e[I];O!==void 0&&(s[I]=O)}),s}),X=m(()=>e.optionsDark===null?v.isDark.value:e.optionsDark),J=m(()=>qn(M.value)),q=m(()=>{let s="q-field__input q-placeholder col";return e.hideSelected===!0||M.value.length===0?[s,e.inputClass]:(s+=" q-field__input--padding",e.inputClass===void 0?s:[s,e.inputClass])}),F=m(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),te=m(()=>ae.value===0),_=m(()=>M.value.map(s=>xe.value(s)).join(", ")),me=m(()=>e.displayValue!==void 0?e.displayValue:_.value),oe=m(()=>e.optionsHtml===!0?()=>!0:s=>s!=null&&s.html===!0),he=m(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||M.value.some(oe.value))),we=m(()=>v.focused.value===!0?e.tabindex:-1),Le=m(()=>{const s={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${v.targetUid.value}_lb`};return u.value>=0&&(s["aria-activedescendant"]=`${v.targetUid.value}_${u.value}`),s}),Ie=m(()=>({id:`${v.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Me=m(()=>M.value.map((s,I)=>({index:I,opt:s,html:oe.value(s),selected:!0,removeAtIndex:an,toggleOption:He,tabindex:we.value}))),pe=m(()=>{if(ae.value===0)return[];const{from:s,to:I}=Y.value;return e.options.slice(s,I).map((O,G)=>{const de=Oe.value(O)===!0,re=nt(O)===!0,be=s+G,ge={clickable:!0,active:re,activeClass:Je.value,manualFocus:!0,focused:!1,disable:de,tabindex:-1,dense:e.optionsDense,dark:X.value,role:"option","aria-selected":re===!0?"true":"false",id:`${v.targetUid.value}_${be}`,onClick:()=>{He(O)}};return de!==!0&&(u.value===be&&(ge.focused=!0),o.platform.is.desktop===!0&&(ge.onMousemove=()=>{a.value===!0&&Ne(be)})),{index:be,opt:O,html:oe.value(O),label:xe.value(O),selected:ge.active,focused:ge.focused,toggleOption:He,setOptionIndex:Ne,itemProps:ge}})}),Xe=m(()=>e.dropdownIcon!==void 0?e.dropdownIcon:o.iconSet.arrow.dropdown),wt=m(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Je=m(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),qe=m(()=>bn(e.optionValue,"value")),xe=m(()=>bn(e.optionLabel,"label")),Oe=m(()=>bn(e.optionDisable,"disable")),Ge=m(()=>M.value.map(qe.value)),ln=m(()=>{const s={onInput:mt,onChange:le,onKeydown:je,onKeyup:Ot,onKeypress:$e,onFocus:Ft,onClick(I){C===!0&&ht(I)}};return s.onCompositionstart=s.onCompositionupdate=s.onCompositionend=le,s});ce(M,s=>{g=s,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&v.innerLoading.value!==!0&&(r.value!==!0&&a.value!==!0||J.value!==!0)&&(k!==!0&&Ae(),(r.value===!0||a.value===!0)&&ze(""))},{immediate:!0}),ce(()=>e.fillInput,Ae),ce(a,sn),ce(ae,ga);function Et(s){return e.emitValue===!0?qe.value(s):s}function et(s){if(s!==-1&&s<M.value.length)if(e.multiple===!0){const I=e.modelValue.slice();n("remove",{index:s,value:I.splice(s,1)[0]}),n("update:modelValue",I)}else n("update:modelValue",null)}function an(s){et(s),v.focus()}function xt(s,I){const O=Et(s);if(e.multiple!==!0){e.fillInput===!0&&at(xe.value(s),!0,!0),n("update:modelValue",O);return}if(M.value.length===0){n("add",{index:0,value:O}),n("update:modelValue",e.multiple===!0?[O]:O);return}if(I===!0&&nt(s)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const G=e.modelValue.slice();n("add",{index:G.length,value:O}),G.push(O),n("update:modelValue",G)}function He(s,I){if(v.editable.value!==!0||s===void 0||Oe.value(s)===!0)return;const O=qe.value(s);if(e.multiple!==!0){I!==!0&&(at(e.fillInput===!0?xe.value(s):"",!0,!0),ne()),R.value!==null&&R.value.focus(),(M.value.length===0||_t(qe.value(M.value[0]),O)!==!0)&&n("update:modelValue",e.emitValue===!0?O:s);return}if((C!==!0||w.value===!0)&&v.focus(),Ft(),M.value.length===0){const re=e.emitValue===!0?O:s;n("add",{index:0,value:re}),n("update:modelValue",e.multiple===!0?[re]:re);return}const G=e.modelValue.slice(),de=Ge.value.findIndex(re=>_t(re,O));if(de!==-1)n("remove",{index:de,value:G.splice(de,1)[0]});else{if(e.maxValues!==void 0&&G.length>=e.maxValues)return;const re=e.emitValue===!0?O:s;n("add",{index:G.length,value:re}),G.push(re)}n("update:modelValue",G)}function Ne(s){if(o.platform.is.desktop!==!0)return;const I=s!==-1&&s<ae.value?s:-1;u.value!==I&&(u.value=I)}function tt(s=1,I){if(a.value===!0){let O=u.value;do O=Xn(O+s,-1,ae.value-1);while(O!==-1&&O!==u.value&&Oe.value(e.options[O])===!0);u.value!==O&&(Ne(O),V(O),I!==!0&&e.useInput===!0&&e.fillInput===!0&&lt(O>=0?xe.value(e.options[O]):E,!0))}}function Bt(s,I){const O=G=>_t(qe.value(G),s);return e.options.find(O)||I.find(O)||s}function nt(s){const I=qe.value(s);return Ge.value.find(O=>_t(O,I))!==void 0}function Ft(s){e.useInput===!0&&R.value!==null&&(s===void 0||R.value===s.target&&s.target.value===_.value)&&R.value.select()}function It(s){Tn(s,27)===!0&&a.value===!0&&(ht(s),ne(),Ae()),n("keyup",s)}function Ot(s){const{value:I}=s.target;if(s.keyCode!==void 0){It(s);return}if(s.target.value="",b!==null&&(clearTimeout(b),b=null),D!==null&&(clearTimeout(D),D=null),Ae(),typeof I=="string"&&I.length!==0){const O=I.toLocaleLowerCase(),G=re=>{const be=e.options.find(ge=>String(re.value(ge)).toLocaleLowerCase()===O);return be===void 0?!1:(M.value.indexOf(be)===-1?He(be):ne(),!0)},de=re=>{G(qe)!==!0&&re!==!0&&G(xe)!==!0&&ze(I,!0,()=>de(!0))};de()}else v.clearValue(s)}function $e(s){n("keypress",s)}function je(s){if(n("keydown",s),_a(s)===!0)return;const I=f.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),O=s.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(u.value!==-1||I===!0);if(s.keyCode===27){Ye(s);return}if(s.keyCode===9&&O===!1){$();return}if(s.target===void 0||s.target.id!==v.targetUid.value||v.editable.value!==!0)return;if(s.keyCode===40&&v.innerLoading.value!==!0&&a.value===!1){De(s),Q();return}if(s.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?et(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(s.keyCode===35||s.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(De(s),u.value=-1,tt(s.keyCode===36?1:-1,e.multiple)),(s.keyCode===33||s.keyCode===34)&&U.value!==void 0&&(De(s),u.value=Math.max(-1,Math.min(ae.value,u.value+(s.keyCode===33?-1:1)*U.value.view)),tt(s.keyCode===33?1:-1,e.multiple)),(s.keyCode===38||s.keyCode===40)&&(De(s),tt(s.keyCode===38?-1:1,e.multiple));const G=ae.value;if((B===void 0||x<Date.now())&&(B=""),G>0&&e.useInput!==!0&&s.key!==void 0&&s.key.length===1&&s.altKey===!1&&s.ctrlKey===!1&&s.metaKey===!1&&(s.keyCode!==32||B.length!==0)){a.value!==!0&&Q(s);const de=s.key.toLocaleLowerCase(),re=B.length===1&&B[0]===de;x=Date.now()+1500,re===!1&&(De(s),B+=de);const be=new RegExp("^"+B.split("").map(cn=>Uo.indexOf(cn)!==-1?"\\"+cn:cn).join(".*"),"i");let ge=u.value;if(re===!0||ge<0||be.test(xe.value(e.options[ge]))!==!0)do ge=Xn(ge+1,-1,G-1);while(ge!==u.value&&(Oe.value(e.options[ge])===!0||be.test(xe.value(e.options[ge]))!==!0));u.value!==ge&&Ce(()=>{Ne(ge),V(ge),ge>=0&&e.useInput===!0&&e.fillInput===!0&&lt(xe.value(e.options[ge]),!0)});return}if(!(s.keyCode!==13&&(s.keyCode!==32||e.useInput===!0||B!=="")&&(s.keyCode!==9||O===!1))){if(s.keyCode!==9&&De(s),u.value!==-1&&u.value<G){He(e.options[u.value]);return}if(I===!0){const de=(re,be)=>{if(be){if(gl(be)!==!0)return}else be=e.newValueMode;if(at("",e.multiple!==!0,!0),re==null)return;(be==="toggle"?He:xt)(re,be==="add-unique"),e.multiple!==!0&&(R.value!==null&&R.value.focus(),ne())};if(e.onNewValue!==void 0?n("newValue",f.value,de):de(f.value),e.multiple!==!0)return}a.value===!0?$():v.innerLoading.value!==!0&&Q()}}function Ct(){return C===!0?ie.value:j.value!==null&&j.value.contentEl!==null?j.value.contentEl:void 0}function vt(){return Ct()}function $t(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Me.value.map(s=>t["selected-item"](s)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Me.value.map((s,I)=>h(Ul,{key:"option-"+I,removable:v.editable.value===!0&&Oe.value(s.opt)!==!0,dense:!0,textColor:e.color,tabindex:we.value,onRemove(){s.removeAtIndex(I)}},()=>h("span",{class:"ellipsis",[s.html===!0?"innerHTML":"textContent"]:xe.value(s.opt)}))):[h("span",{[he.value===!0?"innerHTML":"textContent"]:me.value})]}function We(){if(te.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:f.value}):void 0;const s=t.option!==void 0?t.option:O=>h($a,{key:O.index,...O.itemProps},()=>h(Oa,()=>h(mo,()=>h("span",{[O.html===!0?"innerHTML":"textContent"]:O.label}))));let I=H("div",pe.value.map(s));return t["before-options"]!==void 0&&(I=t["before-options"]().concat(I)),Rl(t["after-options"],I)}function Dt(s,I){const O=I===!0?{...Le.value,...v.splitAttrs.attributes.value}:void 0,G={ref:I===!0?R:void 0,key:"i_t",class:q.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...O,id:I===!0?v.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":s===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ln.value};return s!==!0&&C===!0&&(Array.isArray(G.class)===!0?G.class=[...G.class,"no-pointer-events"]:G.class+=" no-pointer-events"),h("input",G)}function mt(s){b!==null&&(clearTimeout(b),b=null),D!==null&&(clearTimeout(D),D=null),!(s&&s.target&&s.target.qComposing===!0)&&(lt(s.target.value||""),k=!0,E=f.value,v.focused.value!==!0&&(C!==!0||w.value===!0)&&v.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,ze(f.value)},e.inputDebounce)))}function lt(s,I){f.value!==s&&(f.value=s,I===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",s):D=setTimeout(()=>{D=null,n("inputValue",s)},e.inputDebounce))}function at(s,I,O){k=O!==!0,e.useInput===!0&&(lt(s,!0),(I===!0||O!==!0)&&(E=s),I!==!0&&ze(s))}function ze(s,I,O){if(e.onFilter===void 0||I!==!0&&v.focused.value!==!0)return;v.innerLoading.value===!0?n("filterAbort"):(v.innerLoading.value=!0,c.value=!0),s!==""&&e.multiple!==!0&&M.value.length!==0&&k!==!0&&s===xe.value(M.value[0])&&(s="");const G=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);y!==null&&clearTimeout(y),y=G,n("filter",s,(de,re)=>{(I===!0||v.focused.value===!0)&&y===G&&(clearTimeout(y),typeof de=="function"&&de(),c.value=!1,Ce(()=>{v.innerLoading.value=!1,v.editable.value===!0&&(I===!0?a.value===!0&&ne():a.value===!0?sn(!0):a.value=!0),typeof re=="function"&&Ce(()=>{re(l)}),typeof O=="function"&&Ce(()=>{O(l)})}))},()=>{v.focused.value===!0&&y===G&&(clearTimeout(y),v.innerLoading.value=!1,c.value=!1),a.value===!0&&(a.value=!1)})}function on(){return h(Bo,{ref:j,class:F.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&te.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:X.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:wt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ie.value,onScrollPassive:S,onBeforeShow:Rn,onBeforeHide:un,onShow:rn},We)}function un(s){Yn(s),$()}function rn(){L()}function i(s){ht(s),R.value!==null&&R.value.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function d(s){ht(s),Ce(()=>{w.value=!1})}function p(){const s=[h(fo,{class:`col-auto ${v.fieldClass.value}`,...N.value,for:v.targetUid.value,dark:X.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:f.value.length!==0,...v.splitAttrs.listeners.value,onFocus:i,onBlur:d},{...t,rawControl:()=>v.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&s.push(h("div",{ref:ie,class:F.value+" scroll",style:e.popupContentStyle,...Ie.value,onClick:Ye,onScrollPassive:S},We())),h(Io,{ref:W,modelValue:r.value,position:e.useInput===!0?"top":void 0,transitionShow:K,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Rn,onBeforeHide:A,onHide:T,onShow:Z},()=>h("div",{class:"q-select__dialog"+(X.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},s))}function A(s){Yn(s),W.value!==null&&W.value.__updateRefocusTarget(v.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),v.focused.value=!1}function T(s){ne(),v.focused.value===!1&&n("blur",s),Ae()}function Z(){const s=document.activeElement;(s===null||s.id!==v.targetUid.value)&&R.value!==null&&R.value!==s&&R.value.focus(),L()}function $(){r.value!==!0&&(u.value=-1,a.value===!0&&(a.value=!1),v.focused.value===!1&&(y!==null&&(clearTimeout(y),y=null),v.innerLoading.value===!0&&(n("filterAbort"),v.innerLoading.value=!1,c.value=!1)))}function Q(s){v.editable.value===!0&&(C===!0?(v.onControlFocusin(s),r.value=!0,Ce(()=>{v.focus()})):v.focus(),e.onFilter!==void 0?ze(f.value):(te.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function ne(){r.value=!1,$()}function Ae(){e.useInput===!0&&at(e.multiple!==!0&&e.fillInput===!0&&M.value.length!==0&&xe.value(M.value[0])||"",!0,!0)}function sn(s){let I=-1;if(s===!0){if(M.value.length!==0){const O=qe.value(M.value[0]);I=e.options.findIndex(G=>_t(qe.value(G),O))}ee(I)}Ne(I)}function ga(s,I){a.value===!0&&v.innerLoading.value===!1&&(ee(-1,!0),Ce(()=>{a.value===!0&&v.innerLoading.value===!1&&(s>I?ee():sn(!0))}))}function Pn(){r.value===!1&&j.value!==null&&j.value.updatePosition()}function Rn(s){s!==void 0&&ht(s),n("popupShow",s),v.hasPopupOpen=!0,v.onControlFocusin(s)}function Yn(s){s!==void 0&&ht(s),n("popupHide",s),v.hasPopupOpen=!1,v.onControlFocusout(s)}function Ln(){C=o.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||te.value===!1:!0),K=o.platform.is.ios===!0&&C===!0&&e.useInput===!0?"fade":e.transitionShow}return kl(Ln),Da(Pn),Ln(),Fe(()=>{b!==null&&clearTimeout(b),D!==null&&clearTimeout(D)}),Object.assign(l,{showPopup:Q,hidePopup:ne,removeAtIndex:et,add:xt,toggleOption:He,getOptionIndex:()=>u.value,setOptionIndex:Ne,moveOptionSelection:tt,filter:ze,updateMenuPosition:Pn,updateInputValue:at,isOptionSelected:nt,getEmittingOptionValue:Et,isOptionDisabled:(...s)=>Oe.value.apply(null,s)===!0,getOptionValue:(...s)=>qe.value.apply(null,s),getOptionLabel:(...s)=>xe.value.apply(null,s)}),Object.assign(v,{innerValue:M,fieldClass:m(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:z,targetRef:R,hasValue:J,showPopup:Q,floatingLabel:m(()=>e.hideSelected!==!0&&J.value===!0||typeof f.value=="number"||f.value.length!==0||qn(e.displayValue)),getControlChild:()=>{if(v.editable.value!==!1&&(r.value===!0||te.value!==!0||t["no-option"]!==void 0))return C===!0?p():on();v.hasPopupOpen===!0&&(v.hasPopupOpen=!1)},controlEvents:{onFocusin(s){v.onControlFocusin(s)},onFocusout(s){v.onControlFocusout(s,()=>{Ae(),$()})},onClick(s){if(Ye(s),C!==!0&&a.value===!0){$(),R.value!==null&&R.value.focus();return}Q(s)}},getControl:s=>{const I=$t(),O=s===!0||r.value!==!0||C!==!0;if(e.useInput===!0)I.push(Dt(s,O));else if(v.editable.value===!0){const de=O===!0?Le.value:void 0;I.push(h("input",{ref:O===!0?R:void 0,key:"d_t",class:"q-select__focus-target",id:O===!0?v.targetUid.value:void 0,value:me.value,readonly:!0,"data-autofocus":s===!0||e.autofocus===!0||void 0,...de,onKeydown:je,onKeyup:It,onKeypress:$e})),O===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&I.push(h("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ot}))}if(ue.value!==void 0&&e.disable!==!0&&Ge.value.length!==0){const de=Ge.value.map(re=>h("option",{value:re,selected:!0}));I.push(h("select",{class:"hidden",name:ue.value,multiple:e.multiple},de))}const G=e.useInput===!0||O!==!0?void 0:v.splitAttrs.attributes.value;return h("div",{class:"q-field__native row items-center",...G,...v.splitAttrs.listeners.value},I)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[h(st,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Xe.value})]:null}),Kl(v)}});const Ze=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Xo(e,t,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),ti(In(e,t,n))}function pl(e,t,n){return ra(ei(e,t,n))}function Jo(e){return Go(e)===0}function Kt(e,t){return t<=6?31:t<=11||Jo(e)?30:29}function Go(e){const t=Ze.length;let n=Ze[0],l,o,a,r,u;if(e<n||e>=Ze[t-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<t&&(l=Ze[u],o=l-n,!(e<l));u+=1)n=l;return r=e-n,o-r<6&&(r=r-o+ve(o+4,33)*33),a=ke(ke(r+1,33)-1,4),a===-1&&(a=4),a}function ua(e,t){const n=Ze.length,l=e+621;let o=-14,a=Ze[0],r,u,f,w,c;if(e<a||e>=Ze[n-1])throw new Error("Invalid Jalaali year "+e);for(c=1;c<n&&(r=Ze[c],u=r-a,!(e<r));c+=1)o=o+ve(u,33)*8+ve(ke(u,33),4),a=r;w=e-a,o=o+ve(w,33)*8+ve(ke(w,33)+3,4),ke(u,33)===4&&u-w===4&&(o+=1);const b=ve(l,4)-ve((ve(l,100)+1)*3,4)-150,D=20+o-b;return t||(u-w<6&&(w=w-u+ve(u+4,33)*33),f=ke(ke(w+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:l,march:D}}function ei(e,t,n){const l=ua(e,!0);return In(l.gy,3,l.march)+(t-1)*31-ve(t,7)*(t-7)+n-1}function ti(e){const t=ra(e).gy;let n=t-621,l,o,a;const r=ua(n,!1),u=In(t,3,r.march);if(a=e-u,a>=0){if(a<=185)return o=1+ve(a,31),l=ke(a,31)+1,{jy:n,jm:o,jd:l};a-=186}else n-=1,a+=179,r.leap===1&&(a+=1);return o=7+ve(a,30),l=ke(a,30)+1,{jy:n,jm:o,jd:l}}function In(e,t,n){let l=ve((e+ve(t-8,6)+100100)*1461,4)+ve(153*ke(t+9,12)+2,5)+n-34840408;return l=l-ve(ve(e+100100+ve(t-8,6),100)*3,4)+752,l}function ra(e){let t=4*e+139361631;t=t+ve(ve(4*e+183187720,146097)*3,4)*4-3908;const n=ve(ke(t,1461),4)*5+308,l=ve(ke(n,153),5)+1,o=ke(ve(n,153),12)+1;return{gy:ve(t,1461)-100100+ve(8-o,6),gm:o,gd:l}}function ve(e,t){return~~(e/t)}function ke(e,t){return e-~~(e/t)*t}const ni=["gregorian","persian"],bl={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>ni.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},li=["update:modelValue"];function Ke(e){return e.year+"/"+se(e.month)+"/"+se(e.day)}function ai(e,t){const n=m(()=>e.disable!==!0&&e.readonly!==!0),l=m(()=>n.value===!0?0:-1),o=m(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function a(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function r(u){const f=new Date,w=u===!0?null:0;if(e.calendar==="persian"){const c=Xo(f);return{year:c.jy,month:c.jm,day:c.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:w,minute:w,second:w,millisecond:w}}return{editable:n,tabindex:l,headerClass:o,getLocale:a,getCurrentDate:r}}const sa=864e5,oi=36e5,An=6e4,ca="YYYY-MM-DDTHH:mm:ss.SSSZ",ii=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,ui=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Sn={};function ri(e,t){const n="("+t.days.join("|")+")",l=e+n;if(Sn[l]!==void 0)return Sn[l];const o="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",r="("+t.monthsShort.join("|")+")",u={};let f=0;const w=e.replace(ui,b=>{switch(f++,b){case"YY":return u.YY=f,"(-?\\d{1,2})";case"YYYY":return u.YYYY=f,"(-?\\d{1,4})";case"M":return u.M=f,"(\\d{1,2})";case"Mo":return u.M=f++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return u.M=f,"(\\d{2})";case"MMM":return u.MMM=f,r;case"MMMM":return u.MMMM=f,a;case"D":return u.D=f,"(\\d{1,2})";case"Do":return u.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=f,"(\\d{2})";case"H":return u.H=f,"(\\d{1,2})";case"HH":return u.H=f,"(\\d{2})";case"h":return u.h=f,"(\\d{1,2})";case"hh":return u.h=f,"(\\d{2})";case"m":return u.m=f,"(\\d{1,2})";case"mm":return u.m=f,"(\\d{2})";case"s":return u.s=f,"(\\d{1,2})";case"ss":return u.s=f,"(\\d{2})";case"S":return u.S=f,"(\\d{1})";case"SS":return u.S=f,"(\\d{2})";case"SSS":return u.S=f,"(\\d{3})";case"A":return u.A=f,"(AM|PM)";case"a":return u.a=f,"(am|pm)";case"aa":return u.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return o;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"do":return f++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return f++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return f++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return u.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=f,"(-?\\d+)";case"x":return u.x=f,"(-?\\d{4,})";default:return f--,b[0]==="["&&(b=b.substring(1,b.length-1)),b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),c={map:u,regex:new RegExp("^"+w)};return Sn[l]=c,c}function da(e,t){return e!==void 0?e:t!==void 0?t.date:Ma.date}function Sl(e,t=""){const n=e>0?"-":"+",l=Math.abs(e),o=Math.floor(l/60),a=l%60;return n+se(o)+t+se(a)}function si(e,t,n){let l=e.getFullYear(),o=e.getMonth();const a=e.getDate();return t.year!==void 0&&(l+=n*t.year,delete t.year),t.month!==void 0&&(o+=n*t.month,delete t.month),e.setDate(1),e.setMonth(2),e.setFullYear(l),e.setMonth(o),e.setDate(Math.min(a,zn(e))),t.date!==void 0&&(e.setDate(e.getDate()+n*t.date),delete t.date),e}function ci(e,t,n){const l=t.year!==void 0?t.year:e[`get${n}FullYear`](),o=t.month!==void 0?t.month-1:e[`get${n}Month`](),a=new Date(l,o+1,0).getDate(),r=Math.min(a,t.date!==void 0?t.date:e[`get${n}Date`]());return e[`set${n}Date`](1),e[`set${n}Month`](2),e[`set${n}FullYear`](l),e[`set${n}Month`](o),e[`set${n}Date`](r),delete t.year,delete t.month,delete t.date,e}function On(e,t,n){const l=fa(t),o=new Date(e),a=l.year!==void 0||l.month!==void 0||l.date!==void 0?si(o,l,n):o;for(const r in l){const u=za(r);a[`set${u}`](a[`get${u}`]()+n*l[r])}return a}function fa(e){const t={...e};return e.years!==void 0&&(t.year=e.years,delete t.years),e.months!==void 0&&(t.month=e.months,delete t.months),e.days!==void 0&&(t.date=e.days,delete t.days),e.day!==void 0&&(t.date=e.day,delete t.day),e.hour!==void 0&&(t.hours=e.hour,delete t.hour),e.minute!==void 0&&(t.minutes=e.minute,delete t.minute),e.second!==void 0&&(t.seconds=e.second,delete t.second),e.millisecond!==void 0&&(t.milliseconds=e.millisecond,delete t.millisecond),t}function va(e,t,n){const l=fa(t),o=n===!0?"UTC":"",a=new Date(e),r=l.year!==void 0||l.month!==void 0||l.date!==void 0?ci(a,l,o):a;for(const u in l){const f=u.charAt(0).toUpperCase()+u.slice(1);r[`set${o}${f}`](l[u])}return r}function di(e,t,n){const l=ma(e,t,n),o=new Date(l.year,l.month===null?null:l.month-1,l.day===null?1:l.day,l.hour,l.minute,l.second,l.millisecond),a=o.getTimezoneOffset();return l.timezoneOffset===null||l.timezoneOffset===a?o:On(o,{minutes:l.timezoneOffset-a},1)}function ma(e,t,n,l,o){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(o!==void 0&&Object.assign(a,o),e==null||e===""||typeof e!="string")return a;t===void 0&&(t=ca);const r=da(n,Tl.props),u=r.months,f=r.monthsShort,{regex:w,map:c}=ri(t,r),b=e.match(w);if(b===null)return a;let D="";if(c.X!==void 0||c.x!==void 0){const g=parseInt(b[c.X!==void 0?c.X:c.x],10);if(isNaN(g)===!0||g<0)return a;const C=new Date(g*(c.X!==void 0?1e3:1));a.year=C.getFullYear(),a.month=C.getMonth()+1,a.day=C.getDate(),a.hour=C.getHours(),a.minute=C.getMinutes(),a.second=C.getSeconds(),a.millisecond=C.getMilliseconds()}else{if(c.YYYY!==void 0)a.year=parseInt(b[c.YYYY],10);else if(c.YY!==void 0){const g=parseInt(b[c.YY],10);a.year=g<0?g:2e3+g}if(c.M!==void 0){if(a.month=parseInt(b[c.M],10),a.month<1||a.month>12)return a}else c.MMM!==void 0?a.month=f.indexOf(b[c.MMM])+1:c.MMMM!==void 0&&(a.month=u.indexOf(b[c.MMMM])+1);if(c.D!==void 0){if(a.day=parseInt(b[c.D],10),a.year===null||a.month===null||a.day<1)return a;const g=l!=="persian"?new Date(a.year,a.month,0).getDate():Kt(a.year,a.month);if(a.day>g)return a}c.H!==void 0?a.hour=parseInt(b[c.H],10)%24:c.h!==void 0&&(a.hour=parseInt(b[c.h],10)%12,(c.A&&b[c.A]==="PM"||c.a&&b[c.a]==="pm"||c.aa&&b[c.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),c.m!==void 0&&(a.minute=parseInt(b[c.m],10)%60),c.s!==void 0&&(a.second=parseInt(b[c.s],10)%60),c.S!==void 0&&(a.millisecond=parseInt(b[c.S],10)*10**(3-b[c.S].length)),(c.Z!==void 0||c.ZZ!==void 0)&&(D=c.Z!==void 0?b[c.Z].replace(":",""):b[c.ZZ],a.timezoneOffset=(D[0]==="+"?-1:1)*(60*D.slice(1,3)+1*D.slice(3,5)))}return a.dateHash=se(a.year,6)+"/"+se(a.month)+"/"+se(a.day),a.timeHash=se(a.hour)+":"+se(a.minute)+":"+se(a.second)+D,a}function fi(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function vi(e,t){return va(new Date,e,t)}function mi(e){const t=new Date(e).getDay();return t===0?7:t}function Ut(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const l=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-l);const o=(t-n)/(sa*7);return 1+Math.floor(o)}function hi(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function wn(e,t){const n=new Date(e);return t===!0?hi(n):n.getTime()}function gi(e,t,n,l={}){const o=wn(t,l.onlyDate),a=wn(n,l.onlyDate),r=wn(e,l.onlyDate);return(r>o||l.inclusiveFrom===!0&&r===o)&&(r<a||l.inclusiveTo===!0&&r===a)}function yi(e,t){return On(e,t,1)}function pi(e,t){return On(e,t,-1)}function Re(e,t,n){const l=new Date(e),o=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":l[`${o}Month`](0);case"month":case"months":l[`${o}Date`](1);case"day":case"days":case"date":l[`${o}Hours`](0);case"hour":case"hours":l[`${o}Minutes`](0);case"minute":case"minutes":l[`${o}Seconds`](0);case"second":case"seconds":l[`${o}Milliseconds`](0)}return l}function bi(e,t,n){const l=new Date(e),o=`set${n===!0?"UTC":""}`;switch(t){case"year":case"years":l[`${o}Month`](11);case"month":case"months":l[`${o}Date`](zn(l));case"day":case"days":case"date":l[`${o}Hours`](23);case"hour":case"hours":l[`${o}Minutes`](59);case"minute":case"minutes":l[`${o}Seconds`](59);case"second":case"seconds":l[`${o}Milliseconds`](999)}return l}function Si(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(n=>{t=Math.max(t,new Date(n))}),t}function wi(e){let t=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(n=>{t=Math.min(t,new Date(n))}),t}function Wt(e,t,n){return(e.getTime()-e.getTimezoneOffset()*An-(t.getTime()-t.getTimezoneOffset()*An))/n}function $n(e,t,n="days"){const l=new Date(e),o=new Date(t);switch(n){case"years":case"year":return l.getFullYear()-o.getFullYear();case"months":case"month":return(l.getFullYear()-o.getFullYear())*12+l.getMonth()-o.getMonth();case"days":case"day":case"date":return Wt(Re(l,"day"),Re(o,"day"),sa);case"hours":case"hour":return Wt(Re(l,"hour"),Re(o,"hour"),oi);case"minutes":case"minute":return Wt(Re(l,"minute"),Re(o,"minute"),An);case"seconds":case"second":return Wt(Re(l,"second"),Re(o,"second"),1e3)}}function Zt(e){return $n(e,Re(e,"year"),"days")+1}function xi(e){return El(e)===!0?"date":typeof e=="number"?"number":"string"}function Ci(e,t,n){const l=new Date(e);if(t){const o=new Date(t);if(l<o)return o}if(n){const o=new Date(n);if(l>o)return o}return l}function Di(e,t,n){const l=new Date(e),o=new Date(t);if(n===void 0)return l.getTime()===o.getTime();switch(n){case"second":case"seconds":if(l.getSeconds()!==o.getSeconds())return!1;case"minute":case"minutes":if(l.getMinutes()!==o.getMinutes())return!1;case"hour":case"hours":if(l.getHours()!==o.getHours())return!1;case"day":case"days":case"date":if(l.getDate()!==o.getDate())return!1;case"month":case"months":if(l.getMonth()!==o.getMonth())return!1;case"year":case"years":if(l.getFullYear()!==o.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${n}`)}return!0}function zn(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function gt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const wl={YY(e,t,n){const l=this.YYYY(e,t,n)%100;return l>=0?se(l):"-"+se(Math.abs(l))},YYYY(e,t,n){return n!=null?n:e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return gt(e.getMonth()+1)},MM(e){return se(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return gt(this.Q(e))},D(e){return e.getDate()},Do(e){return gt(e.getDate())},DD(e){return se(e.getDate())},DDD(e){return Zt(e)},DDDo(e){return gt(Zt(e))},DDDD(e){return se(Zt(e),3)},d(e){return e.getDay()},do(e){return gt(e.getDay())},dd(e,t){return t.days[e.getDay()].slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Ut(e)},wo(e){return gt(Ut(e))},ww(e){return se(Ut(e))},H(e){return e.getHours()},HH(e){return se(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return se(this.h(e))},m(e){return e.getMinutes()},mm(e){return se(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return se(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return se(Math.floor(e.getMilliseconds()/10))},SSS(e){return se(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,t,n,l){const o=l==null?e.getTimezoneOffset():l;return Sl(o,":")},ZZ(e,t,n,l){const o=l==null?e.getTimezoneOffset():l;return Sl(o)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function ha(e,t,n,l,o){if(e!==0&&!e||e===1/0||e===-1/0)return;const a=new Date(e);if(isNaN(a))return;t===void 0&&(t=ca);const r=da(n,Tl.props);return t.replace(ii,(u,f)=>u in wl?wl[u](a,r,l,o):f===void 0?u:f.split("\\]").join("]"))}function _i(e){return El(e)===!0?new Date(e.getTime()):e}var xn={isValid:fi,extractDate:di,buildDate:vi,getDayOfWeek:mi,getWeekOfYear:Ut,isBetweenDates:gi,addToDate:yi,subtractFromDate:pi,adjustDate:va,startOfDate:Re,endOfDate:bi,getMaxDate:Si,getMinDate:wi,getDateDiff:$n,getDayOfYear:Zt,inferDateFormat:xi,getDateBetween:Ci,isSameDate:Di,daysInMonth:zn,formatDate:ha,clone:_i};const ut=20,Mi=["Calendar","Years","Months"],xl=e=>Mi.includes(e),Cn=e=>/^-?[\d]+\/[0-1]\d$/.test(e),yt=" \u2014 ";function Ue(e){return e.year+"/"+se(e.month)}var qi=Ve({name:"QDate",props:{...bl,...ia,...Ht,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...bl.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Cn},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Cn},navigationMaxYearMonth:{type:String,validator:Cn},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:xl}},emits:[...li,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:n}){const{proxy:l}=ye(),{$q:o}=l,a=Tt(e,o),{getCache:r}=Bn(),{tabindex:u,headerClass:f,getLocale:w,getCurrentDate:c}=ai(e,o);let b;const D=Ro(e),g=Yo(D),C=P(null),k=P(xt()),y=P(w()),E=m(()=>xt()),K=m(()=>w()),B=m(()=>c()),x=P(Ne(k.value,y.value)),z=P(e.defaultView),R=m(()=>o.lang.rtl===!0?"right":"left"),j=P(R.value),W=P(R.value),ie=x.value.year,ue=P(ie-ie%ut-(ie<0?ut:0)),le=P(null),ae=m(()=>{const i=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${i} q-date--${i}-${e.minimal===!0?"minimal":"standard"}`+(a.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),fe=m(()=>e.color||"primary"),Y=m(()=>e.textColor||"white"),U=m(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ee=m(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),H=m(()=>ee.value.filter(i=>typeof i=="string").map(i=>He(i,k.value,y.value)).filter(i=>i.dateHash!==null&&i.day!==null&&i.month!==null&&i.year!==null)),S=m(()=>{const i=d=>He(d,k.value,y.value);return ee.value.filter(d=>qa(d)===!0&&d.from!==void 0&&d.to!==void 0).map(d=>({from:i(d.from),to:i(d.to)})).filter(d=>d.from.dateHash!==null&&d.to.dateHash!==null&&d.from.dateHash<d.to.dateHash)}),V=m(()=>e.calendar!=="persian"?i=>new Date(i.year,i.month-1,i.day):i=>{const d=pl(i.year,i.month,i.day);return new Date(d.gy,d.gm-1,d.gd)}),L=m(()=>e.calendar==="persian"?Ke:(i,d,p)=>ha(new Date(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond),d===void 0?k.value:d,p===void 0?y.value:p,i.year,i.timezoneOffset)),v=m(()=>H.value.length+S.value.reduce((i,d)=>i+1+$n(V.value(d.to),V.value(d.from)),0)),M=m(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(le.value!==null){const p=le.value.init,A=V.value(p);return y.value.daysShort[A.getDay()]+", "+y.value.monthsShort[p.month-1]+" "+p.day+yt+"?"}if(v.value===0)return yt;if(v.value>1)return`${v.value} ${y.value.pluralDay}`;const i=H.value[0],d=V.value(i);return isNaN(d.valueOf())===!0?yt:y.value.headerTitle!==void 0?y.value.headerTitle(d,i):y.value.daysShort[d.getDay()]+", "+y.value.monthsShort[i.month-1]+" "+i.day}),N=m(()=>H.value.concat(S.value.map(d=>d.from)).sort((d,p)=>d.year-p.year||d.month-p.month)[0]),X=m(()=>H.value.concat(S.value.map(d=>d.to)).sort((d,p)=>p.year-d.year||p.month-d.month)[0]),J=m(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(v.value===0)return yt;if(v.value>1){const i=N.value,d=X.value,p=y.value.monthsShort;return p[i.month-1]+(i.year!==d.year?" "+i.year+yt+p[d.month-1]+" ":i.month!==d.month?yt+p[d.month-1]:"")+" "+d.year}return H.value[0].year}),q=m(()=>{const i=[o.iconSet.datetime.arrowLeft,o.iconSet.datetime.arrowRight];return o.lang.rtl===!0?i.reverse():i}),F=m(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):y.value.firstDayOfWeek),te=m(()=>{const i=y.value.daysShort,d=F.value;return d>0?i.slice(d,7).concat(i.slice(0,d)):i}),_=m(()=>{const i=x.value;return e.calendar!=="persian"?new Date(i.year,i.month,0).getDate():Kt(i.year,i.month)}),me=m(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),oe=m(()=>{if(e.navigationMinYearMonth===void 0)return null;const i=e.navigationMinYearMonth.split("/");return{year:parseInt(i[0],10),month:parseInt(i[1],10)}}),he=m(()=>{if(e.navigationMaxYearMonth===void 0)return null;const i=e.navigationMaxYearMonth.split("/");return{year:parseInt(i[0],10),month:parseInt(i[1],10)}}),we=m(()=>{const i={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return oe.value!==null&&oe.value.year>=x.value.year&&(i.year.prev=!1,oe.value.year===x.value.year&&oe.value.month>=x.value.month&&(i.month.prev=!1)),he.value!==null&&he.value.year<=x.value.year&&(i.year.next=!1,he.value.year===x.value.year&&he.value.month<=x.value.month&&(i.month.next=!1)),i}),Le=m(()=>{const i={};return H.value.forEach(d=>{const p=Ue(d);i[p]===void 0&&(i[p]=[]),i[p].push(d.day)}),i}),Ie=m(()=>{const i={};return S.value.forEach(d=>{const p=Ue(d.from),A=Ue(d.to);if(i[p]===void 0&&(i[p]=[]),i[p].push({from:d.from.day,to:p===A?d.to.day:void 0,range:d}),p<A){let T;const{year:Z,month:$}=d.from,Q=$<12?{year:Z,month:$+1}:{year:Z+1,month:1};for(;(T=Ue(Q))<=A;)i[T]===void 0&&(i[T]=[]),i[T].push({from:void 0,to:T===A?d.to.day:void 0,range:d}),Q.month++,Q.month>12&&(Q.year++,Q.month=1)}}),i}),Me=m(()=>{if(le.value===null)return;const{init:i,initHash:d,final:p,finalHash:A}=le.value,[T,Z]=d<=A?[i,p]:[p,i],$=Ue(T),Q=Ue(Z);if($!==pe.value&&Q!==pe.value)return;const ne={};return $===pe.value?(ne.from=T.day,ne.includeFrom=!0):ne.from=1,Q===pe.value?(ne.to=Z.day,ne.includeTo=!0):ne.to=_.value,ne}),pe=m(()=>Ue(x.value)),Xe=m(()=>{const i={};if(e.options===void 0){for(let p=1;p<=_.value;p++)i[p]=!0;return i}const d=typeof e.options=="function"?e.options:p=>e.options.includes(p);for(let p=1;p<=_.value;p++){const A=pe.value+"/"+se(p);i[p]=d(A)}return i}),wt=m(()=>{const i={};if(e.events===void 0)for(let d=1;d<=_.value;d++)i[d]=!1;else{const d=typeof e.events=="function"?e.events:p=>e.events.includes(p);for(let p=1;p<=_.value;p++){const A=pe.value+"/"+se(p);i[p]=d(A)===!0&&me.value(A)}}return i}),Je=m(()=>{let i,d;const{year:p,month:A}=x.value;if(e.calendar!=="persian")i=new Date(p,A-1,1),d=new Date(p,A-1,0).getDate();else{const T=pl(p,A,1);i=new Date(T.gy,T.gm-1,T.gd);let Z=A-1,$=p;Z===0&&(Z=12,$--),d=Kt($,Z)}return{days:i.getDay()-F.value-1,endDay:d}}),qe=m(()=>{const i=[],{days:d,endDay:p}=Je.value,A=d<0?d+7:d;if(A<6)for(let $=p-A;$<=p;$++)i.push({i:$,fill:!0});const T=i.length;for(let $=1;$<=_.value;$++){const Q={i:$,event:wt.value[$],classes:[]};Xe.value[$]===!0&&(Q.in=!0,Q.flat=!0),i.push(Q)}if(Le.value[pe.value]!==void 0&&Le.value[pe.value].forEach($=>{const Q=T+$-1;Object.assign(i[Q],{selected:!0,unelevated:!0,flat:!1,color:fe.value,textColor:Y.value})}),Ie.value[pe.value]!==void 0&&Ie.value[pe.value].forEach($=>{if($.from!==void 0){const Q=T+$.from-1,ne=T+($.to||_.value)-1;for(let Ae=Q;Ae<=ne;Ae++)Object.assign(i[Ae],{range:$.range,unelevated:!0,color:fe.value,textColor:Y.value});Object.assign(i[Q],{rangeFrom:!0,flat:!1}),$.to!==void 0&&Object.assign(i[ne],{rangeTo:!0,flat:!1})}else if($.to!==void 0){const Q=T+$.to-1;for(let ne=T;ne<=Q;ne++)Object.assign(i[ne],{range:$.range,unelevated:!0,color:fe.value,textColor:Y.value});Object.assign(i[Q],{flat:!1,rangeTo:!0})}else{const Q=T+_.value-1;for(let ne=T;ne<=Q;ne++)Object.assign(i[ne],{range:$.range,unelevated:!0,color:fe.value,textColor:Y.value})}}),Me.value!==void 0){const $=T+Me.value.from-1,Q=T+Me.value.to-1;for(let ne=$;ne<=Q;ne++)i[ne].color=fe.value,i[ne].editRange=!0;Me.value.includeFrom===!0&&(i[$].editRangeFrom=!0),Me.value.includeTo===!0&&(i[Q].editRangeTo=!0)}x.value.year===B.value.year&&x.value.month===B.value.month&&(i[T+B.value.day-1].today=!0);const Z=i.length%7;if(Z>0){const $=7-Z;for(let Q=1;Q<=$;Q++)i.push({i:Q,fill:!0})}return i.forEach($=>{let Q="q-date__calendar-item ";$.fill===!0?Q+="q-date__calendar-item--fill":(Q+=`q-date__calendar-item--${$.in===!0?"in":"out"}`,$.range!==void 0&&(Q+=` q-date__range${$.rangeTo===!0?"-to":$.rangeFrom===!0?"-from":""}`),$.editRange===!0&&(Q+=` q-date__edit-range${$.editRangeFrom===!0?"-from":""}${$.editRangeTo===!0?"-to":""}`),($.range!==void 0||$.editRange===!0)&&(Q+=` text-${$.color}`)),$.classes=Q}),i}),xe=m(()=>e.disable===!0?{"aria-disabled":"true"}:{});ce(()=>e.modelValue,i=>{if(b===JSON.stringify(i))b=0;else{const d=Ne(k.value,y.value);je(d.year,d.month,d)}}),ce(z,()=>{C.value!==null&&l.$el.contains(document.activeElement)===!0&&C.value.focus()}),ce(()=>x.value.year+"|"+x.value.month,()=>{n("navigation",{year:x.value.year,month:x.value.month})}),ce(E,i=>{lt(i,y.value,"mask"),k.value=i}),ce(K,i=>{lt(k.value,i,"locale"),y.value=i});function Oe(i){b=JSON.stringify(i)}function Ge(){const{year:i,month:d,day:p}=B.value,A={...x.value,year:i,month:d,day:p},T=Le.value[Ue(A)];(T===void 0||T.includes(A.day)===!1)&&Dt(A),et(A.year,A.month)}function ln(i){xl(i)===!0&&(z.value=i)}function Et(i,d){["month","year"].includes(i)&&(i==="month"?Bt:nt)(d===!0?-1:1)}function et(i,d){z.value="Calendar",je(i,d)}function an(i,d){if(e.range===!1||!i){le.value=null;return}const p=Object.assign({...x.value},i),A=d!==void 0?Object.assign({...x.value},d):p;le.value={init:p,initHash:Ke(p),final:A,finalHash:Ke(A)},et(p.year,p.month)}function xt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function He(i,d,p){return ma(i,d,p,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ne(i,d){const p=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(p.length===0)return tt();const A=p[p.length-1],T=He(A.from!==void 0?A.from:A,i,d);return T.dateHash===null?tt():T}function tt(){let i,d;if(e.defaultYearMonth!==void 0){const p=e.defaultYearMonth.split("/");i=parseInt(p[0],10),d=parseInt(p[1],10)}else{const p=B.value!==void 0?B.value:c();i=p.year,d=p.month}return{year:i,month:d,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:i+"/"+se(d)+"/01"}}function Bt(i){let d=x.value.year,p=Number(x.value.month)+i;p===13?(p=1,d++):p===0&&(p=12,d--),je(d,p),U.value===!0&&vt("month")}function nt(i){const d=Number(x.value.year)+i;je(d,x.value.month),U.value===!0&&vt("year")}function Ft(i){je(i,x.value.month),z.value=e.defaultView==="Years"?"Months":"Calendar",U.value===!0&&vt("year")}function It(i){je(x.value.year,i),z.value="Calendar",U.value===!0&&vt("month")}function Ot(i,d){const p=Le.value[d];(p!==void 0&&p.includes(i.day)===!0?mt:Dt)(i)}function $e(i){return{year:i.year,month:i.month,day:i.day}}function je(i,d,p){if(oe.value!==null&&i<=oe.value.year&&((d<oe.value.month||i<oe.value.year)&&(d=oe.value.month),i=oe.value.year),he.value!==null&&i>=he.value.year&&((d>he.value.month||i>he.value.year)&&(d=he.value.month),i=he.value.year),p!==void 0){const{hour:T,minute:Z,second:$,millisecond:Q,timezoneOffset:ne,timeHash:Ae}=p;Object.assign(x.value,{hour:T,minute:Z,second:$,millisecond:Q,timezoneOffset:ne,timeHash:Ae})}const A=i+"/"+se(d)+"/01";A!==x.value.dateHash&&(j.value=x.value.dateHash<A==(o.lang.rtl!==!0)?"left":"right",i!==x.value.year&&(W.value=j.value),Ce(()=>{ue.value=i-i%ut-(i<0?ut:0),Object.assign(x.value,{year:i,month:d,day:1,dateHash:A})}))}function Ct(i,d,p){const A=i!==null&&i.length===1&&e.multiple===!1?i[0]:i,{reason:T,details:Z}=$t(d,p);Oe(A),n("update:modelValue",A,T,Z)}function vt(i){const d=H.value[0]!==void 0&&H.value[0].dateHash!==null?{...H.value[0]}:{...x.value};Ce(()=>{d.year=x.value.year,d.month=x.value.month;const p=e.calendar!=="persian"?new Date(d.year,d.month,0).getDate():Kt(d.year,d.month);d.day=Math.min(Math.max(1,d.day),p);const A=We(d),{details:T}=$t("",d);Oe(A),n("update:modelValue",A,i,T)})}function $t(i,d){return d.from!==void 0?{reason:`${i}-range`,details:{...$e(d.target),from:$e(d.from),to:$e(d.to)}}:{reason:`${i}-day`,details:$e(d)}}function We(i,d,p){return i.from!==void 0?{from:L.value(i.from,d,p),to:L.value(i.to,d,p)}:L.value(i,d,p)}function Dt(i){let d;if(e.multiple===!0)if(i.from!==void 0){const p=Ke(i.from),A=Ke(i.to),T=H.value.filter($=>$.dateHash<p||$.dateHash>A),Z=S.value.filter(({from:$,to:Q})=>Q.dateHash<p||$.dateHash>A);d=T.concat(Z).concat(i).map($=>We($))}else{const p=ee.value.slice();p.push(We(i)),d=p}else d=We(i);Ct(d,"add",i)}function mt(i){if(e.noUnset===!0)return;let d=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const p=We(i);i.from!==void 0?d=e.modelValue.filter(A=>A.from!==void 0?A.from!==p.from&&A.to!==p.to:!0):d=e.modelValue.filter(A=>A!==p),d.length===0&&(d=null)}Ct(d,"remove",i)}function lt(i,d,p){const A=H.value.concat(S.value).map(Z=>We(Z,i,d)).filter(Z=>Z.from!==void 0?Z.from.dateHash!==null&&Z.to.dateHash!==null:Z.dateHash!==null),T=(e.multiple===!0?A:A[0])||null;Oe(T),n("update:modelValue",T,p)}function at(){if(e.minimal!==!0)return h("div",{class:"q-date__header "+f.value},[h("div",{class:"relative-position"},[h(Be,{name:"q-transition--fade"},()=>h("div",{key:"h-yr-"+J.value,class:"q-date__header-subtitle q-date__header-link "+(z.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...r("vY",{onClick(){z.value="Years"},onKeyup(i){i.keyCode===13&&(z.value="Years")}})},[J.value]))]),h("div",{class:"q-date__header-title relative-position flex no-wrap"},[h("div",{class:"relative-position col"},[h(Be,{name:"q-transition--fade"},()=>h("div",{key:"h-sub"+M.value,class:"q-date__header-title-label q-date__header-link "+(z.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...r("vC",{onClick(){z.value="Calendar"},onKeyup(i){i.keyCode===13&&(z.value="Calendar")}})},[M.value]))]),e.todayBtn===!0?h(Pe,{class:"q-date__header-today self-start",icon:o.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:Ge}):null])])}function ze({label:i,type:d,key:p,dir:A,goTo:T,boundaries:Z,cls:$}){return[h("div",{class:"row items-center q-date__arrow"},[h(Pe,{round:!0,dense:!0,size:"sm",flat:!0,icon:q.value[0],tabindex:u.value,disable:Z.prev===!1,...r("go-#"+d,{onClick(){T(-1)}})})]),h("div",{class:"relative-position overflow-hidden flex flex-center"+$},[h(Be,{name:"q-transition--jump-"+A},()=>h("div",{key:p},[h(Pe,{flat:!0,dense:!0,noCaps:!0,label:i,tabindex:u.value,...r("view#"+d,{onClick:()=>{z.value=d}})})]))]),h("div",{class:"row items-center q-date__arrow"},[h(Pe,{round:!0,dense:!0,size:"sm",flat:!0,icon:q.value[1],tabindex:u.value,disable:Z.next===!1,...r("go+#"+d,{onClick(){T(1)}})})])]}const on={Calendar:()=>[h("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[h("div",{class:"q-date__navigation row items-center no-wrap"},ze({label:y.value.months[x.value.month-1],type:"Months",key:x.value.month,dir:j.value,goTo:Bt,boundaries:we.value.month,cls:" col"}).concat(ze({label:x.value.year,type:"Years",key:x.value.year,dir:W.value,goTo:nt,boundaries:we.value.year,cls:""}))),h("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},te.value.map(i=>h("div",{class:"q-date__calendar-item"},[h("div",i)]))),h("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[h(Be,{name:"q-transition--slide-"+j.value},()=>h("div",{key:pe.value,class:"q-date__calendar-days fit"},qe.value.map(i=>h("div",{class:i.classes},[i.in===!0?h(Pe,{class:i.today===!0?"q-date__today":"",dense:!0,flat:i.flat,unelevated:i.unelevated,color:i.color,textColor:i.textColor,label:i.i,tabindex:u.value,...r("day#"+i.i,{onClick:()=>{un(i.i)},onMouseover:()=>{rn(i.i)}})},i.event!==!1?()=>h("div",{class:"q-date__event bg-"+i.event}):null):h("div",""+i.i)]))))])])],Months(){const i=x.value.year===B.value.year,d=A=>oe.value!==null&&x.value.year===oe.value.year&&oe.value.month>A||he.value!==null&&x.value.year===he.value.year&&he.value.month<A,p=y.value.monthsShort.map((A,T)=>{const Z=x.value.month===T+1;return h("div",{class:"q-date__months-item flex flex-center"},[h(Pe,{class:i===!0&&B.value.month===T+1?"q-date__today":null,flat:Z!==!0,label:A,unelevated:Z,color:Z===!0?fe.value:null,textColor:Z===!0?Y.value:null,tabindex:u.value,disable:d(T+1),...r("month#"+T,{onClick:()=>{It(T+1)}})})])});return e.yearsInMonthView===!0&&p.unshift(h("div",{class:"row no-wrap full-width"},[ze({label:x.value.year,type:"Years",key:x.value.year,dir:W.value,goTo:nt,boundaries:we.value.year,cls:" col"})])),h("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},p)},Years(){const i=ue.value,d=i+ut,p=[],A=T=>oe.value!==null&&oe.value.year>T||he.value!==null&&he.value.year<T;for(let T=i;T<=d;T++){const Z=x.value.year===T;p.push(h("div",{class:"q-date__years-item flex flex-center"},[h(Pe,{key:"yr"+T,class:B.value.year===T?"q-date__today":null,flat:!Z,label:T,dense:!0,unelevated:Z,color:Z===!0?fe.value:null,textColor:Z===!0?Y.value:null,tabindex:u.value,disable:A(T),...r("yr#"+T,{onClick:()=>{Ft(T)}})})]))}return h("div",{class:"q-date__view q-date__years flex flex-center"},[h("div",{class:"col-auto"},[h(Pe,{round:!0,dense:!0,flat:!0,icon:q.value[0],tabindex:u.value,disable:A(i),...r("y-",{onClick:()=>{ue.value-=ut}})})]),h("div",{class:"q-date__years-content col self-stretch row items-center"},p),h("div",{class:"col-auto"},[h(Pe,{round:!0,dense:!0,flat:!0,icon:q.value[1],tabindex:u.value,disable:A(d),...r("y+",{onClick:()=>{ue.value+=ut}})})])])}};function un(i){const d={...x.value,day:i};if(e.range===!1){Ot(d,pe.value);return}if(le.value===null){const p=qe.value.find(T=>T.fill!==!0&&T.i===i);if(e.noUnset!==!0&&p.range!==void 0){mt({target:d,from:p.range.from,to:p.range.to});return}if(p.selected===!0){mt(d);return}const A=Ke(d);le.value={init:d,initHash:A,final:d,finalHash:A},n("rangeStart",$e(d))}else{const p=le.value.initHash,A=Ke(d),T=p<=A?{from:le.value.init,to:d}:{from:d,to:le.value.init};le.value=null,Dt(p===A?d:{target:d,...T}),n("rangeEnd",{from:$e(T.from),to:$e(T.to)})}}function rn(i){if(le.value!==null){const d={...x.value,day:i};Object.assign(le.value,{final:d,finalHash:Ke(d)})}}return Object.assign(l,{setToday:Ge,setView:ln,offsetCalendar:Et,setCalendarTo:et,setEditingRange:an}),()=>{const i=[h("div",{class:"q-date__content col relative-position"},[h(Be,{name:"q-transition--fade"},on[z.value])])],d=_e(t.default);return d!==void 0&&i.push(h("div",{class:"q-date__actions"},d)),e.name!==void 0&&e.disable!==!0&&g(i,"push"),h("div",{class:ae.value,...xe.value},[at(),h("div",{ref:C,class:"q-date__main col column",tabindex:-1},i)])}}}),ki=Ve({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const l=ye(),o=P(null);let a=0;const r=[];function u(g){const C=typeof g=="boolean"?g:e.noErrorFocus!==!0,k=++a,y=(B,x)=>{n(`validation${B===!0?"Success":"Error"}`,x)},E=B=>{const x=B.validate();return typeof x.then=="function"?x.then(z=>({valid:z,comp:B}),z=>({valid:!1,comp:B,err:z})):Promise.resolve({valid:x,comp:B})};return(e.greedy===!0?Promise.all(r.map(E)).then(B=>B.filter(x=>x.valid!==!0)):r.reduce((B,x)=>B.then(()=>E(x).then(z=>{if(z.valid===!1)return Promise.reject(z)})),Promise.resolve()).catch(B=>[B])).then(B=>{if(B===void 0||B.length===0)return k===a&&y(!0),!0;if(k===a){const{comp:x,err:z}=B[0];if(z!==void 0&&console.error(z),y(!1,x),C===!0){const R=B.find(({comp:j})=>typeof j.focus=="function"&&Fl(j.$)===!1);R!==void 0&&R.comp.focus()}}return!1})}function f(){a++,r.forEach(g=>{typeof g.resetValidation=="function"&&g.resetValidation()})}function w(g){g!==void 0&&De(g);const C=a+1;u().then(k=>{C===a&&k===!0&&(e.onSubmit!==void 0?n("submit",g):g!==void 0&&g.target!==void 0&&typeof g.target.submit=="function"&&g.target.submit())})}function c(g){g!==void 0&&De(g),n("reset"),Ce(()=>{f(),e.autofocus===!0&&e.noResetFocus!==!0&&b()})}function b(){nn(()=>{if(o.value===null)return;const g=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),C=>C.tabIndex!==-1);g!=null&&g.focus({preventScroll:!0})})}ql(Vl,{bindComponent(g){r.push(g)},unbindComponent(g){const C=r.indexOf(g);C!==-1&&r.splice(C,1)}});let D=!1;return tn(()=>{D=!0}),Hn(()=>{D===!0&&e.autofocus===!0&&b()}),At(()=>{e.autofocus===!0&&b()}),Object.assign(l.proxy,{validate:u,resetValidation:f,submit:w,reset:c,focus:b,getValidationComponents:()=>r}),()=>h("form",{class:"q-form",ref:o,onSubmit:w,onReset:c},_e(t.default))}}),Vi={isoName:"ro",nativeName:"Rom\xE2n\u0103",label:{clear:"Gole\u0219te",ok:"OK",cancel:"Anuleaz\u0103",close:"\xCEnchide",set:"Seteaz\u0103",select:"Alege",reset:"Reseteaz\u0103",remove:"Elimin\u0103",update:"Actualizeaz\u0103",create:"Creeaz\u0103",search:"Caut\u0103",filter:"Filtreaz\u0103",refresh:"Actualizeaz\u0103",expand:e=>e?`Deschide\u021Bi "${e}"`:"Deschide",collapse:e=>e?`\xCEnchide "${e}"`:"\xCEnchide"},date:{days:"Duminic\u0103_Luni_Mar\u021Bi_Miercuri_Joi_Vineri_S\xE2mb\u0103t\u0103".split("_"),daysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xE2m".split("_"),months:"Ianuarie_Februarie_Martie_Aprilie_Mai_Iunie_Iulie_August_Septembrie_Octombrie_Noiembrie_Decembrie".split("_"),monthsShort:"Ian_Feb_Mar_Apr_Mai_Iun_Iul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:1,format24h:!0,pluralDay:"zile"},table:{noData:"Nu sunt date disponibile",noResults:"Nu am g\u0103sit \xEEnregistr\u0103ri care s\u0103 corespund\u0103",loading:"Se \xEEncarc\u0103...",selectedRecords:e=>e>1?e+" \xEEnregistr\u0103ri selectate.":(e===0?"Nici o":"1")+" \xEEnregistrare selectat\u0103.",recordsPerPage:"\xCEnregistr\u0103ri pe pagin\u0103:",allRows:"Toate",pagination:(e,t,n)=>e+"-"+t+" din "+n,columns:"Coloane"},editor:{url:"URL",bold:"\xCEngro\u0219at",italic:"\xCEnclinat",strikethrough:"T\u0103iat",underline:"Subliniat",unorderedList:"List\u0103 neordonat\u0103",orderedList:"List\u0103 ordonat\u0103",subscript:"Dedesubt",superscript:"Deasupra",hyperlink:"Hyperlink",toggleFullscreen:"Comut\u0103 ecran complet",quote:"Citat",left:"Aliniere la st\xE2nga",center:"Aliniere la centru",right:"Aliniere la dreapta",justify:"Aliniere total\u0103",print:"Tip\u0103re\u0219te",outdent:"Scade spa\u021Bierea",indent:"Cre\u0219te spa\u021Bierea",removeFormat:"\xCEndep\u0103rteaz\u0103 format\u0103rile",formatting:"Formatare",fontSize:"M\u0103rime font",align:"Aliniaz\u0103",hr:"Adaug\u0103 linie orizontal\u0103",undo:"Schimb\u0103 inapoi",redo:"Ref\u0103",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraf",code:"Cod",size1:"Foarte mic",size2:"Mic",size3:"Normal",size4:"Mediu-mare",size5:"Big",size6:"Foarte mare",size7:"Maxim",defaultFont:"Font implicit",viewSource:"Vizualizare surs\u0103"},tree:{noNodes:"Nu sunt date disponibile",noResults:"Nu am g\u0103sit noduri care s\u0103 corespund\u0103"}};const Ai={class:"booking-page"},Hi={key:2},Ti={key:3},Ei={key:1,style:{"font-style":"italic"}},Pi={__name:"Booking",setup(e){const{state:t}=ka(),n=P(""),l=P(""),o=P(""),a=P([]),r=Vi,u=P(0),f=[{label:"Intretinere gel (120 minute)",value:"intretinere_gel",duration:120},{label:"Pedichiura semipermanenta (60 minute)",value:"semi_permanenta_pedichiura",duration:60},{label:"Manichiura semipermanenta (60 minute)",value:"semi_permanenta_manichiura",duration:60},{label:"Manichiura clasica (30 minute)",value:"manichiura_clasica",duration:30},{label:"Pedichiura clasica (30 minute)",value:"pedichiura_clasica",duration:30}],w=P([{value:"madalina_artem",label:"Madalina Artem"},{value:"marius_alexandru",label:"Marius Alexandru"}]),c=P(""),b=Va({madalina_artem:{"2025-01-21":[{start:"13:30",end:"15:30",appointmentDetails:{label:"Intretinere gel (120 minute)",value:"intretinere_gel",duration:120}}],"2025-01-23":[{start:"13:30",end:"14:30",appointmentDetails:{label:"Pedichiura semipermanenta (60 minute)",value:"semi_permanenta_pedichiura",duration:60}},{start:"14:30",end:"16:30",appointmentDetails:{label:"Intretinere gel (120 minute)",value:"intretinere_gel",duration:120}}],"2025-01-28":[{start:"12:00",end:"13:00",appointmentDetails:{label:"Manichiura semipermanenta (60 minute)",value:"semi_permanenta_manichiura",duration:60}},{start:"16:00",end:"16:30",appointmentDetails:{label:"Manichiura clasica (30 minute)",value:"manichiura_clasica",duration:30}}],"2025-01-27":[{start:"13:00",end:"13:30",appointmentDetails:{label:"Manichiura clasica (30 minute)",value:"manichiura_clasica",duration:30}}]},marius_alexandru:{"2025-01-22":[{start:"13:30",end:"14:30",appointmentDetails:{label:"Pedichiura semipermanenta (60 minute)",value:"semi_permanenta_pedichiura",duration:60}}],"2025-01-23":[{start:"14:30",end:"16:30",appointmentDetails:{label:"Intretinere gel (120 minute)",value:"intretinere_gel",duration:120}}],"2025-01-24":[{start:"12:00",end:"13:00",appointmentDetails:{label:"Manichiura semipermanenta (60 minute)",value:"semi_permanenta_manichiura",duration:60}}]}}),D=P({name:"Madalina",email:"madalin@yahoo.com",phone:"0763234567",role:"owner"}),g=m(()=>{var H;return c?t.data.exeptionWeekendDays[(H=c.value)==null?void 0:H.value]:[]}),C=m(()=>t.data.disableDates),k=m(()=>t.data.scheduleModified),y=m(()=>f.map(H=>({label:H.label,value:H.value,duration:H.duration}))),E=m(()=>{var H,S,V;return((H=c.value)==null?void 0:H.value)&&o.value?((V=b[(S=c.value)==null?void 0:S.value][o.value])==null?void 0:V.sort((L,v)=>L.start.localeCompare(v.start)))||[]:[]}),K=H=>{var V;const S=R(H);return C.value[(V=c.value)==null?void 0:V.value].includes(S)},B=H=>{const S=H.getDay();return S===0||S===6},x=H=>{const S=new Date;S.setHours(0,0,0,0);const V=new Date(H);if(K(V)||V<S||B(V)&&!g.value.includes(R(V)))return!1;if(V.getTime()===S.getTime()){const L=new Date,v=new Date;return v.setHours(17,0,0,0),L<v}return!0},z=H=>{const S=new Date;S.setHours(0,0,0,0);const V=new Date;V.setDate(S.getDate()+1),V.setHours(0,0,0,0);const L=new Date;L.setDate(S.getDate()+2),L.setHours(0,0,0,0);const v=new Date(H);return K(v)||v>=S&&v<L||B(v)&&!g.value.includes(R(v))?!1:v>=S},R=H=>xn.formatDate(H,"YYYY-MM-DD"),j=(H,S)=>S==="owner"||S==="admin"?x(H):z(H),W=H=>j(H,D.value.role),ie=H=>{n.value=H,u.value=5},ue=()=>{var H;if(n.value="",l.value&&o.value&&c.value){u.value=4;const V=f.find(v=>{var M;return v.value===((M=l.value)==null?void 0:M.value)}).duration,L=b[(H=c.value)==null?void 0:H.value][o.value];a.value=le(V,L)}},le=(H,S)=>{var F;let V=10,L=17;const v=k.value[(F=c.value)==null?void 0:F.value][o.value];v&&(V=v.startHour,L=v.endHour);const M=[],N=new Date,X=o.value===N.toISOString().slice(0,10);let J=new Date;if(J.setHours(V,0,0,0),X){if(N.getHours()>=L)return[];J.setHours(N.getHours(),Math.ceil(N.getMinutes()/30)*30,0,0)}const q=new Date;for(q.setHours(L,0,0,0);J<q;){const te=new Date(J),_=new Date(J);if(_.setMinutes(te.getMinutes()+H),_>q)break;(S==null?void 0:S.some(oe=>{const he=ae(oe.start),we=ae(oe.end);return te<we&&_>he}))||!1||M.push(fe(te)),J.setMinutes(J.getMinutes()+30)}return M},ae=H=>{const[S,V]=H.split(":").map(Number),L=new Date;return L.setHours(S,V,0,0),L},fe=H=>H.toTimeString().slice(0,5);function Y(H){u.value=3,c.value=H,o.value="",ue()}function U(H){l.value=H,u.value=2,ue()}function ee(){var v,M,N,X,J,q,F;const H=`${o.value}T${n.value}:00`,S=xn.addToDate(H,{minutes:l.value.duration}),V=xn.formatDate(S,"HH:mm"),L={start:n.value,end:V,date:o.value,appointmentDetails:{label:(v=l.value)==null?void 0:v.label,value:(M=l.value)==null?void 0:M.value,duration:(N=l.value)==null?void 0:N.duration}};b[(X=c.value)==null?void 0:X.value][o.value]=(q=b[(J=c.value)==null?void 0:J.value][o.value])!=null?q:[],b[(F=c.value)==null?void 0:F.value][o.value].unshift(L),n.value="",ue()}return(H,S)=>(Te(),ot("div",Ai,[it(Ga,{style:{"max-width":"80%",margin:"0 auto"},modelValue:u.value,"onUpdate:modelValue":S[0]||(S[0]=V=>u.value=V),ref:"stepper",animated:"",flat:"","done-color":"green","inactive-color":"grey"},{navigation:Mt(()=>S[6]||(S[6]=[])),default:Mt(()=>[it(Rt,{name:1,prefix:"1",title:"Selecteaza serviciu",done:u.value>1},null,8,["done"]),it(Rt,{name:2,prefix:"2",title:"Selecteaza persoana",done:u.value>2},null,8,["done"]),it(Rt,{name:3,title:"Selecteaza data",prefix:"3",done:u.value>3},null,8,["done"]),it(Rt,{name:4,title:"Selecteaza ora",prefix:"4",done:u.value>4},null,8,["done"])]),_:1},8,["modelValue"]),it(ki,{style:{"max-width":"500px",margin:"0 auto",display:"flex","flex-direction":"column",gap:"30px"}},{default:Mt(()=>{var V;return[it(yl,{modelValue:l.value,"onUpdate:modelValue":[S[1]||(S[1]=L=>l.value=L),S[2]||(S[2]=L=>U(L))],options:y.value,label:"Selecteaza serviciu","option-value":"value","option-label":"label"},null,8,["modelValue","options"]),l.value?(Te(),zt(yl,{key:0,modelValue:c.value,"onUpdate:modelValue":[S[3]||(S[3]=L=>c.value=L),S[4]||(S[4]=L=>Y(L))],options:w.value,label:"Selecteaza persoana","option-value":"value","option-label":"label"},null,8,["modelValue","options"])):Pt("",!0),(V=c.value)!=null&&V.value?(Te(),zt(qi,{key:1,class:"full-width",modelValue:o.value,"onUpdate:modelValue":[S[5]||(S[5]=L=>o.value=L),ue],label:"Select Date",landscape:"",hint:"Choose the date for your appointment",mask:"YYYY-MM-DD",locale:Aa(r).date,options:W},null,8,["modelValue","locale"])):Pt("",!0),E.value.length&&(D.value.role==="owner"||D.value.role==="admin")?(Te(),ot("div",Hi,[S[7]||(S[7]=vn("h6",{style:{margin:"0"}},"Programari existente",-1)),vn("div",null,[(Te(!0),ot(jn,null,Wn(E.value,({start:L,end:v,appointmentDetails:M})=>(Te(),ot("div",{key:L+v},[vn("span",null,Kn(`${L}-${v} - ${M.label}`),1)]))),128))])])):Pt("",!0),o.value?(Te(),ot("div",Ti,[(Te(!0),ot(jn,null,Wn(a.value,L=>(Te(),zt(Ul,{key:L,outline:n.value!==L,"onUpdate:selected":()=>ie(L),clickable:"",color:"primary","text-color":"white"},{default:Mt(()=>[Qn(Kn(L),1)]),_:2},1032,["outline","onUpdate:selected"]))),128)),a.value.length?(Te(),zt(Pe,{key:0,disable:!n.value,class:"full-width",style:{"margin-top":"15px"},"no-caps":"",dense:"",color:"green",rounded:"",onClick:ee},{default:Mt(()=>S[8]||(S[8]=[Qn("Salveaza programarea ")])),_:1},8,["disable"])):(Te(),ot("span",Ei,"Nu exista ora disponibila pentru data selectata !"))])):Pt("",!0)]}),_:1})]))}};export{Pi as default};
